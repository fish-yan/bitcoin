/*! For license information please see bitcoin.js.LICENSE.txt */
var bitcoin;(()=>{var __webpack_modules__={222:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.curve25519=e.getSharedSecret=e.sync=e.verify=e.sign=e.getPublicKey=e.Signature=e.Point=e.RistrettoPoint=e.ExtendedPoint=e.CURVE=void 0;const n=r(3094),i=BigInt(0),s=BigInt(1),o=BigInt(2),a=BigInt(8),u=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),c=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:u,n:u,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});e.CURVE=c;const f=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),h=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),l=(BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235")),d=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),p=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),g=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class y{constructor(t,e,r,n){this.x=t,this.y=e,this.z=r,this.t=n}static fromAffine(t){if(!(t instanceof x))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(x.ZERO)?y.ZERO:new y(t.x,t.y,s,C(t.x*t.y))}static toAffineBatch(t){const e=function(t,e=c.P){const r=new Array(t.length),n=M(t.reduce(((t,n,s)=>n===i?t:(r[s]=t,C(t*n,e))),s),e);return t.reduceRight(((t,n,s)=>n===i?t:(r[s]=C(t*r[s],e),C(t*n,e))),n),r}(t.map((t=>t.z)));return t.map(((t,r)=>t.toAffine(e[r])))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){b(t);const{x:e,y:r,z:n}=this,{x:i,y:s,z:o}=t,a=C(e*o),u=C(i*n),c=C(r*o),f=C(s*n);return a===u&&c===f}negate(){return new y(C(-this.x),this.y,this.z,C(-this.t))}double(){const{x:t,y:e,z:r}=this,{a:n}=c,i=C(t*t),s=C(e*e),a=C(o*C(r*r)),u=C(n*i),f=t+e,h=C(C(f*f)-i-s),l=u+s,d=l-a,p=u-s,g=C(h*d),m=C(l*p),b=C(h*p),v=C(d*l);return new y(g,m,v,b)}add(t){b(t);const{x:e,y:r,z:n,t:s}=this,{x:a,y:u,z:c,t:f}=t,h=C((r-e)*(u+a)),l=C((r+e)*(u-a)),d=C(l-h);if(d===i)return this.double();const p=C(n*o*f),g=C(s*o*c),m=g+p,v=l+h,w=g-p,S=C(m*d),E=C(v*w),x=C(m*w),_=C(d*v);return new y(S,E,_,x)}subtract(t){return this.add(t.negate())}precomputeWindow(t){const e=1+256/t,r=[];let n=this,i=n;for(let s=0;s<e;s++){i=n,r.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(t,e){!e&&this.equals(y.BASE)&&(e=x.BASE);const r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=e&&E.get(e);n||(n=this.precomputeWindow(r),e&&1!==r&&(n=y.normalizeZ(n),E.set(e,n)));let i=y.ZERO,o=y.BASE;const a=1+256/r,u=2**(r-1),c=BigInt(2**r-1),f=2**r,h=BigInt(r);for(let e=0;e<a;e++){const r=e*u;let a=Number(t&c);t>>=h,a>u&&(a-=f,t+=s);const l=r,d=r+Math.abs(a)-1,p=e%2!=0,g=a<0;0===a?o=o.add(m(p,n[l])):i=i.add(m(g,n[d]))}return y.normalizeZ([i,o])[0]}multiply(t,e){return this.wNAF(V(t,c.l),e)}multiplyUnsafe(t){let e=V(t,c.l,!1);const r=y.BASE,n=y.ZERO;if(e===i)return n;if(this.equals(n)||e===s)return this;if(this.equals(r))return this.wNAF(e);let o=n,a=this;for(;e>i;)e&s&&(o=o.add(a)),a=a.double(),e>>=s;return o}isSmallOrder(){return this.multiplyUnsafe(c.h).equals(y.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(c.l/o).double();return c.l%o&&(t=t.add(this)),t.equals(y.ZERO)}toAffine(t){const{x:e,y:r,z:n}=this,i=this.equals(y.ZERO);null==t&&(t=i?a:M(n));const o=C(e*t),u=C(r*t),c=C(n*t);if(i)return x.ZERO;if(c!==s)throw new Error("invZ was invalid");return new x(o,u)}fromRistrettoBytes(){w()}toRistrettoBytes(){w()}fromRistrettoHash(){w()}}function m(t,e){const r=e.negate();return t?r:e}function b(t){if(!(t instanceof y))throw new TypeError("ExtendedPoint expected")}function v(t){if(!(t instanceof S))throw new TypeError("RistrettoPoint expected")}function w(){throw new Error("Legacy method: switch to RistrettoPoint")}e.ExtendedPoint=y,y.BASE=new y(c.Gx,c.Gy,s,C(c.Gx*c.Gy)),y.ZERO=new y(i,s,s,i);class S{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){const{d:e}=c,r=C(h*t*t),n=C((r+s)*p);let i=BigInt(-1);const o=C((i-e*r)*C(r+e));let{isValid:a,value:u}=j(n,o),f=C(u*t);k(f)||(f=C(-f)),a||(u=f),a||(i=r);const d=C(i*(r-s)*g-o),m=u*u,b=C((u+u)*o),v=C(d*l),w=C(s-m),S=C(s+m);return new y(C(b*S),C(w*v),C(v*S),C(b*w))}static hashToCurve(t){const e=N((t=K(t,64)).slice(0,32)),r=this.calcElligatorRistrettoMap(e),n=N(t.slice(32,64)),i=this.calcElligatorRistrettoMap(n);return new S(r.add(i))}static fromHex(t){t=K(t,32);const{a:e,d:r}=c,n="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",o=N(t);if(!function(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}(B(o),t)||k(o))throw new Error(n);const a=C(o*o),u=C(s+e*a),f=C(s-e*a),h=C(u*u),l=C(f*f),d=C(e*r*h-l),{isValid:p,value:g}=L(C(d*l)),m=C(g*f),b=C(g*m*d);let v=C((o+o)*m);k(v)&&(v=C(-v));const w=C(u*b),E=C(v*w);if(!p||k(E)||w===i)throw new Error(n);return new S(new y(v,w,s,E))}toRawBytes(){let{x:t,y:e,z:r,t:n}=this.ep;const i=C(C(r+e)*C(r-e)),s=C(t*e),o=C(s*s),{value:a}=L(C(i*o)),u=C(a*i),c=C(a*s),f=C(u*c*n);let l;if(k(n*f)){let r=C(e*h),n=C(t*h);t=r,e=n,l=C(u*d)}else l=c;k(t*f)&&(e=C(-e));let p=C((r-e)*l);return k(p)&&(p=C(-p)),B(p)}toHex(){return I(this.toRawBytes())}toString(){return this.toHex()}equals(t){v(t);const e=this.ep,r=t.ep,n=C(e.x*r.y)===C(e.y*r.x),i=C(e.y*r.y)===C(e.x*r.x);return n||i}add(t){return v(t),new S(this.ep.add(t.ep))}subtract(t){return v(t),new S(this.ep.subtract(t.ep))}multiply(t){return new S(this.ep.multiply(t))}multiplyUnsafe(t){return new S(this.ep.multiplyUnsafe(t))}}e.RistrettoPoint=S,S.BASE=new S(y.BASE),S.ZERO=new S(y.ZERO);const E=new WeakMap;class x{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,E.delete(this)}static fromHex(t,e=!0){const{d:r,P:n}=c,i=(t=K(t,32)).slice();i[31]=-129&t[31];const o=F(i);if(e&&o>=n)throw new Error("Expected 0 < hex < P");if(!e&&o>=f)throw new Error("Expected 0 < hex < 2**256");const a=C(o*o),u=C(a-s),h=C(r*a+s);let{isValid:l,value:d}=j(u,h);if(!l)throw new Error("Point.fromHex: invalid y coordinate");const p=(d&s)===s;return 0!=(128&t[31])!==p&&(d=C(-d)),new x(d,o)}static async fromPrivateKey(t){return(await X(t)).point}toRawBytes(){const t=B(this.y);return t[31]|=this.x&s?128:0,t}toHex(){return I(this.toRawBytes())}toX25519(){const{y:t}=this;return B(C((s+t)*M(s-t)))}isTorsionFree(){return y.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new x(C(-this.x),this.y)}add(t){return y.fromAffine(this).add(y.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return y.fromAffine(this).multiply(t,this).toAffine()}}e.Point=x,x.BASE=new x(c.Gx,c.Gy),x.ZERO=new x(i,s);class _{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=K(t,64),r=x.fromHex(e.slice(0,32),!1),n=F(e.slice(32,64));return new _(r,n)}assertValidity(){const{r:t,s:e}=this;if(!(t instanceof x))throw new Error("Expected Point instance");return V(e,c.l,!1),this}toRawBytes(){const t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(B(this.s),32),t}toHex(){return I(this.toRawBytes())}}function A(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Expected Uint8Array list");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r}e.Signature=_;const P=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function I(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=P[t[r]];return e}function T(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function O(t){return T(t.toString(16).padStart(64,"0"))}function B(t){return O(t).reverse()}function k(t){return(C(t)&s)===s}function F(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+I(Uint8Array.from(t).reverse()))}const R=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function N(t){return C(F(t)&R)}function C(t,e=c.P){const r=t%e;return r>=i?r:e+r}function M(t,e=c.P){if(t===i||e<=i)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=C(t,e),n=e,o=i,a=s,u=s,f=i;for(;r!==i;){const t=n/r,e=n%r,i=o-u*t,s=a-f*t;n=r,r=e,o=u,a=f,u=i,f=s}if(n!==s)throw new Error("invert: does not exist");return C(o,e)}function D(t,e){const{P:r}=c;let n=t;for(;e-- >i;)n*=n,n%=r;return n}function H(t){const{P:e}=c,r=BigInt(5),n=BigInt(10),i=BigInt(20),a=BigInt(40),u=BigInt(80),f=t*t%e*t%e,h=D(f,o)*f%e,l=D(h,s)*t%e,d=D(l,r)*l%e,p=D(d,n)*d%e,g=D(p,i)*p%e,y=D(g,a)*g%e,m=D(y,u)*y%e,b=D(m,u)*y%e,v=D(b,n)*d%e;return{pow_p_5_8:D(v,o)*t%e,b2:f}}function j(t,e){const r=C(e*e*e),n=C(r*r*e);let i=C(t*r*H(t*n).pow_p_5_8);const s=C(e*i*i),o=i,a=C(i*h),u=s===t,c=s===C(-t),f=s===C(-t*h);return u&&(i=o),(c||f)&&(i=a),k(i)&&(i=C(-i)),{isValid:u||c,value:i}}function L(t){return j(s,t)}function U(t){return C(F(t),c.l)}function K(t,e){const r=t instanceof Uint8Array?Uint8Array.from(t):T(t);if("number"==typeof e&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function V(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if("number"==typeof t&&Number.isSafeInteger(t)&&(t=BigInt(t)),"bigint"==typeof t&&t<e)if(r){if(i<t)return t}else if(i<=t)return t;throw new TypeError("Expected valid scalar: 0 < scalar < max")}function q(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function z(t){if(32!==(t="bigint"==typeof t||"number"==typeof t?O(V(t,f)):K(t)).length)throw new Error("Expected 32 bytes");return t}function W(t){const e=q(t.slice(0,32)),r=t.slice(32,64),n=U(e),i=x.BASE.multiply(n),s=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:s}}let G;function $(...t){if("function"!=typeof G)throw new Error("utils.sha512Sync must be set to use sync methods");return G(...t)}async function X(t){return W(await e.utils.sha512(z(t)))}function J(t){return W($(z(t)))}function Z(t,e,r){e=K(e),r instanceof x||(r=x.fromHex(r,!1));const{r:n,s:i}=t instanceof _?t.assertValidity():_.fromHex(t);return{r:n,s:i,SB:y.BASE.multiplyUnsafe(i),pub:r,msg:e}}function Y(t,e,r,n){const i=U(n),s=y.fromAffine(t).multiplyUnsafe(i);return y.fromAffine(e).add(s).subtract(r).multiplyUnsafe(c.h).equals(y.ZERO)}function Q(t,e,r){const n=C(t*(e-r));return[e=C(e-n),r=C(r+n)]}e.getPublicKey=async function(t){return(await X(t)).pointBytes},e.sign=async function(t,r){t=K(t);const{prefix:n,scalar:i,pointBytes:s}=await X(r),o=U(await e.utils.sha512(n,t)),a=x.BASE.multiply(o),u=C(o+U(await e.utils.sha512(a.toRawBytes(),s,t))*i,c.l);return new _(a,u).toRawBytes()},e.verify=async function(t,r,n){const{r:i,SB:s,msg:o,pub:a}=Z(t,r,n),u=await e.utils.sha512(i.toRawBytes(),a.toRawBytes(),o);return Y(a,i,s,u)},e.sync={getExtendedPublicKey:J,getPublicKey:function(t){return J(t).pointBytes},sign:function(t,e){t=K(t);const{prefix:r,scalar:n,pointBytes:i}=J(e),s=U($(r,t)),o=x.BASE.multiply(s),a=C(s+U($(o.toRawBytes(),i,t))*n,c.l);return new _(o,a).toRawBytes()},verify:function(t,e,r){const{r:n,SB:i,msg:s,pub:o}=Z(t,e,r),a=$(n.toRawBytes(),o.toRawBytes(),s);return Y(o,n,i,a)}},e.getSharedSecret=async function(t,r){const{head:n}=await X(t),i=x.fromHex(r).toX25519();return e.curve25519.scalarMult(n,i)},x.BASE._setWindowSize(8),e.curve25519={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(t,e){const r=function(t,e){const{P:r}=c,n=V(t,r),o=V(e,r),a=BigInt(121665),u=n;let f,h=s,l=i,d=n,p=s,g=i;for(let t=BigInt(254);t>=i;t--){const e=o>>t&s;g^=e,f=Q(g,h,d),h=f[0],d=f[1],f=Q(g,l,p),l=f[0],p=f[1],g=e;const r=h+l,n=C(r*r),i=h-l,c=C(i*i),y=n-c,m=d+p,b=C((d-p)*r),v=C(m*i),w=b+v,S=b-v;d=C(w*w),p=C(u*C(S*S)),h=C(n*c),l=C(y*(n+C(a*y)))}f=Q(g,h,d),h=f[0],d=f[1],f=Q(g,l,p),l=f[0],p=f[1];const{pow_p_5_8:y,b2:m}=H(l),b=C(D(y,BigInt(3))*m);return C(h*b)}(function(t){const e=K(t,32);return e[31]&=127,F(e)}(e),F(q(K(t,32))));if(r===i)throw new Error("Invalid private or public key received");return B(C(r,c.P))},scalarMultBase:t=>e.curve25519.scalarMult(t,e.curve25519.BASE_POINT_U)};const tt={node:n,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0};e.utils={bytesToHex:I,hexToBytes:T,concatBytes:A,getExtendedPublicKey:X,mod:C,invert:M,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if((t=K(t)).length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return C(F(t),c.l-s)+s},randomBytes:(t=32)=>{if(tt.web)return tt.web.getRandomValues(new Uint8Array(t));if(tt.node){const{randomBytes:e}=tt.node;return new Uint8Array(e(t).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>e.utils.randomBytes(32),sha512:async(...t)=>{const e=A(...t);if(tt.web){const t=await tt.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}if(tt.node)return Uint8Array.from(tt.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")},precompute(t=8,e=x.BASE){const r=e.equals(x.BASE)?e:new x(e.x,e.y);return r._setWindowSize(t),r.multiply(o),r},sha512Sync:void 0},Object.defineProperties(e.utils,{sha512Sync:{configurable:!1,get:()=>G,set(t){G||(G=t)}}})},7395:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BLAKE2=e.SIGMA=void 0;const n=r(8089);e.SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class i extends n.Hash{constructor(t,e,r={},i,s,o){if(super(),this.blockLen=t,this.outputLen=e,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,(0,n.assertNumber)(t),(0,n.assertNumber)(e),(0,n.assertNumber)(i),e<0||e>i)throw new Error("Blake2: outputLen bigger than keyLen");if(void 0!==r.key&&(r.key.length<1||r.key.length>i))throw new Error(`Key should be up 1..${i} byte long or undefined`);if(void 0!==r.salt&&r.salt.length!==s)throw new Error(`Salt should be ${s} byte long or undefined`);if(void 0!==r.personalization&&r.personalization.length!==o)throw new Error(`Personalization should be ${o} byte long or undefined`);this.buffer32=(0,n.u32)(this.buffer=new Uint8Array(t))}update(t){if(this.destroyed)throw new Error("instance is destroyed");const{finished:e,blockLen:r,buffer:i,buffer32:s}=this;if(e)throw new Error("digest() was already called");const o=(t=(0,n.toBytes)(t)).length;for(let e=0;e<o;){this.pos===r&&(this.compress(s,0,!1),this.pos=0);const n=Math.min(r-this.pos,o-e),a=t.byteOffset+e;if(n!==r||a%4||!(e+n<o))i.set(t.subarray(e,e+n),this.pos),this.pos+=n,this.length+=n,e+=n;else{const n=new Uint32Array(t.buffer,a,Math.floor((o-e)/4));for(let t=0;e+r<o;t+=s.length,e+=r)this.length+=r,this.compress(n,t,!1)}}return this}digestInto(t){if(this.destroyed)throw new Error("instance is destroyed");if(!(t instanceof Uint8Array)||t.length<this.outputLen)throw new Error("_Blake2: Invalid output buffer");const{finished:e,pos:r,buffer32:i}=this;if(e)throw new Error("digest() was already called");this.finished=!0,this.buffer.subarray(r).fill(0),this.compress(i,0,!0);const s=(0,n.u32)(t);this.get().forEach(((t,e)=>s[e]=t))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){const{buffer:e,length:r,finished:n,destroyed:i,outputLen:s,pos:o}=this;return t||(t=new this.constructor({dkLen:s})),t.set(...this.get()),t.length=r,t.finished=n,t.destroyed=i,t.outputLen=s,t.buffer.set(e),t.pos=o,t}}e.BLAKE2=i},7505:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHA2=void 0;const n=r(8089);class i extends n.Hash{constructor(t,e,r,i){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,n.createView)(this.buffer)}update(t){if(this.destroyed)throw new Error("instance is destroyed");const{view:e,buffer:r,blockLen:i,finished:s}=this;if(s)throw new Error("digest() was already called");const o=(t=(0,n.toBytes)(t)).length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a!==i)r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(e,0),this.pos=0);else{const e=(0,n.createView)(t);for(;i<=o-s;s+=i)this.process(e,s)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){if(this.destroyed)throw new Error("instance is destroyed");if(!(t instanceof Uint8Array)||t.length<this.outputLen)throw new Error("_Sha2: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0;const{buffer:e,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;e[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let t=o;t<i;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}(r,i-8,BigInt(8*this.length),s),this.process(r,0);const a=(0,n.createView)(t);this.get().forEach(((t,e)=>a.setUint32(4*e,t,s)))}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return t.length=n,t.pos=o,t.finished=i,t.destroyed=s,n%e&&t.buffer.set(r),t}}e.SHA2=i},6873:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.add5H=e.add5L=e.add4H=e.add4L=e.add3H=e.add3L=e.add=e.rotlBL=e.rotlBH=e.rotlSL=e.rotlSH=e.rotr32L=e.rotr32H=e.rotrBL=e.rotrBH=e.rotrSL=e.rotrSH=e.shrSL=e.shrSH=e.toBig=e.split=e.fromBig=void 0;const r=BigInt(2**32-1),n=BigInt(32);function i(t,e=!1){return e?{h:Number(t&r),l:Number(t>>n&r)}:{h:0|Number(t>>n&r),l:0|Number(t&r)}}e.fromBig=i,e.split=function(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:o,l:a}=i(t[s],e);[r[s],n[s]]=[o,a]}return[r,n]},e.toBig=(t,e)=>BigInt(t>>>0)<<n|BigInt(e>>>0),e.shrSH=(t,e,r)=>t>>>r,e.shrSL=(t,e,r)=>t<<32-r|e>>>r,e.rotrSH=(t,e,r)=>t>>>r|e<<32-r,e.rotrSL=(t,e,r)=>t<<32-r|e>>>r,e.rotrBH=(t,e,r)=>t<<64-r|e>>>r-32,e.rotrBL=(t,e,r)=>t>>>r-32|e<<64-r,e.rotr32H=(t,e)=>e,e.rotr32L=(t,e)=>t,e.rotlSH=(t,e,r)=>t<<r|e>>>32-r,e.rotlSL=(t,e,r)=>e<<r|t>>>32-r,e.rotlBH=(t,e,r)=>e<<r-32|t>>>64-r,e.rotlBL=(t,e,r)=>t<<r-32|e>>>64-r,e.add=function(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}},e.add3L=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),e.add3H=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,e.add4L=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),e.add4H=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,e.add5L=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),e.add5H=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0},3803:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.blake2b=void 0;const o=s(r(7395)),a=s(r(6873)),u=r(8089),c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),f=new Uint32Array(32);function h(t,e,r,n,i,s){const o=i[s],u=i[s+1];let c=f[2*t],h=f[2*t+1],l=f[2*e],d=f[2*e+1],p=f[2*r],g=f[2*r+1],y=f[2*n],m=f[2*n+1],b=a.add3L(c,l,o);h=a.add3H(b,h,d,u),c=0|b,({Dh:m,Dl:y}={Dh:m^h,Dl:y^c}),({Dh:m,Dl:y}={Dh:a.rotr32H(m,y),Dl:a.rotr32L(m,y)}),({h:g,l:p}=a.add(g,p,m,y)),({Bh:d,Bl:l}={Bh:d^g,Bl:l^p}),({Bh:d,Bl:l}={Bh:a.rotrSH(d,l,24),Bl:a.rotrSL(d,l,24)}),f[2*t]=c,f[2*t+1]=h,f[2*e]=l,f[2*e+1]=d,f[2*r]=p,f[2*r+1]=g,f[2*n]=y,f[2*n+1]=m}function l(t,e,r,n,i,s){const o=i[s],u=i[s+1];let c=f[2*t],h=f[2*t+1],l=f[2*e],d=f[2*e+1],p=f[2*r],g=f[2*r+1],y=f[2*n],m=f[2*n+1],b=a.add3L(c,l,o);h=a.add3H(b,h,d,u),c=0|b,({Dh:m,Dl:y}={Dh:m^h,Dl:y^c}),({Dh:m,Dl:y}={Dh:a.rotrSH(m,y,16),Dl:a.rotrSL(m,y,16)}),({h:g,l:p}=a.add(g,p,m,y)),({Bh:d,Bl:l}={Bh:d^g,Bl:l^p}),({Bh:d,Bl:l}={Bh:a.rotrBH(d,l,63),Bl:a.rotrBL(d,l,63)}),f[2*t]=c,f[2*t+1]=h,f[2*e]=l,f[2*e+1]=d,f[2*r]=p,f[2*r+1]=g,f[2*n]=y,f[2*n+1]=m}class d extends o.BLAKE2{constructor(t={}){super(128,void 0===t.dkLen?64:t.dkLen,t,64,16,16),this.v0l=0|c[0],this.v0h=0|c[1],this.v1l=0|c[2],this.v1h=0|c[3],this.v2l=0|c[4],this.v2h=0|c[5],this.v3l=0|c[6],this.v3h=0|c[7],this.v4l=0|c[8],this.v4h=0|c[9],this.v5l=0|c[10],this.v5h=0|c[11],this.v6l=0|c[12],this.v6h=0|c[13],this.v7l=0|c[14],this.v7h=0|c[15];const e=t.key?t.key.length:0;if(this.v0l^=this.outputLen|e<<8|65536|1<<24,t.salt){const e=(0,u.u32)((0,u.toBytes)(t.salt));this.v4l^=e[0],this.v4h^=e[1],this.v5l^=e[2],this.v5h^=e[3]}if(t.personalization){const e=(0,u.u32)((0,u.toBytes)(t.personalization));this.v6l^=e[0],this.v6h^=e[1],this.v7l^=e[2],this.v7h^=e[3]}if(t.key){const e=new Uint8Array(this.blockLen);e.set((0,u.toBytes)(t.key)),this.update(e)}}get(){let{v0l:t,v0h:e,v1l:r,v1h:n,v2l:i,v2h:s,v3l:o,v3h:a,v4l:u,v4h:c,v5l:f,v5h:h,v6l:l,v6h:d,v7l:p,v7h:g}=this;return[t,e,r,n,i,s,o,a,u,c,f,h,l,d,p,g]}set(t,e,r,n,i,s,o,a,u,c,f,h,l,d,p,g){this.v0l=0|t,this.v0h=0|e,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|s,this.v3l=0|o,this.v3h=0|a,this.v4l=0|u,this.v4h=0|c,this.v5l=0|f,this.v5h=0|h,this.v6l=0|l,this.v6h=0|d,this.v7l=0|p,this.v7h=0|g}compress(t,e,r){this.get().forEach(((t,e)=>f[e]=t)),f.set(c,16);let{h:n,l:i}=a.fromBig(BigInt(this.length));f[24]=c[8]^i,f[25]=c[9]^n,r&&(f[28]=~f[28],f[29]=~f[29]);let s=0;const u=o.SIGMA;for(let r=0;r<12;r++)h(0,4,8,12,t,e+2*u[s++]),l(0,4,8,12,t,e+2*u[s++]),h(1,5,9,13,t,e+2*u[s++]),l(1,5,9,13,t,e+2*u[s++]),h(2,6,10,14,t,e+2*u[s++]),l(2,6,10,14,t,e+2*u[s++]),h(3,7,11,15,t,e+2*u[s++]),l(3,7,11,15,t,e+2*u[s++]),h(0,5,10,15,t,e+2*u[s++]),l(0,5,10,15,t,e+2*u[s++]),h(1,6,11,12,t,e+2*u[s++]),l(1,6,11,12,t,e+2*u[s++]),h(2,7,8,13,t,e+2*u[s++]),l(2,7,8,13,t,e+2*u[s++]),h(3,4,9,14,t,e+2*u[s++]),l(3,4,9,14,t,e+2*u[s++]);this.v0l^=f[0]^f[16],this.v0h^=f[1]^f[17],this.v1l^=f[2]^f[18],this.v1h^=f[3]^f[19],this.v2l^=f[4]^f[20],this.v2h^=f[5]^f[21],this.v3l^=f[6]^f[22],this.v3h^=f[7]^f[23],this.v4l^=f[8]^f[24],this.v4h^=f[9]^f[25],this.v5l^=f[10]^f[26],this.v5h^=f[11]^f[27],this.v6l^=f[12]^f[28],this.v6h^=f[13]^f[29],this.v7l^=f[14]^f[30],this.v7h^=f[15]^f[31],f.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}e.blake2b=(0,u.wrapConstructorWithOpts)((t=>new d(t)))},8137:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.blake2s=e.compress=e.IV=void 0;const o=s(r(6873)),a=s(r(7395)),u=r(8089);function c(t,e,r,n,i){return t=t+e+i|0,r=r+(n=(0,u.rotr)(n^t,16))|0,{a:t,b:e=(0,u.rotr)(e^r,12),c:r,d:n}}function f(t,e,r,n,i){return t=t+e+i|0,r=r+(n=(0,u.rotr)(n^t,8))|0,{a:t,b:e=(0,u.rotr)(e^r,7),c:r,d:n}}function h(t,e,r,n,i,s,o,a,u,h,l,d,p,g,y,m,b,v,w,S){let E=0;for(let x=0;x<n;x++)({a:i,b:u,c:p,d:b}=c(i,u,p,b,r[e+t[E++]])),({a:i,b:u,c:p,d:b}=f(i,u,p,b,r[e+t[E++]])),({a:s,b:h,c:g,d:v}=c(s,h,g,v,r[e+t[E++]])),({a:s,b:h,c:g,d:v}=f(s,h,g,v,r[e+t[E++]])),({a:o,b:l,c:y,d:w}=c(o,l,y,w,r[e+t[E++]])),({a:o,b:l,c:y,d:w}=f(o,l,y,w,r[e+t[E++]])),({a,b:d,c:m,d:S}=c(a,d,m,S,r[e+t[E++]])),({a,b:d,c:m,d:S}=f(a,d,m,S,r[e+t[E++]])),({a:i,b:h,c:y,d:S}=c(i,h,y,S,r[e+t[E++]])),({a:i,b:h,c:y,d:S}=f(i,h,y,S,r[e+t[E++]])),({a:s,b:l,c:m,d:b}=c(s,l,m,b,r[e+t[E++]])),({a:s,b:l,c:m,d:b}=f(s,l,m,b,r[e+t[E++]])),({a:o,b:d,c:p,d:v}=c(o,d,p,v,r[e+t[E++]])),({a:o,b:d,c:p,d:v}=f(o,d,p,v,r[e+t[E++]])),({a,b:u,c:g,d:w}=c(a,u,g,w,r[e+t[E++]])),({a,b:u,c:g,d:w}=f(a,u,g,w,r[e+t[E++]]));return{v0:i,v1:s,v2:o,v3:a,v4:u,v5:h,v6:l,v7:d,v8:p,v9:g,v10:y,v11:m,v12:b,v13:v,v14:w,v15:S}}e.IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),e.compress=h;class l extends a.BLAKE2{constructor(t={}){super(64,void 0===t.dkLen?32:t.dkLen,t,32,8,8),this.v0=0|e.IV[0],this.v1=0|e.IV[1],this.v2=0|e.IV[2],this.v3=0|e.IV[3],this.v4=0|e.IV[4],this.v5=0|e.IV[5],this.v6=0|e.IV[6],this.v7=0|e.IV[7];const r=t.key?t.key.length:0;if(this.v0^=this.outputLen|r<<8|65536|1<<24,t.salt){const e=(0,u.u32)((0,u.toBytes)(t.salt));this.v4^=e[0],this.v5^=e[1]}if(t.personalization){const e=(0,u.u32)((0,u.toBytes)(t.personalization));this.v6^=e[0],this.v7^=e[1]}if(t.key){const e=new Uint8Array(this.blockLen);e.set((0,u.toBytes)(t.key)),this.update(e)}}get(){const{v0:t,v1:e,v2:r,v3:n,v4:i,v5:s,v6:o,v7:a}=this;return[t,e,r,n,i,s,o,a]}set(t,e,r,n,i,s,o,a){this.v0=0|t,this.v1=0|e,this.v2=0|r,this.v3=0|n,this.v4=0|i,this.v5=0|s,this.v6=0|o,this.v7=0|a}compress(t,r,n){const{h:i,l:s}=o.fromBig(BigInt(this.length)),{v0:u,v1:c,v2:f,v3:l,v4:d,v5:p,v6:g,v7:y,v8:m,v9:b,v10:v,v11:w,v12:S,v13:E,v14:x,v15:_}=h(a.SIGMA,r,t,10,this.v0,this.v1,this.v2,this.v3,this.v4,this.v5,this.v6,this.v7,e.IV[0],e.IV[1],e.IV[2],e.IV[3],s^e.IV[4],i^e.IV[5],n?~e.IV[6]:e.IV[6],e.IV[7]);this.v0^=u^m,this.v1^=c^b,this.v2^=f^v,this.v3^=l^w,this.v4^=d^S,this.v5^=p^E,this.v6^=g^x,this.v7^=y^_}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0)}}e.blake2s=(0,u.wrapConstructorWithOpts)((t=>new l(t)))},8252:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.blake3=void 0;const o=s(r(6873)),a=s(r(7395)),u=s(r(8137)),c=r(8089);var f;!function(t){t[t.CHUNK_START=1]="CHUNK_START",t[t.CHUNK_END=2]="CHUNK_END",t[t.PARENT=4]="PARENT",t[t.ROOT=8]="ROOT",t[t.KEYED_HASH=16]="KEYED_HASH",t[t.DERIVE_KEY_CONTEXT=32]="DERIVE_KEY_CONTEXT",t[t.DERIVE_KEY_MATERIAL=64]="DERIVE_KEY_MATERIAL"}(f||(f={}));const h=(()=>{const t=Array.from({length:16},((t,e)=>e)),e=t=>[2,6,3,10,7,0,4,13,1,11,12,5,9,14,15,8].map((e=>t[e])),r=[];for(let n=0,i=t;n<7;n++,i=e(i))r.push(...i);return Uint8Array.from(r)})();class l extends a.BLAKE2{constructor(t={},e=0){if(super(64,void 0===t.dkLen?32:t.dkLen,{},Number.MAX_SAFE_INTEGER,0,0),this.flags=0,this.chunkPos=0,this.chunksDone=0,this.stack=[],this.posOut=0,this.bufferOut32=new Uint32Array(16),this.chunkOut=0,this.enableXOF=!0,this.outputLen=void 0===t.dkLen?32:t.dkLen,(0,c.assertNumber)(this.outputLen),void 0!==t.key&&void 0!==t.context)throw new Error("Blake3: only key or context can be specified at same time");if(void 0!==t.key){const r=(0,c.toBytes)(t.key);if(32!==r.length)throw new Error("Blake3: key should be 32 byte");this.IV=(0,c.u32)(r),this.flags=e|f.KEYED_HASH}else if(void 0!==t.context){const r=new l({dkLen:32},f.DERIVE_KEY_CONTEXT).update(t.context).digest();this.IV=(0,c.u32)(r),this.flags=e|f.DERIVE_KEY_MATERIAL}else this.IV=u.IV.slice(),this.flags=e;this.state=this.IV.slice(),this.bufferOut=(0,c.u8)(this.bufferOut32)}get(){return[]}set(){}b2Compress(t,e,r,n=0){const{state:i,pos:s}=this,{h:a,l:c}=o.fromBig(BigInt(t),!0),{v0:f,v1:l,v2:d,v3:p,v4:g,v5:y,v6:m,v7:b,v8:v,v9:w,v10:S,v11:E,v12:x,v13:_,v14:A,v15:P}=u.compress(h,n,r,7,i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],u.IV[0],u.IV[1],u.IV[2],u.IV[3],a,c,s,e);i[0]=f^v,i[1]=l^w,i[2]=d^S,i[3]=p^E,i[4]=g^x,i[5]=y^_,i[6]=m^A,i[7]=b^P}compress(t,e=0,r=!1){let n=this.flags;if(this.chunkPos||(n|=f.CHUNK_START),(15===this.chunkPos||r)&&(n|=f.CHUNK_END),r||(this.pos=this.blockLen),this.b2Compress(this.chunksDone,n,t,e),this.chunkPos+=1,16===this.chunkPos||r){let t=this.state;this.state=this.IV.slice();for(let e,n=this.chunksDone+1;(r||!(1&n))&&(e=this.stack.pop());n>>=1)this.buffer32.set(e,0),this.buffer32.set(t,8),this.pos=this.blockLen,this.b2Compress(0,this.flags|f.PARENT,this.buffer32,0),t=this.state,this.state=this.IV.slice();this.chunksDone++,this.chunkPos=0,this.stack.push(t)}this.pos=0}_cloneInto(t){t=super._cloneInto(t);const{IV:e,flags:r,state:n,chunkPos:i,posOut:s,chunkOut:o,stack:a,chunksDone:u}=this;return t.state.set(n.slice()),t.stack=a.map((t=>Uint32Array.from(t))),t.IV.set(e),t.flags=r,t.chunkPos=i,t.chunksDone=u,t.posOut=s,t.chunkOut=o,t.enableXOF=this.enableXOF,t.bufferOut32.set(this.bufferOut32),t}destroy(){this.destroyed=!0,this.state.fill(0),this.buffer32.fill(0),this.IV.fill(0),this.bufferOut32.fill(0);for(let t of this.stack)t.fill(0)}b2CompressOut(){const{state:t,pos:e,flags:r,buffer32:n,bufferOut32:i}=this,{h:s,l:a}=o.fromBig(BigInt(this.chunkOut++)),{v0:c,v1:f,v2:l,v3:d,v4:p,v5:g,v6:y,v7:m,v8:b,v9:v,v10:w,v11:S,v12:E,v13:x,v14:_,v15:A}=u.compress(h,0,n,7,t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],u.IV[0],u.IV[1],u.IV[2],u.IV[3],a,s,e,r);i[0]=c^b,i[1]=f^v,i[2]=l^w,i[3]=d^S,i[4]=p^E,i[5]=g^x,i[6]=y^_,i[7]=m^A,i[8]=t[0]^b,i[9]=t[1]^v,i[10]=t[2]^w,i[11]=t[3]^S,i[12]=t[4]^E,i[13]=t[5]^x,i[14]=t[6]^_,i[15]=t[7]^A,this.posOut=0}finish(){if(this.finished)return;this.finished=!0,this.buffer.fill(0,this.pos);let t=this.flags|f.ROOT;this.stack.length?(t|=f.PARENT,this.compress(this.buffer32,0,!0),this.chunksDone=0,this.pos=this.blockLen):t|=(this.chunkPos?0:f.CHUNK_START)|f.CHUNK_END,this.flags=t,this.b2CompressOut()}writeInto(t){if(this.destroyed)throw new Error("instance is destroyed");if(!(t instanceof Uint8Array))throw new Error("Blake3: Invalid output buffer");this.finish();const{blockLen:e,bufferOut:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=e&&this.b2CompressOut();const s=Math.min(this.blockLen-this.posOut,i-n);t.set(r.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF impossible after digest call");return this.writeInto(t)}xof(t){return(0,c.assertNumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(t.length<this.outputLen)throw new Error("Blake3: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");return this.enableXOF=!1,this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}}e.blake3=(0,c.wrapConstructorWithOpts)((t=>new l(t)))},4421:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=void 0,e.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},9569:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=void 0;const n=r(8089);class i extends n.Hash{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,(0,n.assertHash)(t);const r=(0,n.toBytes)(e);if(this.iHash=t.create(),!(this.iHash instanceof n.Hash))throw new TypeError("Expected instance of class which extends utils.Hash");const i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const s=new Uint8Array(i);s.set(r.length>this.iHash.blockLen?t.create().update(r).digest():r);for(let t=0;t<s.length;t++)s[t]^=54;this.iHash.update(s),this.oHash=t.create();for(let t=0;t<s.length;t++)s[t]^=106;this.oHash.update(s),s.fill(0)}update(t){if(this.destroyed)throw new Error("instance is destroyed");return this.iHash.update(t),this}digestInto(t){if(this.destroyed)throw new Error("instance is destroyed");if(!(t instanceof Uint8Array)||t.length!==this.outputLen)throw new Error("HMAC: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return t.finished=n,t.destroyed=i,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.hmac=(t,e,r)=>new i(t,e).update(r).digest(),e.hmac.create=(t,e)=>new i(t,e)},9023:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pbkdf2Async=e.pbkdf2=void 0;const n=r(9569),i=r(8089);function s(t,e,r,s){(0,i.assertHash)(t);const o=(0,i.checkOpts)({dkLen:32,asyncTick:10},s),{c:a,dkLen:u,asyncTick:c}=o;if((0,i.assertNumber)(a),(0,i.assertNumber)(u),(0,i.assertNumber)(c),a<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const f=(0,i.toBytes)(e),h=(0,i.toBytes)(r),l=new Uint8Array(u),d=n.hmac.create(t,f),p=d._cloneInto().update(h);return{c:a,dkLen:u,asyncTick:c,DK:l,PRF:d,PRFSalt:p}}function o(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}e.pbkdf2=function(t,e,r,n){const{c:a,dkLen:u,DK:c,PRF:f,PRFSalt:h}=s(t,e,r,n);let l;const d=new Uint8Array(4),p=(0,i.createView)(d),g=new Uint8Array(f.outputLen);for(let t=1,e=0;e<u;t++,e+=f.outputLen){const r=c.subarray(e,e+f.outputLen);p.setInt32(0,t,!1),(l=h._cloneInto(l)).update(d).digestInto(g),r.set(g.subarray(0,r.length));for(let t=1;t<a;t++){f._cloneInto(l).update(g).digestInto(g);for(let t=0;t<r.length;t++)r[t]^=g[t]}}return o(f,h,c,l,g)},e.pbkdf2Async=async function(t,e,r,n){const{c:a,dkLen:u,asyncTick:c,DK:f,PRF:h,PRFSalt:l}=s(t,e,r,n);let d;const p=new Uint8Array(4),g=(0,i.createView)(p),y=new Uint8Array(h.outputLen);for(let t=1,e=0;e<u;t++,e+=h.outputLen){const r=f.subarray(e,e+h.outputLen);g.setInt32(0,t,!1),(d=l._cloneInto(d)).update(p).digestInto(y),r.set(y.subarray(0,r.length)),await(0,i.asyncLoop)(a-1,c,(t=>{h._cloneInto(d).update(y).digestInto(y);for(let t=0;t<r.length;t++)r[t]^=y[t]}))}return o(h,l,f,d,y)}},830:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ripemd160=e.RIPEMD160=void 0;const n=r(7505),i=r(8089),s=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),o=Uint8Array.from({length:16},((t,e)=>e)),a=o.map((t=>(9*t+5)%16));let u=[o],c=[a];for(let t=0;t<4;t++)for(let e of[u,c])e.push(e[t].map((t=>s[t])));const f=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((t=>new Uint8Array(t))),h=u.map(((t,e)=>t.map((t=>f[e][t])))),l=c.map(((t,e)=>t.map((t=>f[e][t])))),d=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),p=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),g=(t,e)=>t<<e|t>>>32-e;function y(t,e,r,n){return 0===t?e^r^n:1===t?e&r|~e&n:2===t?(e|~r)^n:3===t?e&n|r&~n:e^(r|~n)}const m=new Uint32Array(16);class b extends n.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:e,h2:r,h3:n,h4:i}=this;return[t,e,r,n,i]}set(t,e,r,n,i){this.h0=0|t,this.h1=0|e,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(t,e){for(let r=0;r<16;r++,e+=4)m[r]=t.getUint32(e,!0);let r=0|this.h0,n=r,i=0|this.h1,s=i,o=0|this.h2,a=o,f=0|this.h3,b=f,v=0|this.h4,w=v;for(let t=0;t<5;t++){const e=4-t,S=d[t],E=p[t],x=u[t],_=c[t],A=h[t],P=l[t];for(let e=0;e<16;e++){const n=g(r+y(t,i,o,f)+m[x[e]]+S,A[e])+v|0;r=v,v=f,f=0|g(o,10),o=i,i=n}for(let t=0;t<16;t++){const r=g(n+y(e,s,a,b)+m[_[t]]+E,P[t])+w|0;n=w,w=b,b=0|g(a,10),a=s,s=r}}this.set(this.h1+o+b|0,this.h2+f+w|0,this.h3+v+n|0,this.h4+r+s|0,this.h0+i+a|0)}roundClean(){m.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}e.RIPEMD160=b,e.ripemd160=(0,i.wrapConstructor)((()=>new b))},9514:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scryptAsync=e.scrypt=void 0;const n=r(3061),i=r(9023),s=r(8089),o=(t,e)=>t<<e|t>>>32-e;function a(t,e,r,n,i,s){let a=t[e++]^r[n++],u=t[e++]^r[n++],c=t[e++]^r[n++],f=t[e++]^r[n++],h=t[e++]^r[n++],l=t[e++]^r[n++],d=t[e++]^r[n++],p=t[e++]^r[n++],g=t[e++]^r[n++],y=t[e++]^r[n++],m=t[e++]^r[n++],b=t[e++]^r[n++],v=t[e++]^r[n++],w=t[e++]^r[n++],S=t[e++]^r[n++],E=t[e++]^r[n++],x=a,_=u,A=c,P=f,I=h,T=l,O=d,B=p,k=g,F=y,R=m,N=b,C=v,M=w,D=S,H=E;for(let t=0;t<8;t+=2)I^=o(x+C|0,7),k^=o(I+x|0,9),C^=o(k+I|0,13),x^=o(C+k|0,18),F^=o(T+_|0,7),M^=o(F+T|0,9),_^=o(M+F|0,13),T^=o(_+M|0,18),D^=o(R+O|0,7),A^=o(D+R|0,9),O^=o(A+D|0,13),R^=o(O+A|0,18),P^=o(H+N|0,7),B^=o(P+H|0,9),N^=o(B+P|0,13),H^=o(N+B|0,18),_^=o(x+P|0,7),A^=o(_+x|0,9),P^=o(A+_|0,13),x^=o(P+A|0,18),O^=o(T+I|0,7),B^=o(O+T|0,9),I^=o(B+O|0,13),T^=o(I+B|0,18),N^=o(R+F|0,7),k^=o(N+R|0,9),F^=o(k+N|0,13),R^=o(F+k|0,18),C^=o(H+D|0,7),M^=o(C+H|0,9),D^=o(M+C|0,13),H^=o(D+M|0,18);i[s++]=a+x|0,i[s++]=u+_|0,i[s++]=c+A|0,i[s++]=f+P|0,i[s++]=h+I|0,i[s++]=l+T|0,i[s++]=d+O|0,i[s++]=p+B|0,i[s++]=g+k|0,i[s++]=y+F|0,i[s++]=m+R|0,i[s++]=b+N|0,i[s++]=v+C|0,i[s++]=w+M|0,i[s++]=S+D|0,i[s++]=E+H|0}function u(t,e,r,n,i){let s=n+0,o=n+16*i;for(let n=0;n<16;n++)r[o+n]=t[e+16*(2*i-1)+n];for(let n=0;n<i;n++,s+=16,e+=16)a(r,o,t,e,r,s),n>0&&(o+=16),a(r,s,t,e+=16,r,o)}function c(t,e,r){const o=(0,s.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:a,r:u,p:c,dkLen:f,asyncTick:h,maxmem:l,onProgress:d}=o;if((0,s.assertNumber)(a),(0,s.assertNumber)(u),(0,s.assertNumber)(c),(0,s.assertNumber)(f),(0,s.assertNumber)(h),(0,s.assertNumber)(l),void 0!==d&&"function"!=typeof d)throw new Error("progressCb should be function");const p=128*u,g=p/4;if(a<=1||0!=(a&a-1)||a>=2**(p/8)||a>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(c<0||c>137438953440/p)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(f<0||f>137438953440)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const y=p*(a+c);if(y>l)throw new Error(`Scrypt: parameters too large, ${y} (128 * r * (N + p)) > ${l} (maxmem)`);const m=(0,i.pbkdf2)(n.sha256,t,e,{c:1,dkLen:p*c}),b=(0,s.u32)(m),v=(0,s.u32)(new Uint8Array(p*a)),w=(0,s.u32)(new Uint8Array(p));let S=()=>{};if(d){const t=2*a*c,e=Math.max(Math.floor(t/1e4),1);let r=0;S=()=>{r++,!d||r%e&&r!==t||d(r/t)}}return{N:a,r:u,p:c,dkLen:f,blockSize32:g,V:v,B32:b,B:m,tmp:w,blockMixCb:S,asyncTick:h}}function f(t,e,r,s,o){const a=(0,i.pbkdf2)(n.sha256,t,r,{c:1,dkLen:e});return r.fill(0),s.fill(0),o.fill(0),a}e.scrypt=function(t,e,r){const{N:n,r:i,p:s,dkLen:o,blockSize32:a,V:h,B32:l,B:d,tmp:p,blockMixCb:g}=c(t,e,r);for(let t=0;t<s;t++){const e=a*t;for(let t=0;t<a;t++)h[t]=l[e+t];for(let t=0,e=0;t<n-1;t++)u(h,e,h,e+=a,i),g();u(h,(n-1)*a,l,e,i),g();for(let t=0;t<n;t++){const t=l[e+a-16]%n;for(let r=0;r<a;r++)p[r]=l[e+r]^h[t*a+r];u(p,0,l,e,i),g()}}return f(t,o,d,h,p)},e.scryptAsync=async function(t,e,r){const{N:n,r:i,p:o,dkLen:a,blockSize32:h,V:l,B32:d,B:p,tmp:g,blockMixCb:y,asyncTick:m}=c(t,e,r);for(let t=0;t<o;t++){const e=h*t;for(let t=0;t<h;t++)l[t]=d[e+t];let r=0;await(0,s.asyncLoop)(n-1,m,(t=>{u(l,r,l,r+=h,i),y()})),u(l,(n-1)*h,d,e,i),y(),await(0,s.asyncLoop)(n,m,(t=>{const r=d[e+h-16]%n;for(let t=0;t<h;t++)g[t]=d[e+t]^l[r*h+t];u(g,0,d,e,i),y()}))}return f(t,a,p,l,g)}},3061:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sha256=void 0;const n=r(7505),i=r(8089),s=(t,e,r)=>t&e^t&r^e&r,o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint32Array(64);class c extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[t,e,r,n,i,s,o,a]}set(t,e,r,n,i,s,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)u[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=u[t-15],r=u[t-2],n=(0,i.rotr)(e,7)^(0,i.rotr)(e,18)^e>>>3,s=(0,i.rotr)(r,17)^(0,i.rotr)(r,19)^r>>>10;u[t]=s+u[t-7]+n+u[t-16]|0}let{A:r,B:n,C:a,D:c,E:f,F:h,G:l,H:d}=this;for(let t=0;t<64;t++){const e=d+((0,i.rotr)(f,6)^(0,i.rotr)(f,11)^(0,i.rotr)(f,25))+((p=f)&h^~p&l)+o[t]+u[t]|0,g=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+s(r,n,a)|0;d=l,l=h,h=f,f=c+e|0,c=a,a=n,n=r,r=e+g|0}var p;r=r+this.A|0,n=n+this.B|0,a=a+this.C|0,c=c+this.D|0,f=f+this.E|0,h=h+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(r,n,a,c,f,h,l,d)}roundClean(){u.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}e.sha256=(0,i.wrapConstructor)((()=>new c))},5426:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.shake256=e.shake128=e.keccak_512=e.keccak_384=e.keccak_256=e.keccak_224=e.sha3_512=e.sha3_384=e.sha3_256=e.sha3_224=e.Keccak=e.keccakP=void 0;const o=s(r(6873)),a=r(8089),[u,c,f]=[[],[],[]],h=BigInt(0),l=BigInt(1),d=BigInt(2),p=BigInt(7),g=BigInt(256),y=BigInt(113);for(let t=0,e=l,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],u.push(2*(5*n+r)),c.push((t+1)*(t+2)/2%64);let i=h;for(let t=0;t<7;t++)e=(e<<l^(e>>p)*y)%g,e&d&&(i^=l<<(l<<BigInt(t))-l);f.push(i)}const[m,b]=o.split(f,!0),v=(t,e,r)=>r>32?o.rotlBH(t,e,r):o.rotlSH(t,e,r),w=(t,e,r)=>r>32?o.rotlBL(t,e,r):o.rotlSL(t,e,r);function S(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,i=(e+2)%10,s=r[i],o=r[i+1],a=v(s,o,1)^r[n],u=w(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=u}let e=t[2],i=t[3];for(let r=0;r<24;r++){const n=c[r],s=v(e,i,n),o=w(e,i,n),a=u[r];e=t[a],i=t[a+1],t[a]=s,t[a+1]=o}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=m[n],t[1]^=b[n]}r.fill(0)}e.keccakP=S;class E extends a.Hash{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,a.assertNumber)(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,a.u32)(this.state)}keccak(){S(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){if(this.destroyed)throw new Error("instance is destroyed");if(this.finished)throw new Error("digest() was already called");const{blockLen:e,state:r}=this,n=(t=(0,a.toBytes)(t)).length;for(let i=0;i<n;){const s=Math.min(e-this.pos,n-i);for(let e=0;e<s;e++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,0!=(128&e)&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){if(this.destroyed)throw new Error("instance is destroyed");if(!(t instanceof Uint8Array))throw new Error("Keccak: invalid output buffer");this.finish();for(let e=0,r=t.length;e<r;){this.posOut>=this.blockLen&&this.keccak();const n=Math.min(this.blockLen-this.posOut,r-e);t.set(this.state.subarray(this.posOut,this.posOut+n),e),this.posOut+=n,e+=n}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,a.assertNumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(t.length<this.outputLen)throw new Error("Keccak: invalid output buffer");if(this.finished)throw new Error("digest() was already called");return this.finish(),this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return t||(t=new E(e,r,n,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=s,t.destroyed=this.destroyed,t}}e.Keccak=E;const x=(t,e,r)=>(0,a.wrapConstructor)((()=>new E(e,t,r)));e.sha3_224=x(6,144,28),e.sha3_256=x(6,136,32),e.sha3_384=x(6,104,48),e.sha3_512=x(6,72,64),e.keccak_224=x(1,144,28),e.keccak_256=x(1,136,32),e.keccak_384=x(1,104,48),e.keccak_512=x(1,72,64);const _=(t,e,r)=>(0,a.wrapConstructorWithOpts)(((n={})=>new E(e,t,void 0!==n.dkLen?n.dkLen:r,!0)));e.shake128=_(31,168,16),e.shake256=_(31,136,32)},6262:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.sha384=e.sha512_256=e.sha512=e.SHA512=void 0;const o=r(7505),a=s(r(6873)),u=r(8089),[c,f]=a.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))),h=new Uint32Array(80),l=new Uint32Array(80);class d extends o.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:u,El:c,Fh:f,Fl:h,Gh:l,Gl:d,Hh:p,Hl:g}=this;return[t,e,r,n,i,s,o,a,u,c,f,h,l,d,p,g]}set(t,e,r,n,i,s,o,a,u,c,f,h,l,d,p,g){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|f,this.Fl=0|h,this.Gh=0|l,this.Gl=0|d,this.Hh=0|p,this.Hl=0|g}process(t,e){for(let r=0;r<16;r++,e+=4)h[r]=t.getUint32(e),l[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|h[t-15],r=0|l[t-15],n=a.rotrSH(e,r,1)^a.rotrSH(e,r,8)^a.shrSH(e,r,7),i=a.rotrSL(e,r,1)^a.rotrSL(e,r,8)^a.shrSL(e,r,7),s=0|h[t-2],o=0|l[t-2],u=a.rotrSH(s,o,19)^a.rotrBH(s,o,61)^a.shrSH(s,o,6),c=a.rotrSL(s,o,19)^a.rotrBL(s,o,61)^a.shrSL(s,o,6),f=a.add4L(i,c,l[t-7],l[t-16]),d=a.add4H(f,n,u,h[t-7],h[t-16]);h[t]=0|d,l[t]=0|f}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:u,Dh:d,Dl:p,Eh:g,El:y,Fh:m,Fl:b,Gh:v,Gl:w,Hh:S,Hl:E}=this;for(let t=0;t<80;t++){const e=a.rotrSH(g,y,14)^a.rotrSH(g,y,18)^a.rotrBH(g,y,41),x=a.rotrSL(g,y,14)^a.rotrSL(g,y,18)^a.rotrBL(g,y,41),_=g&m^~g&v,A=y&b^~y&w,P=a.add5L(E,x,A,f[t],l[t]),I=a.add5H(P,S,e,_,c[t],h[t]),T=0|P,O=a.rotrSH(r,n,28)^a.rotrBH(r,n,34)^a.rotrBH(r,n,39),B=a.rotrSL(r,n,28)^a.rotrBL(r,n,34)^a.rotrBL(r,n,39),k=r&i^r&o^i&o,F=n&s^n&u^s&u;S=0|v,E=0|w,v=0|m,w=0|b,m=0|g,b=0|y,({h:g,l:y}=a.add(0|d,0|p,0|I,0|T)),d=0|o,p=0|u,o=0|i,u=0|s,i=0|r,s=0|n;const R=a.add3L(T,B,F);r=a.add3H(R,I,O,k),n=0|R}({h:r,l:n}=a.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=a.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:u}=a.add(0|this.Ch,0|this.Cl,0|o,0|u)),({h:d,l:p}=a.add(0|this.Dh,0|this.Dl,0|d,0|p)),({h:g,l:y}=a.add(0|this.Eh,0|this.El,0|g,0|y)),({h:m,l:b}=a.add(0|this.Fh,0|this.Fl,0|m,0|b)),({h:v,l:w}=a.add(0|this.Gh,0|this.Gl,0|v,0|w)),({h:S,l:E}=a.add(0|this.Hh,0|this.Hl,0|S,0|E)),this.set(r,n,i,s,o,u,d,p,g,y,m,b,v,w,S,E)}roundClean(){h.fill(0),l.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}e.SHA512=d;class p extends d{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class g extends d{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}e.sha512=(0,u.wrapConstructor)((()=>new d)),e.sha512_256=(0,u.wrapConstructor)((()=>new p)),e.sha384=(0,u.wrapConstructor)((()=>new g))},8089:(t,e,r)=>{"use strict";t=r.nmd(t),Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.wrapConstructorWithOpts=e.wrapConstructor=e.checkOpts=e.Hash=e.assertHash=e.assertBytes=e.assertBool=e.assertNumber=e.concatBytes=e.toBytes=e.utf8ToBytes=e.asyncLoop=e.nextTick=e.hexToBytes=e.bytesToHex=e.isLE=e.rotr=e.createView=e.u32=e.u8=void 0;const n=r(4421);if(e.u8=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),e.u32=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),e.createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),e.rotr=(t,e)=>t<<32-e|t>>>e,e.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!e.isLE)throw new Error("Non little-endian hardware is not supported");const i=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function s(t){if("string"!=typeof t)throw new TypeError("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)}function o(t){if("string"==typeof t&&(t=s(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function a(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}e.bytesToHex=function(t){let e="";for(let r=0;r<t.length;r++)e+=i[t[r]];return e},e.hexToBytes=function(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s))throw new Error("Invalid byte sequence");e[r]=s}return e},e.nextTick=(()=>{const e="function"==typeof t.require&&t.require.bind(t);try{if(e){const{setImmediate:t}=e("timers");return()=>new Promise((e=>t(e)))}}catch(t){}return()=>new Promise((t=>setTimeout(t,0)))})(),e.asyncLoop=async function(t,r,n){let i=Date.now();for(let s=0;s<t;s++){n(s);const t=Date.now()-i;t>=0&&t<r||(await(0,e.nextTick)(),i+=t)}},e.utf8ToBytes=s,e.toBytes=o,e.concatBytes=function(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r},e.assertNumber=a,e.assertBool=function(t){if("boolean"!=typeof t)throw new Error(`Expected boolean, not ${t}`)},e.assertBytes=function(t,...e){if(!(t instanceof Uint8Array)||e.length&&!e.includes(t.length))throw new TypeError(`Expected ${e} bytes, not ${typeof t} with length=${t.length}`)},e.assertHash=function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");a(t.outputLen),a(t.blockLen)},e.Hash=class{clone(){return this._cloneInto()}},e.checkOpts=function(t,e){if(void 0!==e&&("object"!=typeof e||(r=e,"[object Object]"!==Object.prototype.toString.call(r)||r.constructor!==Object)))throw new TypeError("Options should be object or undefined");var r;return Object.assign(t,e)},e.wrapConstructor=function(t){const e=e=>t().update(o(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e},e.wrapConstructorWithOpts=function(t){const e=(e,r)=>t(r).update(o(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e},e.randomBytes=function(t=32){if(n.crypto.web)return n.crypto.web.getRandomValues(new Uint8Array(t));if(n.crypto.node)return new Uint8Array(n.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}},9656:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.schnorr=e.verify=e.signSync=e.sign=e.getSharedSecret=e.recoverPublicKey=e.getPublicKey=e.Signature=e.Point=e.CURVE=void 0;const n=r(9159),i=BigInt(0),s=BigInt(1),o=BigInt(2),a=BigInt(3),u=BigInt(8),c=Object.freeze({a:i,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:s,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});e.CURVE=c;const f=(t,e)=>(t+e/o)/e,h={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=c,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-s*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,a=BigInt("0x100000000000000000000000000000000"),u=f(o*t,e),h=f(-n*t,e);let l=j(t-u*r-h*i,e),d=j(-u*n-h*o,e);const p=l>a,g=d>a;if(p&&(l=e-l),g&&(d=e-d),l>a||d>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:p,k1:l,k2neg:g,k2:d}}},l=32,d=32,p=l+1,g=2*l+1;function y(t){const{a:e,b:r}=c,n=j(t*t),i=j(n*t);return j(i+e*t+r)}const m=c.a===i;class b extends Error{constructor(t){super(t)}}function v(t){if(!(t instanceof w))throw new TypeError("JacobianPoint expected")}class w{constructor(t,e,r){this.x=t,this.y=e,this.z=r}static fromAffine(t){if(!(t instanceof x))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(x.ZERO)?w.ZERO:new w(t.x,t.y,s)}static toAffineBatch(t){const e=function(t,e=c.P){const r=new Array(t.length),n=U(t.reduce(((t,n,s)=>n===i?t:(r[s]=t,j(t*n,e))),s),e);return t.reduceRight(((t,n,s)=>n===i?t:(r[s]=j(t*r[s],e),j(t*n,e))),n),r}(t.map((t=>t.z)));return t.map(((t,r)=>t.toAffine(e[r])))}static normalizeZ(t){return w.toAffineBatch(t).map(w.fromAffine)}equals(t){v(t);const{x:e,y:r,z:n}=this,{x:i,y:s,z:o}=t,a=j(n*n),u=j(o*o),c=j(e*u),f=j(i*a),h=j(j(r*o)*u),l=j(j(s*n)*a);return c===f&&h===l}negate(){return new w(this.x,j(-this.y),this.z)}double(){const{x:t,y:e,z:r}=this,n=j(t*t),i=j(e*e),s=j(i*i),c=t+i,f=j(o*(j(c*c)-n-s)),h=j(a*n),l=j(h*h),d=j(l-o*f),p=j(h*(f-d)-u*s),g=j(o*e*r);return new w(d,p,g)}add(t){v(t);const{x:e,y:r,z:n}=this,{x:s,y:a,z:u}=t;if(s===i||a===i)return this;if(e===i||r===i)return t;const c=j(n*n),f=j(u*u),h=j(e*f),l=j(s*c),d=j(j(r*u)*f),p=j(j(a*n)*c),g=j(l-h),y=j(p-d);if(g===i)return y===i?this.double():w.ZERO;const m=j(g*g),b=j(g*m),S=j(h*m),E=j(y*y-b-o*S),x=j(y*(S-E)-d*b),_=j(n*u*g);return new w(E,x,_)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=w.ZERO;if("bigint"==typeof t&&t===i)return e;let r=H(t);if(r===s)return this;if(!m){let t=e,n=this;for(;r>i;)r&s&&(t=t.add(n)),n=n.double(),r>>=s;return t}let{k1neg:n,k1:o,k2neg:a,k2:u}=h.splitScalar(r),c=e,f=e,l=this;for(;o>i||u>i;)o&s&&(c=c.add(l)),u&s&&(f=f.add(l)),l=l.double(),o>>=s,u>>=s;return n&&(c=c.negate()),a&&(f=f.negate()),f=new w(j(f.x*h.beta),f.y,f.z),c.add(f)}precomputeWindow(t){const e=m?128/t+1:256/t+1,r=[];let n=this,i=n;for(let s=0;s<e;s++){i=n,r.push(i);for(let e=1;e<2**(t-1);e++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(t,e){!e&&this.equals(w.BASE)&&(e=x.BASE);const r=e&&e._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=e&&E.get(e);n||(n=this.precomputeWindow(r),e&&1!==r&&(n=w.normalizeZ(n),E.set(e,n)));let i=w.ZERO,o=w.BASE;const a=1+(m?128/r:256/r),u=2**(r-1),c=BigInt(2**r-1),f=2**r,h=BigInt(r);for(let e=0;e<a;e++){const r=e*u;let a=Number(t&c);t>>=h,a>u&&(a-=f,t+=s);const l=r,d=r+Math.abs(a)-1,p=e%2!=0,g=a<0;0===a?o=o.add(S(p,n[l])):i=i.add(S(g,n[d]))}return{p:i,f:o}}multiply(t,e){let r,n,i=H(t);if(m){const{k1neg:t,k1:s,k2neg:o,k2:a}=h.splitScalar(i);let{p:u,f:c}=this.wNAF(s,e),{p:f,f:l}=this.wNAF(a,e);u=S(t,u),f=S(o,f),f=new w(j(f.x*h.beta),f.y,f.z),r=u.add(f),n=c.add(l)}else{const{p:t,f:s}=this.wNAF(i,e);r=t,n=s}return w.normalizeZ([r,n])[0]}toAffine(t){const{x:e,y:r,z:n}=this,i=this.equals(w.ZERO);null==t&&(t=i?u:U(n));const o=t,a=j(o*o),c=j(a*o),f=j(e*a),h=j(r*c),l=j(n*o);if(i)return x.ZERO;if(l!==s)throw new Error("invZ was invalid");return new x(f,h)}}function S(t,e){const r=e.negate();return t?r:e}w.BASE=new w(c.Gx,c.Gy,s),w.ZERO=new w(i,s,i);const E=new WeakMap;class x{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,E.delete(this)}hasEvenY(){return this.y%o===i}static fromCompressedHex(t){const e=32===t.length,r=M(e?t:t.subarray(1));if(!G(r))throw new Error("Point is not on curve");let n=function(t){const{P:e}=c,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),u=BigInt(44),f=BigInt(88),h=t*t*t%e,l=h*h*t%e,d=L(l,a)*l%e,p=L(d,a)*l%e,g=L(p,o)*h%e,y=L(g,n)*g%e,m=L(y,i)*y%e,b=L(m,u)*m%e,v=L(b,f)*b%e,w=L(v,u)*m%e,S=L(w,a)*l%e,E=L(S,s)*y%e,x=L(E,r)*h%e,_=L(x,o);if(_*_%e!==t)throw new Error("Cannot find square root");return _}(y(r));const i=(n&s)===s;e?i&&(n=j(-n)):1==(1&t[0])!==i&&(n=j(-n));const u=new x(r,n);return u.assertValidity(),u}static fromUncompressedHex(t){const e=M(t.subarray(1,l+1)),r=M(t.subarray(l+1,2*l+1)),n=new x(e,r);return n.assertValidity(),n}static fromHex(t){const e=D(t),r=e.length,n=e[0];if(r===l)return this.fromCompressedHex(e);if(r===p&&(2===n||3===n))return this.fromCompressedHex(e);if(r===g&&4===n)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${p} compressed bytes or ${g} uncompressed bytes, not ${r}`)}static fromPrivateKey(t){return x.BASE.multiply(X(t))}static fromSignature(t,e,r){const{r:n,s:i}=Z(e);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const s=K(D(t)),{n:o}=c,a=2===r||3===r?n+o:n,u=U(a,o),f=j(-s*u,o),h=j(i*u,o),l=1&r?"03":"02",d=x.fromHex(l+k(a)),p=x.BASE.multiplyAndAddUnsafe(d,f,h);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(t=!1){return C(this.toHex(t))}toHex(t=!1){const e=k(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${k(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:r}=this;if(!G(e)||!G(r))throw new Error(t);const n=j(r*r);if(j(n-y(e))!==i)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new x(this.x,j(-this.y))}double(){return w.fromAffine(this).double().toAffine()}add(t){return w.fromAffine(this).add(w.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return w.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,r){const n=w.fromAffine(this),o=e===i||e===s||this!==x.BASE?n.multiplyUnsafe(e):n.multiply(e),a=w.fromAffine(t).multiplyUnsafe(r),u=o.add(a);return u.equals(w.ZERO)?void 0:u.toAffine()}}function _(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function A(t){if(t.length<2||2!==t[0])throw new Error(`Invalid signature integer tag: ${O(t)}`);const e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:M(r),left:t.subarray(e+2)}}e.Point=x,x.BASE=new x(c.Gx,c.Gy),x.ZERO=new x(i,i);class P{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof t&&!e)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=e?O(t):t;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new P(N(n.slice(0,64)),N(n.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if("string"!=typeof t&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:n}=function(t){if(t.length<2||48!=t[0])throw new Error(`Invalid signature tag: ${O(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:r}=A(t.subarray(2)),{data:n,left:i}=A(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${O(i)}`);return{r:e,s:n}}(e?t:C(t));return new P(r,n)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!W(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!W(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=c.n>>s;return this.s>t}normalizeS(){return this.hasHighS()?new P(this.r,j(-this.s,c.n)):this}toDERRawBytes(){return C(this.toDERHex())}toDERHex(){const t=_(R(this.s)),e=_(R(this.r)),r=t.length/2,n=e.length/2,i=R(r),s=R(n);return`30${R(n+r+4)}02${s}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return C(this.toCompactHex())}toCompactHex(){return k(this.r)+k(this.s)}}function I(...t){if(!t.every((t=>t instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){const i=t[e];r.set(i,n),n+=i.length}return r}e.Signature=P;const T=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function O(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=T[t[r]];return e}const B=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function k(t){if("bigint"!=typeof t)throw new Error("Expected bigint");if(!(i<=t&&t<B))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function F(t){const e=C(k(t));if(32!==e.length)throw new Error("Error: expected 32 bytes");return e}function R(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function N(t){if("string"!=typeof t)throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function C(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[r]=s}return e}function M(t){return N(O(t))}function D(t){return t instanceof Uint8Array?Uint8Array.from(t):C(t)}function H(t){if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if("bigint"==typeof t&&W(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function j(t,e=c.P){const r=t%e;return r>=i?r:e+r}function L(t,e){const{P:r}=c;let n=t;for(;e-- >i;)n*=n,n%=r;return n}function U(t,e=c.P){if(t===i||e<=i)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=j(t,e),n=e,o=i,a=s,u=s,f=i;for(;r!==i;){const t=n/r,e=n%r,i=o-u*t,s=a-f*t;n=r,r=e,o=u,a=f,u=i,f=s}if(n!==s)throw new Error("invert: does not exist");return j(o,e)}function K(t,e=!1){const r=function(t){const e=8*t.length-8*d,r=M(t);return e>0?r>>BigInt(e):r}(t);if(e)return r;const{n}=c;return r>=n?r-n:r}let V,q;class z{constructor(t,e){if(this.hashLen=t,this.qByteLen=e,"number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(t).fill(1),this.k=new Uint8Array(t).fill(0),this.counter=0}hmac(...t){return e.utils.hmacSha256(this.k,...t)}hmacSync(...t){return q(this.k,...t)}checkSync(){if("function"!=typeof q)throw new b("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(t=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),t),this.v=await this.hmac(this.v),0!==t.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),t),this.v=await this.hmac(this.v))}reseedSync(t=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),t),this.v=this.hmacSync(this.v),0!==t.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),t),this.v=this.hmacSync(this.v))}async generate(){this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();e.push(r),t+=this.v.length}return I(...e)}generateSync(){this.checkSync(),this.incr();let t=0;const e=[];for(;t<this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();e.push(r),t+=this.v.length}return I(...e)}}function W(t){return i<t&&t<c.n}function G(t){return i<t&&t<c.P}function $(t,e,r,n=!0){const{n:o}=c,a=K(t,!0);if(!W(a))return;const u=U(a,o),f=x.BASE.multiply(a),h=j(f.x,o);if(h===i)return;const l=j(u*j(e+r*h,o),o);if(l===i)return;let d=new P(h,l),p=(f.x===d.r?0:2)|Number(f.y&s);return n&&d.hasHighS()&&(d=d.normalizeS(),p^=1),{sig:d,recovery:p}}function X(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if("string"==typeof t){if(t.length!==2*d)throw new Error("Expected 32 bytes of private key");e=N(t)}else{if(!(t instanceof Uint8Array))throw new TypeError("Expected valid private key");if(t.length!==d)throw new Error("Expected 32 bytes of private key");e=M(t)}if(!W(e))throw new Error("Expected private key: 0 < key < n");return e}function J(t){return t instanceof x?(t.assertValidity(),t):x.fromHex(t)}function Z(t){if(t instanceof P)return t.assertValidity(),t;try{return P.fromDER(t)}catch(e){return P.fromCompact(t)}}function Y(t){const e=t instanceof Uint8Array,r="string"==typeof t,n=(e||r)&&t.length;return e?n===p||n===g:r?n===2*p||n===2*g:t instanceof x}function Q(t){return M(t.length>l?t.slice(0,l):t)}function tt(t){const e=Q(t),r=j(e,c.n);return et(r<i?e:r)}function et(t){return F(t)}function rt(t,r,n){if(null==t)throw new Error(`sign: expected valid message hash, not "${t}"`);const i=D(t),s=X(r),o=[et(s),tt(i)];if(null!=n){!0===n&&(n=e.utils.randomBytes(l));const t=D(n);if(t.length!==l)throw new Error(`sign: Expected ${l} bytes of extra data`);o.push(t)}return{seed:I(...o),m:Q(i),d:s}}function nt(t,e){const{sig:r,recovery:n}=t,{der:i,recovered:s}=Object.assign({canonical:!0,der:!0},e),o=i?r.toDERRawBytes():r.toCompactRawBytes();return s?[o,n]:o}e.getPublicKey=function(t,e=!1){return x.fromPrivateKey(t).toRawBytes(e)},e.recoverPublicKey=function(t,e,r,n=!1){return x.fromSignature(t,e,r).toRawBytes(n)},e.getSharedSecret=function(t,e,r=!1){if(Y(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!Y(e))throw new TypeError("getSharedSecret: second arg must be public key");const n=J(e);return n.assertValidity(),n.multiply(X(t)).toRawBytes(r)},e.sign=async function(t,e,r={}){const{seed:n,m:i,d:s}=rt(t,e,r.extraEntropy),o=new z(32,d);let a;for(await o.reseed(n);!(a=$(await o.generate(),i,s,r.canonical));)await o.reseed();return nt(a,r)},e.signSync=function(t,e,r={}){const{seed:n,m:i,d:s}=rt(t,e,r.extraEntropy),o=new z(32,d);let a;for(o.reseedSync(n);!(a=$(o.generateSync(),i,s,r.canonical));)o.reseedSync();return nt(a,r)};const it={strict:!0};function st(t){return j(M(t),c.n)}e.verify=function(t,e,r,n=it){let i;try{i=Z(t),e=D(e)}catch(t){return!1}const{r:s,s:o}=i;if(n.strict&&i.hasHighS())return!1;const a=K(e);let u;try{u=J(r)}catch(t){return!1}const{n:f}=c,h=U(o,f),l=j(a*h,f),d=j(s*h,f),p=x.BASE.multiplyAndAddUnsafe(u,l,d);return!!p&&j(p.x,f)===s};class ot{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=D(t);if(64!==e.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${e.length}`);const r=M(e.subarray(0,32)),n=M(e.subarray(32,64));return new ot(r,n)}assertValidity(){const{r:t,s:e}=this;if(!G(t)||!W(e))throw new Error("Invalid signature")}toHex(){return k(this.r)+k(this.s)}toRawBytes(){return C(this.toHex())}}class at{constructor(t,r,n=e.utils.randomBytes()){if(null==t)throw new TypeError(`sign: Expected valid message, not "${t}"`);this.m=D(t);const{x:i,scalar:s}=this.getScalar(X(r));if(this.px=i,this.d=s,this.rand=D(n),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(t){const e=x.fromPrivateKey(t),r=e.hasEvenY()?t:c.n-t;return{point:e,scalar:r,x:e.toRawX()}}initNonce(t,e){return F(t^M(e))}finalizeNonce(t){const e=j(M(t),c.n);if(e===i)throw new Error("sign: Creation of signature failed. k is zero");const{point:r,x:n,scalar:s}=this.getScalar(e);return{R:r,rx:n,k:s}}finalizeSig(t,e,r,n){return new ot(t.x,j(e+r*n,c.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:t,d:r,px:n,rand:i}=this,s=e.utils.taggedHash,o=this.initNonce(r,await s(dt.aux,i)),{R:a,rx:u,k:c}=this.finalizeNonce(await s(dt.nonce,o,n,t)),f=st(await s(dt.challenge,u,n,t)),h=this.finalizeSig(a,c,f,r);return await ft(h,t,n)||this.error(),h}calcSync(){const{m:t,d:r,px:n,rand:i}=this,s=e.utils.taggedHashSync,o=this.initNonce(r,s(dt.aux,i)),{R:a,rx:u,k:c}=this.finalizeNonce(s(dt.nonce,o,n,t)),f=st(s(dt.challenge,u,n,t)),h=this.finalizeSig(a,c,f,r);return ht(h,t,n)||this.error(),h}}function ut(t,e,r){const n=t instanceof ot,i=n?t:ot.fromHex(t);return n&&i.assertValidity(),{...i,m:D(e),P:J(r)}}function ct(t,e,r,n){const i=x.BASE.multiplyAndAddUnsafe(e,X(r),j(-n,c.n));return!(!i||!i.hasEvenY()||i.x!==t)}async function ft(t,r,n){try{const{r:i,s,m:o,P:a}=ut(t,r,n),u=st(await e.utils.taggedHash(dt.challenge,F(i),a.toRawX(),o));return ct(i,a,s,u)}catch(t){return!1}}function ht(t,r,n){try{const{r:i,s,m:o,P:a}=ut(t,r,n),u=st(e.utils.taggedHashSync(dt.challenge,F(i),a.toRawX(),o));return ct(i,a,s,u)}catch(t){if(t instanceof b)throw t;return!1}}e.schnorr={Signature:ot,getPublicKey:function(t){return x.fromPrivateKey(t).toRawX()},sign:async function(t,e,r){return new at(t,e,r).calc()},verify:ft,signSync:function(t,e,r){return new at(t,e,r).calcSync()},verifySync:ht},x.BASE._setWindowSize(8);const lt={node:n,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},dt={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},pt={};e.utils={bytesToHex:O,hexToBytes:C,concatBytes:I,mod:j,invert:U,isValidPrivateKey(t){try{return X(t),!0}catch(t){return!1}},_bigintTo32Bytes:F,_normalizePrivateKey:X,hashToPrivateKey:t=>{t=D(t);const e=d+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return F(j(M(t),c.n-s)+s)},randomBytes:(t=32)=>{if(lt.web)return lt.web.getRandomValues(new Uint8Array(t));if(lt.node){const{randomBytes:e}=lt.node;return Uint8Array.from(e(t))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>e.utils.hashToPrivateKey(e.utils.randomBytes(d+8)),precompute(t=8,e=x.BASE){const r=e===x.BASE?e:new x(e.x,e.y);return r._setWindowSize(t),r.multiply(a),r},sha256:async(...t)=>{if(lt.web){const e=await lt.web.subtle.digest("SHA-256",I(...t));return new Uint8Array(e)}if(lt.node){const{createHash:e}=lt.node,r=e("sha256");return t.forEach((t=>r.update(t))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(lt.web){const r=await lt.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=I(...e),i=await lt.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(lt.node){const{createHmac:r}=lt.node,n=r("sha256",t);return e.forEach((t=>n.update(t))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...r)=>{let n=pt[t];if(void 0===n){const r=await e.utils.sha256(Uint8Array.from(t,(t=>t.charCodeAt(0))));n=I(r,r),pt[t]=n}return e.utils.sha256(n,...r)},taggedHashSync:(t,...e)=>{if("function"!=typeof V)throw new b("sha256Sync is undefined, you need to set it");let r=pt[t];if(void 0===r){const e=V(Uint8Array.from(t,(t=>t.charCodeAt(0))));r=I(e,e),pt[t]=r}return V(r,...e)},_JacobianPoint:w},Object.defineProperties(e.utils,{sha256Sync:{configurable:!1,get:()=>V,set(t){V||(V=t)}},hmacSha256Sync:{configurable:!1,get:()=>q,set(t){q||(q=t)}}})},2284:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.ed25519_getDerivedPrivateKey=e.isValidPath=e.ed25519_getRandomPrivateKey=e.ed25519SignTest=void 0;const i=r(9693);function s(t){const e=i.base.sha256("ed25519-test"),r=i.signUtil.ed25519.publicKeyCreate(t),n=i.signUtil.ed25519.sign(e,t);return i.signUtil.ed25519.verify(e,n,r)}e.ed25519SignTest=s,e.ed25519_getRandomPrivateKey=function(t,e){for(;;){const r=i.base.randomBytes(32);if(i.signUtil.ed25519.privateKeyVerify(r)&&s(r)){const n=i.signUtil.ed25519.publicKeyCreate(r),s=t?i.base.concatBytes(r,n):r;return"base58"===e?i.base.toBase58(s):i.base.toHex(s)}}};const o=new RegExp("^m(\\/[0-9]+')+$"),a=t=>t.replace("'","");e.isValidPath=t=>!!o.test(t)&&!t.split("/").slice(1).map(a).some(isNaN),e.ed25519_getDerivedPrivateKey=async function(t,r,s){const o=await i.bip39.mnemonicToSeed(t.mnemonic),u=function(t,r,s=2147483648){if(!(0,e.isValidPath)(t))throw new Error("Invalid derivation path");const{key:o,chainCode:u}=function(t){const e=i.base.hmacSHA512("ed25519 seed",t);return{key:e.slice(0,32),chainCode:e.slice(32)}}(r);return t.split("/").slice(1).map(a).map((t=>parseInt(t,10))).reduce(((t,e)=>function({key:t,chainCode:e},r){const s=n.allocUnsafe(4);s.writeUInt32BE(r,0);const o=n.concat([n.alloc(1,0),t,s]),a=i.base.hmacSHA512(e,o);return{key:a.slice(0,32),chainCode:a.slice(32)}}(t,e+s)),{key:o,chainCode:u})}(t.hdPath,o).key,c=i.signUtil.ed25519.publicKeyCreate(u),f=r?i.base.concatBytes(u,c):u;return"base58"===s?Promise.resolve(i.base.toBase58(f)):Promise.resolve(i.base.toHex(f))}},5727:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(2284),e),i(r(6199),e)},6199:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jsonStringifyUniform=e.cloneObject=e.assertBufferLength=e.convert2BigNumber=e.convert2Number=void 0;const n=r(9693);e.convert2Number=function(t){if(null!=t)return"string"==typeof t?parseInt(t):t},e.convert2BigNumber=function(t){if(null!=t)return n.BigNumber.isBigNumber(t)?t:new n.BigNumber(t)},e.assertBufferLength=function(t,e){if(t.length!=e)throw Error("buffer length is illegal")},e.cloneObject=function(t){return JSON.parse(JSON.stringify(t))},e.jsonStringifyUniform=function(t){return JSON.stringify(t,((t,e)=>e?"Buffer"===e.type||e instanceof Uint8Array?n.base.toHex(e):"bigint"==typeof e?e.toString():e:e))}},4087:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},5237:(t,e)=>{"use strict";var r,n;Object.defineProperty(e,"__esModule",{value:!0}),e.CoinCurveMap=e.MultiAddressCoins=e.segwitType=e.Currency=void 0,function(t){t[t.NULL=-1]="NULL",t[t.BTC=0]="BTC",t[t.TBTC=1]="TBTC",t[t.ETH=60]="ETH",t[t.LTC=2]="LTC",t[t.DOGE=3]="DOGE",t[t.BCH=145]="BCH",t[t.BSV=236]="BSV",t[t.TRX=195]="TRX",t[t.SOL=501]="SOL",t[t.APTOS=637]="APTOS",t[t.OMNI_USDT=20001]="OMNI_USDT",t[t.OMNI_USDT_TEST=20002]="OMNI_USDT_TEST",t[t.SUI=784]="SUI",t[t.ATOM=118]="ATOM",t[t.OSMO=1e3]="OSMO",t[t.EVMOS=1001]="EVMOS",t[t.AXL=1002]="AXL",t[t.CRO=1003]="CRO",t[t.Iris=1004]="Iris",t[t.Juno=1005]="Juno",t[t.Kava=1006]="Kava",t[t.Kujira=1007]="Kujira",t[t.SCRT=1008]="SCRT",t[t.Stargaze=1009]="Stargaze",t[t.Terra=1010]="Terra",t[t.ZKSPACE=1011]="ZKSPACE",t[t.ZKSYNC=804]="ZKSYNC",t[t.Stx=5757]="Stx",t[t.SEI=2837]="SEI",t[t.WAX=14001]="WAX",t[t.Starknet=9004]="Starknet",t[t.ADA=1815]="ADA",t[t.INJ=2892]="INJ",t[t.Celestia=2854]="Celestia",t[t.DYDX=2897]="DYDX",t[t.Kaspa=111111]="Kaspa",t[t.NostrAssets=1237]="NostrAssets"}(r=e.Currency||(e.Currency={})),(n=e.segwitType||(e.segwitType={}))[n.SEGWIT_NESTED=1]="SEGWIT_NESTED",n[n.SEGWIT_NESTED_49=2]="SEGWIT_NESTED_49",n[n.SEGWIT_NATIVE=3]="SEGWIT_NATIVE",n[n.SEGWIT_TAPROOT=4]="SEGWIT_TAPROOT",e.MultiAddressCoins=[r.BTC,r.TBTC,r.LTC,r.DOGE,r.BSV,r.OMNI_USDT,r.OMNI_USDT_TEST];const i="secp256k1",s="ed25519";e.CoinCurveMap=new Map([[r.BTC,i],[r.TBTC,i],[r.ETH,i],[r.LTC,i],[r.DOGE,i],[r.BCH,i],[r.BSV,i],[r.TRX,i],[r.OMNI_USDT,i],[r.OMNI_USDT_TEST,i],[r.ATOM,i],[r.OSMO,i],[r.EVMOS,i],[r.AXL,i],[r.CRO,i],[r.Iris,i],[r.Juno,i],[r.Kava,i],[r.Kujira,i],[r.SCRT,i],[r.Stargaze,i],[r.Terra,i],[r.SEI,i],[r.Celestia,i],[r.DYDX,i],[r.SOL,s],[r.APTOS,s],[r.SUI,s]])},205:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EstimateFeeError=e.validSignedTransactionError=e.GetPayLoadError=e.HardwareDerivePubKeyError=e.CalcTxHashError=e.SignMsgStep3Error=e.SignMsgSetupError=e.Ed25519Step3Error=e.Ed25519Step2Error=e.Ed25519Step1Error=e.Ed25519SetupError=e.EcdsaStep3Error=e.EcdsaStep2Error=e.EcdsaStep1Error=e.EcdsaSetupError=e.MPCShakeHandsError=e.MPCStepError=e.MPCAesKeyMissError=e.GetHardWareMessageHashError=e.GetHardwareSignedTransactionError=e.GetHardwareRawTransactionError=e.GetMpcTransactionError=e.GetMpcRawTransactionError=e.DerivePathError=e.GenMnemonicError=e.GenPrivateKeyError=e.UnsupportedCoinError=e.SignMsgError=e.SignTxError=e.ValidAddressError=e.NewAddressError=e.NotImplementedError=void 0,e.NotImplementedError="no implementation method",e.NewAddressError="generate address error",e.ValidAddressError="valid address error",e.SignTxError="sign tx error",e.SignMsgError="sign message error",e.UnsupportedCoinError="unsupported currency",e.GenPrivateKeyError="generate private key error",e.GenMnemonicError="generate mnemonic error",e.DerivePathError="derive hdPath error",e.GetMpcRawTransactionError="get mpc raw transaction error",e.GetMpcTransactionError="get mpc transaction error",e.GetHardwareRawTransactionError="get hardware raw transaction error",e.GetHardwareSignedTransactionError="get hardware signed transaction error",e.GetHardWareMessageHashError="get hardware message hash error",e.MPCAesKeyMissError="mpc get aes key error",e.MPCStepError="mpc step error",e.MPCShakeHandsError="mpc shake hands error",e.EcdsaSetupError="ecdsa setup error",e.EcdsaStep1Error="ecdsa step1 error",e.EcdsaStep2Error="ecdsa step2 error",e.EcdsaStep3Error="ecdsa step3 error",e.Ed25519SetupError="ed25519 setup error",e.Ed25519Step1Error="ed25519 step1 error",e.Ed25519Step2Error="ed25519 step2 error",e.Ed25519Step3Error="ed25519 step3 error",e.SignMsgSetupError="sign message setup error",e.SignMsgStep3Error="sign message step3 error",e.CalcTxHashError="calculate tx hash error",e.HardwareDerivePubKeyError="derive sub pub key error",e.GetPayLoadError="get payload error",e.validSignedTransactionError="valid signed transaction error",e.EstimateFeeError="estimate fee error"},7588:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(4087),e),i(r(5237),e),i(r(205),e),i(r(568),e),i(r(5727),e)},568:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.BaseWallet=e.secp256k1SignTest=void 0;const i=r(205),s=r(9693);function o(t){const e=s.base.sha256("secp256k1-test"),r=s.signUtil.secp256k1.publicKeyCreate(t,!1),{signature:i,recovery:o}=s.signUtil.secp256k1.sign(n.from(e),t);return s.signUtil.secp256k1.verify(e,i,o,r)}e.secp256k1SignTest=o,e.BaseWallet=class{getRandomPrivateKey(){try{for(;;){const t=s.base.randomBytes(32);if(o(t))return Promise.resolve(s.base.toHex(t,!0))}}catch(t){}return Promise.reject(i.GenPrivateKeyError)}getDerivedPrivateKey(t){return s.bip39.mnemonicToSeed(t.mnemonic).then((e=>{let r=s.bip32.fromSeed(e).derivePath(t.hdPath);if(r.privateKey){let t=s.base.toHex(r.privateKey);return Promise.resolve("0x"+t)}return Promise.reject(i.GenPrivateKeyError)})).catch((t=>Promise.reject(i.GenPrivateKeyError)))}getDerivedPath(t){return Promise.reject(i.NotImplementedError)}validPrivateKey(t){return Promise.reject(i.NotImplementedError)}signMessage(t){return Promise.reject(i.NotImplementedError)}verifyMessage(t){return Promise.reject(i.NotImplementedError)}ecRecover(t,e){return Promise.reject(i.NotImplementedError)}getAddressByPublicKey(t){return Promise.reject(i.NotImplementedError)}getMPCRawTransaction(t){return Promise.reject(i.NotImplementedError)}getMPCTransaction(t){return Promise.reject(i.NotImplementedError)}getMPCRawMessage(t){return Promise.reject(i.NotImplementedError)}getMPCSignedMessage(t){return Promise.reject(i.NotImplementedError)}getHardWareRawTransaction(t){return Promise.reject(i.NotImplementedError)}getHardWareSignedTransaction(t){return Promise.reject(i.NotImplementedError)}getHardWareMessageHash(t){return Promise.reject(i.NotImplementedError)}calcTxHash(t){return Promise.reject(i.NotImplementedError)}getRawTransaction(t){return Promise.reject(i.NotImplementedError)}validSignedTransaction(t){return Promise.reject(i.NotImplementedError)}estimateFee(t){return Promise.reject(i.NotImplementedError)}}},9877:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;const n=r(6895),i={q:0,p:1,z:2,r:3,y:4,9:5,x:6,8:7,g:8,f:9,2:10,t:11,v:12,d:13,w:14,0:15,s:16,3:17,j:18,n:19,5:20,4:21,k:22,h:23,c:24,e:25,6:26,m:27,u:28,a:29,7:30,l:31};e.encode=function(t){for(var e="",r=0;r<t.length;++r){var i=t[r];(0,n.validate)(0<=i&&i<32,"Invalid value: "+i+"."),e+="qpzry9x8gf2tvdw0s3jn54khce6mua7l"[i]}return e},e.decode=function(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;++r){var s=t[r];(0,n.validate)(s in i,"Invalid value: "+s+"."),e[r]=i[s]}return e}},9655:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;const o=s(r(9877)),a=r(4736),u=s(r(7141)),c=r(6895);function f(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;++r)e[r]=31&t[r].charCodeAt(0);return e}function h(t,e){var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function l(t){for(var e=[656907472481,522768456162,0xf33e5fb3c4,748107326120,130178868336],r=a(1),n=0;n<t.length;++n){var i=t[n],s=r.shiftRight(35);r=r.and(34359738367).shiftLeft(5).xor(i);for(var o=0;o<e.length;++o)s.shiftRight(o).and(1).equals(1)&&(r=r.xor(e[o]))}return r.xor(1)}e.encode=function(t,e,r){const n=h(f(t),new Uint8Array(1)),i=function(t){switch(t){case"P2PKH":return 0;case"P2SH":return 8;default:throw new Error("Invalid type: "+t+".")}}(e)+function(t){switch(8*t.length){case 160:return 0;case 192:return 1;case 224:return 2;case 256:return 3;case 320:return 4;case 384:return 5;case 448:return 6;case 512:return 7;default:throw new Error("Invalid hash size: "+t.length+".")}}(r),s=(a=h(new Uint8Array([i]),r),u.convert(a,8,5,!1));var a;const c=h(h(n,s),new Uint8Array(8)),d=h(s,function(t){for(var e=new Uint8Array(8),r=0;r<8;++r)e[7-r]=t.and(31).toJSNumber(),t=t.shiftRight(5);return e}(l(c)));return t+":"+o.encode(d)},e.decode=function(t){const e=t.toLowerCase().split(":");(0,c.validate)(2===e.length,"Missing prefix: "+t+".");const r=e[0],n=o.decode(e[1]);(0,c.validate)(function(t,e){var r=h(f(t),new Uint8Array(1));return l(h(r,e)).equals(0)}(r,n),"Invalid checksum: "+t+".");const i=(s=n.subarray(0,-8),u.convert(s,5,8,!0));var s;const a=i[0],d=i.subarray(1);(0,c.validate)(function(t){switch(7&t){case 0:return 160;case 1:return 192;case 2:return 224;case 3:return 256;case 4:return 320;case 5:return 384;case 6:return 448;case 7:return 512}}(a)===8*d.length,"Invalid hash size: "+t+".");const p=function(t){switch(120&t){case 0:return"P2PKH";case 8:return"P2SH";default:throw new Error("Invalid address type in version byte: "+t+".")}}(a);return{prefix:r,type:p,hash:d}}},7141:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convert=void 0;const n=r(6895);e.convert=function(t,e,r,i){for(var s=i?Math.floor(t.length*e/r):Math.ceil(t.length*e/r),o=(1<<r)-1,a=new Uint8Array(s),u=0,c=0,f=0,h=0;h<t.length;++h){var l=t[h];for((0,n.validate)(0<=l&&l>>e==0,"Invalid value: "+l+"."),c=c<<e|l,f+=e;f>=r;)f-=r,a[u]=c>>f&o,++u}return i?(0,n.validate)(f<e&&0==(c<<r-f&o),"Input cannot be converted to "+r+" bits without padding, but strict mode was used."):f>0&&(a[u]=c<<r-f&o,++u),a}},6748:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.convert2LegacyAddress=e.isCashAddress=e.ValidateBitcashP2PkHAddress=e.GetBitcashP2PkHAddressByPublicKey=e.GetBitcashAddressByPublicKey=e.GetBitcashAddressByHash=void 0;const a=r(4534),u=o(r(9655)),c=o(r(2346));function f(t,e,r){return u.encode(t,e,r)}e.GetBitcashAddressByHash=f,e.GetBitcashAddressByPublicKey=function(t,e,r){return f(t,e,(0,a.hash160)(n.from(r)))},e.GetBitcashP2PkHAddressByPublicKey=function(t){return f("bitcoincash","P2PKH",(0,a.hash160)(n.from(t)))},e.ValidateBitcashP2PkHAddress=function(t){try{-1===t.indexOf(":")&&(t="bitcoincash:"+t);const{prefix:e,type:r,hash:n}=u.decode(t);return"P2PKH"===r&&20===n.length}catch(t){return!1}},e.isCashAddress=function(t){try{return t.startsWith("bitcoincash:")||(t="bitcoincash:"+t,u.decode(t)),!0}catch(t){return!1}},e.convert2LegacyAddress=function(t,e){-1===t.indexOf(":")&&(t="bitcoincash:"+t);const{type:r,hash:i}=u.decode(t);if("P2PKH"==r)return c.p2pkh({hash:n.from(i),network:e}).address;if("P2SH"==r)return c.p2sh({hash:n.from(i),network:e}).address;throw new Error("convert2LegacyAddress error")}},6895:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validate=void 0,e.validate=function(t,e){if(!t)throw new Error(e)}},9807:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.toOutputScript=e.fromOutputScript=e.toBech32=e.toBase58Check=e.fromBech32=e.fromBase58Check=void 0;const a=o(r(7449)),u=o(r(2346)),c=o(r(9441)),f=o(r(1373)),h=r(9693),{typeforce:l}=f,d="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function p(t){const e=h.base.fromBase58Check(t);if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");return{version:e.readUInt8(0),hash:e.slice(1)}}function g(t){let e,r;try{e=h.base.bech32.decode(t)}catch(t){}if(e){if(r=e.words[0],0!==r)throw new TypeError(t+" uses wrong encoding")}else if(e=h.base.bech32m.decode(t),r=e.words[0],0===r)throw new TypeError(t+" uses wrong encoding");const i=h.base.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:n.from(i)}}function y(t,e,r){const n=h.base.bech32.toWords(t);return n.unshift(e),0===e?h.base.bech32.encode(r,n):h.base.bech32m.encode(r,n)}e.fromBase58Check=p,e.fromBech32=g,e.toBase58Check=function(t,e){l(f.tuple(f.Hash160bit,f.UInt8),arguments);const r=n.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),h.base.toBase58Check(r)},e.toBech32=y,e.fromOutputScript=function(t,e){e=e||a.bitcoin;try{return u.p2pkh({output:t,network:e}).address}catch(t){}try{return u.p2sh({output:t,network:e}).address}catch(t){}try{return u.p2wpkh({output:t,network:e}).address}catch(t){}try{return u.p2wsh({output:t,network:e}).address}catch(t){}try{return u.p2tr({output:t,network:e}).address}catch(t){}try{return function(t,e){const r=t.slice(2);if(r.length<2||r.length>40)throw new TypeError("Invalid program length for segwit address");const n=t[0]-80;if(n<2||n>16)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(d),y(r,n,e.bech32)}(t,e)}catch(t){}throw new Error(c.toASM(t)+" has no matching Address")},e.toOutputScript=function(t,e){let r,n;e=e||a.bitcoin;try{r=p(t)}catch(t){}if(r){if(r.version===e.pubKeyHash)return u.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return u.p2sh({hash:r.hash}).output}else{try{n=g(t)}catch(t){}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(0===n.version){if(20===n.data.length)return u.p2wpkh({hash:n.data}).output;if(32===n.data.length)return u.p2wsh({hash:n.data}).output}else if(1===n.version){if(32===n.data.length)return u.p2tr({pubkey:n.data}).output}else if(n.version>=2&&n.version<=16&&n.data.length>=2&&n.data.length<=40)return console.warn(d),c.compile([n.version+80,n.data])}}throw new Error(t+" has no matching Script")}},937:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.verifySimple=e.signSimple=void 0;const i=r(9693),s=r(9807),o=r(1593),a=r(7843),u=r(5024),c=r(1112),f=r(3253),h=r(8493);function l(t){const e=i.base.sha256(n.from("BIP0322-signed-message")),r=i.base.sha256(n.concat([e,e,n.from(t)]));return i.base.toHex(r)}e.signSimple=async function(t,e,r,d){const p=(0,s.toOutputScript)(e,d),g=n.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),y=n.concat([n.from("0020","hex"),n.from(l(t),"hex")]),m=new o.Transaction;m.version=0,m.addInput(g,4294967295,0,y),m.addOutput(p,0);const b=new a.Psbt({network:d});b.setVersion(0),b.addInput({hash:m.getHash(),index:0,sequence:0,witnessUtxo:{script:p,value:0}}),(0,h.isP2TR)(p)&&b.updateInput(0,{tapInternalKey:(0,f.wif2Public)(r,d).slice(1)}),b.addOutput({script:n.from("6a","hex"),value:0}),(0,c.psbtSignImpl)(b,r,d),b.finalizeAllInputs();const v=b.extractTransaction(),w=(0,u.encode)(v.ins[0].witness.length),S=n.concat([w,...v.ins[0].witness.map((t=>{return e=t,n.concat([(0,u.encode)(e.byteLength),e]);var e}))]);return i.base.toBase64(S)},e.verifySimple=function(t,e,r,u,c){const f=(0,s.toOutputScript)(e,c),d=n.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),p=n.concat([n.from("0020","hex"),n.from(l(t),"hex")]),g=new o.Transaction;g.version=0,g.addInput(d,4294967295,0,p),g.addOutput(f,0);const y=new a.Psbt;y.setVersion(0),y.addInput({hash:g.getHash(),index:0,sequence:0,witnessUtxo:{script:f,value:0}});const m=i.base.fromHex(u);return(0,h.isP2TR)(f)&&y.updateInput(0,{tapInternalKey:m.slice(1)}),y.addOutput({script:n.from("6a","hex"),value:0}),y.verify(m,n.from(i.base.fromBase64(r)))}},133:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combine=void 0;const n=r(5303);function i(t,e,r){return n=>{if(t.has(n))return;const i=r.filter((t=>t.key.toString("hex")===n))[0];e.push(i),t.add(n)}}function s(t){return t.globalMap.unsignedTx}function o(t){const e=new Set;return t.forEach((t=>{const r=t.key.toString("hex");if(e.has(r))throw new Error("Combine: KeyValue Map keys should be unique");e.add(r)})),e}e.combine=function(t){const e=t[0],r=(0,n.psbtToKeyVals)(e),a=t.slice(1);if(0===a.length)throw new Error("Combine: Nothing to combine");const u=s(e);if(void 0===u)throw new Error("Combine: Self missing transaction");const c=o(r.globalKeyVals),f=r.inputKeyVals.map(o),h=r.outputKeyVals.map(o);for(const t of a){const e=s(t);if(void 0===e||!e.toBuffer().equals(u.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");const a=(0,n.psbtToKeyVals)(t);o(a.globalKeyVals).forEach(i(c,r.globalKeyVals,a.globalKeyVals)),a.inputKeyVals.map(o).forEach(((t,e)=>t.forEach(i(f[e],r.inputKeyVals[e],a.inputKeyVals[e])))),a.outputKeyVals.map(o).forEach(((t,e)=>t.forEach(i(h[e],r.outputKeyVals[e],a.outputKeyVals[e]))))}return(0,n.psbtFromKeyVals)(u,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}},4490:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.canAddToArray=e.check=e.expected=e.encode=e.decode=void 0;const i=r(6417);e.decode=function(t){if(t.key[0]!==i.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(79!==t.key.length||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!=0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(const e of(n=t.value.length/4-1,[...Array(n).keys()])){const n=t.value.readUInt32LE(4*e+4),i=!!(2147483648&n),s=2147483647&n;r.path+="/"+s.toString(10)+(i?"'":"")}var n;return r},e.encode=function(t){const e=n.from([i.GlobalTypes.GLOBAL_XPUB]),r=n.concat([e,t.extendedPubkey]),s=t.path.split("/"),o=n.allocUnsafe(4*s.length);t.masterFingerprint.copy(o,0);let a=4;return s.slice(1).forEach((t=>{const e="'"===t.slice(-1);let r=2147483647&parseInt(e?t.slice(0,-1):t,10);e&&(r+=2147483648),o.writeUInt32LE(r,a),a+=4})),{key:r,value:o}},e.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",e.check=function(t){const e=t.extendedPubkey,r=t.masterFingerprint,i=t.path;return n.isBuffer(e)&&78===e.length&&[2,3].indexOf(e[45])>-1&&n.isBuffer(r)&&4===r.length&&"string"==typeof i&&!!i.match(/^m(\/\d+'?)*$/)},e.canAddToArray=function(t,e,r){const n=e.extendedPubkey.toString("hex");return!r.has(n)&&(r.add(n),0===t.filter((t=>t.extendedPubkey.equals(e.extendedPubkey))).length)}},2801:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.encode=void 0;const i=r(6417);e.encode=function(t){return{key:n.from([i.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}},5225:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.outputs=e.inputs=e.globals=void 0;const o=r(6417),a=s(r(4490)),u=s(r(2801)),c=s(r(4467)),f=s(r(5909)),h=s(r(6977)),l=s(r(8256)),d=s(r(551)),p=s(r(6617)),g=s(r(8596)),y=s(r(3177)),m=s(r(7537)),b=s(r(8781)),v=s(r(8676)),w=s(r(8046)),S=s(r(5608)),E=s(r(5561)),x=s(r(1118)),_=s(r(4035)),A=s(r(863)),P=s(r(9980)),I={unsignedTx:u,globalXpub:a,checkPubkey:E.makeChecker([])};e.globals=I;const T={nonWitnessUtxo:h,partialSig:l,sighashType:p,finalScriptSig:c,finalScriptWitness:f,porCommitment:d,witnessUtxo:v,bip32Derivation:S.makeConverter(o.InputTypes.BIP32_DERIVATION),redeemScript:x.makeConverter(o.InputTypes.REDEEM_SCRIPT),witnessScript:P.makeConverter(o.InputTypes.WITNESS_SCRIPT),checkPubkey:E.makeChecker([o.InputTypes.PARTIAL_SIG,o.InputTypes.BIP32_DERIVATION]),tapKeySig:g,tapScriptSig:b,tapLeafScript:y,tapBip32Derivation:_.makeConverter(o.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:A.makeConverter(o.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:m};e.inputs=T;const O={bip32Derivation:S.makeConverter(o.OutputTypes.BIP32_DERIVATION),redeemScript:x.makeConverter(o.OutputTypes.REDEEM_SCRIPT),witnessScript:P.makeConverter(o.OutputTypes.WITNESS_SCRIPT),checkPubkey:E.makeChecker([o.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:_.makeConverter(o.OutputTypes.TAP_BIP32_DERIVATION),tapTree:w,tapInternalKey:A.makeConverter(o.OutputTypes.TAP_INTERNAL_KEY)};e.outputs=O},4467:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.canAdd=e.check=e.expected=e.encode=e.decode=void 0;const i=r(6417);e.decode=function(t){if(t.key[0]!==i.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value},e.encode=function(t){return{key:n.from([i.InputTypes.FINAL_SCRIPTSIG]),value:t}},e.expected="Buffer",e.check=function(t){return n.isBuffer(t)},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.finalScriptSig}},5909:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.canAdd=e.check=e.expected=e.encode=e.decode=void 0;const i=r(6417);e.decode=function(t){if(t.key[0]!==i.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value},e.encode=function(t){return{key:n.from([i.InputTypes.FINAL_SCRIPTWITNESS]),value:t}},e.expected="Buffer",e.check=function(t){return n.isBuffer(t)},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.finalScriptWitness}},6977:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.canAdd=e.check=e.expected=e.encode=e.decode=void 0;const i=r(6417);e.decode=function(t){if(t.key[0]!==i.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value},e.encode=function(t){return{key:n.from([i.InputTypes.NON_WITNESS_UTXO]),value:t}},e.expected="Buffer",e.check=function(t){return n.isBuffer(t)},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.nonWitnessUtxo}},8256:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.canAddToArray=e.check=e.expected=e.encode=e.decode=void 0;const i=r(6417);e.decode=function(t){if(t.key[0]!==i.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(34!==t.key.length&&66!==t.key.length||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}},e.encode=function(t){const e=n.from([i.InputTypes.PARTIAL_SIG]);return{key:n.concat([e,t.pubkey]),value:t.signature}},e.expected="{ pubkey: Buffer; signature: Buffer; }",e.check=function(t){return n.isBuffer(t.pubkey)&&n.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&function(t){if(!n.isBuffer(t)||t.length<9)return!1;if(48!==t[0])return!1;if(t.length!==t[1]+3)return!1;if(2!==t[2])return!1;const e=t[3];if(e>33||e<1)return!1;if(2!==t[3+e+1])return!1;const r=t[3+e+2];return!(r>33||r<1)&&t.length===3+e+2+r+2}(t.signature)},e.canAddToArray=function(t,e,r){const n=e.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===t.filter((t=>t.pubkey.equals(e.pubkey))).length)}},551:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.canAdd=e.check=e.expected=e.encode=e.decode=void 0;const i=r(6417);e.decode=function(t){if(t.key[0]!==i.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")},e.encode=function(t){return{key:n.from([i.InputTypes.POR_COMMITMENT]),value:n.from(t,"utf8")}},e.expected="string",e.check=function(t){return"string"==typeof t},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.porCommitment}},6617:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.canAdd=e.check=e.expected=e.encode=e.decode=void 0;const i=r(6417);e.decode=function(t){if(t.key[0]!==i.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)},e.encode=function(t){const e=n.from([i.InputTypes.SIGHASH_TYPE]),r=n.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}},e.expected="number",e.check=function(t){return"number"==typeof t},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.sighashType}},8596:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.canAdd=e.check=e.expected=e.encode=e.decode=void 0;const i=r(6417);function s(t){return n.isBuffer(t)&&(64===t.length||65===t.length)}e.decode=function(t){if(t.key[0]!==i.InputTypes.TAP_KEY_SIG||1!==t.key.length)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!s(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value},e.encode=function(t){return{key:n.from([i.InputTypes.TAP_KEY_SIG]),value:t}},e.expected="Buffer",e.check=s,e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.tapKeySig}},3177:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.canAddToArray=e.check=e.expected=e.encode=e.decode=void 0;const i=r(6417);e.decode=function(t){if(t.key[0]!==i.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!=0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));const e=t.value[t.value.length-1];if((254&t.key[1])!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));const r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}},e.encode=function(t){const e=n.from([i.InputTypes.TAP_LEAF_SCRIPT]),r=n.from([t.leafVersion]);return{key:n.concat([e,t.controlBlock]),value:n.concat([t.script,r])}},e.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }",e.check=function(t){return n.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32==0&&(254&t.controlBlock[0])===t.leafVersion&&n.isBuffer(t.script)},e.canAddToArray=function(t,e,r){const n=e.controlBlock.toString("hex");return!r.has(n)&&(r.add(n),0===t.filter((t=>t.controlBlock.equals(e.controlBlock))).length)}},7537:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.canAdd=e.check=e.expected=e.encode=e.decode=void 0;const i=r(6417);function s(t){return n.isBuffer(t)&&32===t.length}e.decode=function(t){if(t.key[0]!==i.InputTypes.TAP_MERKLE_ROOT||1!==t.key.length)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!s(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value},e.encode=function(t){return{key:n.from([i.InputTypes.TAP_MERKLE_ROOT]),value:t}},e.expected="Buffer",e.check=s,e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.tapMerkleRoot}},8781:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.canAddToArray=e.check=e.expected=e.encode=e.decode=void 0;const i=r(6417);e.decode=function(t){if(t.key[0]!==i.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(65!==t.key.length)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(64!==t.value.length&&65!==t.value.length)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1,33),leafHash:t.key.slice(33),signature:t.value}},e.encode=function(t){const e=n.from([i.InputTypes.TAP_SCRIPT_SIG]);return{key:n.concat([e,t.pubkey,t.leafHash]),value:t.signature}},e.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }",e.check=function(t){return n.isBuffer(t.pubkey)&&n.isBuffer(t.leafHash)&&n.isBuffer(t.signature)&&32===t.pubkey.length&&32===t.leafHash.length&&(64===t.signature.length||65===t.signature.length)},e.canAddToArray=function(t,e,r){const n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return!r.has(n)&&(r.add(n),0===t.filter((t=>t.pubkey.equals(e.pubkey)&&t.leafHash.equals(e.leafHash))).length)}},8676:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.canAdd=e.check=e.expected=e.encode=e.decode=void 0;const a=r(6417),u=r(2558),c=o(r(4922));e.decode=function(t){if(t.key[0]!==a.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));const e=(0,u.readUInt64LE)(t.value,0);let r=8;const n=c.decode(t.value,r);r+=c.encodingLength(n);const i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}},e.encode=function(t){const{script:e,value:r}=t,i=c.encodingLength(e.length),s=n.allocUnsafe(8+i+e.length);return(0,u.writeUInt64LE)(s,r,0),c.encode(e.length,s,8),e.copy(s,8+i),{key:n.from([a.InputTypes.WITNESS_UTXO]),value:s}},e.expected="{ script: Buffer; value: number; }",e.check=function(t){return n.isBuffer(t.script)&&"number"==typeof t.value},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.witnessUtxo}},8046:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.canAdd=e.check=e.expected=e.encode=e.decode=void 0;const a=r(6417),u=o(r(4922));e.decode=function(t){if(t.key[0]!==a.OutputTypes.TAP_TREE||1!==t.key.length)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0;const r=[];for(;e<t.value.length;){const n=t.value[e++],i=t.value[e++],s=u.decode(t.value,e);e+=u.encodingLength(s),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+s)}),e+=s}return{leaves:r}},e.encode=function(t){const e=n.from([a.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map((t=>[n.of(t.depth,t.leafVersion),u.encode(t.script.length),t.script])));return{key:e,value:n.concat(r)}},e.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }",e.check=function(t){return Array.isArray(t.leaves)&&t.leaves.every((t=>t.depth>=0&&t.depth<=128&&(254&t.leafVersion)===t.leafVersion&&n.isBuffer(t.script)))},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.tapTree}},5608:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.makeConverter=void 0;const i=t=>33===t.length&&[2,3].includes(t[0])||65===t.length&&4===t[0];e.makeConverter=function(t,e=i){return{decode:function(r){if(r.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+r.key.toString("hex"));const n=r.key.slice(1);if(!e(n))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+r.key.toString("hex"));if(r.value.length/4%1!=0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const i={masterFingerprint:r.value.slice(0,4),pubkey:n,path:"m"};for(const t of(s=r.value.length/4-1,[...Array(s).keys()])){const e=r.value.readUInt32LE(4*t+4),n=!!(2147483648&e),s=2147483647&e;i.path+="/"+s.toString(10)+(n?"'":"")}var s;return i},encode:function(e){const r=n.from([t]),i=n.concat([r,e.pubkey]),s=e.path.split("/"),o=n.allocUnsafe(4*s.length);e.masterFingerprint.copy(o,0);let a=4;return s.slice(1).forEach((t=>{const e="'"===t.slice(-1);let r=2147483647&parseInt(e?t.slice(0,-1):t,10);e&&(r+=2147483648),o.writeUInt32LE(r,a),a+=4})),{key:i,value:o}},check:function(t){return n.isBuffer(t.pubkey)&&n.isBuffer(t.masterFingerprint)&&"string"==typeof t.path&&e(t.pubkey)&&4===t.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function(t,e,r){const n=e.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===t.filter((t=>t.pubkey.equals(e.pubkey))).length)}}}},5561:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeChecker=void 0,e.makeChecker=function(t){return function(e){let r;if(t.includes(e.key[0])&&(r=e.key.slice(1),33!==r.length&&65!==r.length||![2,3,4].includes(r[0])))throw new Error("Format Error: invalid pubkey in key 0x"+e.key.toString("hex"));return r}}},1118:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.makeConverter=void 0,e.makeConverter=function(t){return{decode:function(e){if(e.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+e.key.toString("hex"));return e.value},encode:function(e){return{key:n.from([t]),value:e}},check:function(t){return n.isBuffer(t)},expected:"Buffer",canAdd:function(t,e){return!!t&&!!e&&void 0===t.redeemScript}}}},4035:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.makeConverter=void 0;const a=o(r(4922)),u=o(r(5608)),c=t=>32===t.length;e.makeConverter=function(t){const e=u.makeConverter(t,c);return{decode:function(t){const r=a.decode(t.value),n=a.encodingLength(r),i=e.decode({key:t.key,value:t.value.slice(n+32*r)}),s=new Array(r);for(let e=0,i=n;e<r;e++,i+=32)s[e]=t.value.slice(i,i+32);return{...i,leafHashes:s}},encode:function(t){const r=e.encode(t),i=a.encodingLength(t.leafHashes.length),s=n.allocUnsafe(i);a.encode(t.leafHashes.length,s);const o=n.concat([s,...t.leafHashes,r.value]);return{...r,value:o}},check:function(t){return Array.isArray(t.leafHashes)&&t.leafHashes.every((t=>n.isBuffer(t)&&32===t.length))&&e.check(t)},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }",canAddToArray:e.canAddToArray}}},863:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.makeConverter=void 0,e.makeConverter=function(t){return{decode:function(e){if(e.key[0]!==t||1!==e.key.length)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+e.key.toString("hex"));if(32!==e.value.length)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return e.value},encode:function(e){return{key:n.from([t]),value:e}},check:function(t){return n.isBuffer(t)&&32===t.length},expected:"Buffer",canAdd:function(t,e){return!!t&&!!e&&void 0===t.tapInternalKey}}}},9980:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.makeConverter=void 0,e.makeConverter=function(t){return{decode:function(e){if(e.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+e.key.toString("hex"));return e.value},encode:function(e){return{key:n.from([t]),value:e}},check:function(t){return n.isBuffer(t)},expected:"Buffer",canAdd:function(t,e){return!!t&&!!e&&void 0===t.witnessScript}}}},2558:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.writeUInt64LE=e.readUInt64LE=e.keyValToBuffer=e.keyValsToBuffer=e.reverseBuffer=e.range=void 0;const a=o(r(4922));function u(t){const e=t.key.length,r=t.value.length,i=a.encodingLength(e),s=a.encodingLength(r),o=n.allocUnsafe(i+e+s+r);return a.encode(e,o,0),t.key.copy(o,i),a.encode(r,o,i+e),t.value.copy(o,i+e+s),o}function c(t,e){if("number"!=typeof t)throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}e.range=t=>[...Array(t).keys()],e.reverseBuffer=function(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t},e.keyValsToBuffer=function(t){const e=t.map(u);return e.push(n.from([0])),n.concat(e)},e.keyValToBuffer=u,e.readUInt64LE=function(t,e){const r=t.readUInt32LE(e);let n=t.readUInt32LE(e+4);return n*=4294967296,c(n+r,9007199254740991),n+r},e.writeUInt64LE=function(t,e,r){return c(e,9007199254740991),t.writeInt32LE(-1&e,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}},4922:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.encodingLength=e.decode=e.encode=void 0;const i=9007199254740991;function s(t){if(t<0||t>i||t%1!=0)throw new RangeError("value out of range")}function o(t){return s(t),t<253?1:t<=65535?3:t<=4294967295?5:9}e.encode=function t(e,r,i){if(s(e),r||(r=n.allocUnsafe(o(e))),!n.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return i||(i=0),e<253?(r.writeUInt8(e,i),Object.assign(t,{bytes:1})):e<=65535?(r.writeUInt8(253,i),r.writeUInt16LE(e,i+1),Object.assign(t,{bytes:3})):e<=4294967295?(r.writeUInt8(254,i),r.writeUInt32LE(e,i+1),Object.assign(t,{bytes:5})):(r.writeUInt8(255,i),r.writeUInt32LE(e>>>0,i+1),r.writeUInt32LE(e/4294967296|0,i+5),Object.assign(t,{bytes:9})),r},e.decode=function t(e,r){if(!n.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");r||(r=0);const i=e.readUInt8(r);if(i<253)return Object.assign(t,{bytes:1}),i;if(253===i)return Object.assign(t,{bytes:3}),e.readUInt16LE(r+1);if(254===i)return Object.assign(t,{bytes:5}),e.readUInt32LE(r+1);{Object.assign(t,{bytes:9});const n=e.readUInt32LE(r+1),i=4294967296*e.readUInt32LE(r+5)+n;return s(i),i}},e.encodingLength=o},6159:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.psbtFromKeyVals=e.checkKeyBuffer=e.psbtFromBuffer=void 0;const a=o(r(5225)),u=r(2558),c=o(r(4922)),f=r(6417);function h(t,e,r){if(!e.equals(n.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}function l(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){const i={unsignedTx:t};let s=0;for(const t of e)switch(t.key[0]){case f.GlobalTypes.UNSIGNED_TX:if(h("global",t.key,f.GlobalTypes.UNSIGNED_TX),s>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");s++;break;case f.GlobalTypes.GLOBAL_XPUB:void 0===i.globalXpub&&(i.globalXpub=[]),i.globalXpub.push(a.globals.globalXpub.decode(t));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(t)}const o=r.length,c=n.length,l=[],d=[];for(const t of(0,u.range)(o)){const e={};for(const n of r[t])switch(a.inputs.checkPubkey(n),n.key[0]){case f.InputTypes.NON_WITNESS_UTXO:if(h("input",n.key,f.InputTypes.NON_WITNESS_UTXO),void 0!==e.nonWitnessUtxo)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");e.nonWitnessUtxo=a.inputs.nonWitnessUtxo.decode(n);break;case f.InputTypes.WITNESS_UTXO:if(h("input",n.key,f.InputTypes.WITNESS_UTXO),void 0!==e.witnessUtxo)throw new Error("Format Error: Input has multiple WITNESS_UTXO");e.witnessUtxo=a.inputs.witnessUtxo.decode(n);break;case f.InputTypes.PARTIAL_SIG:void 0===e.partialSig&&(e.partialSig=[]),e.partialSig.push(a.inputs.partialSig.decode(n));break;case f.InputTypes.SIGHASH_TYPE:if(h("input",n.key,f.InputTypes.SIGHASH_TYPE),void 0!==e.sighashType)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");e.sighashType=a.inputs.sighashType.decode(n);break;case f.InputTypes.REDEEM_SCRIPT:if(h("input",n.key,f.InputTypes.REDEEM_SCRIPT),void 0!==e.redeemScript)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");e.redeemScript=a.inputs.redeemScript.decode(n);break;case f.InputTypes.WITNESS_SCRIPT:if(h("input",n.key,f.InputTypes.WITNESS_SCRIPT),void 0!==e.witnessScript)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");e.witnessScript=a.inputs.witnessScript.decode(n);break;case f.InputTypes.BIP32_DERIVATION:void 0===e.bip32Derivation&&(e.bip32Derivation=[]),e.bip32Derivation.push(a.inputs.bip32Derivation.decode(n));break;case f.InputTypes.FINAL_SCRIPTSIG:h("input",n.key,f.InputTypes.FINAL_SCRIPTSIG),e.finalScriptSig=a.inputs.finalScriptSig.decode(n);break;case f.InputTypes.FINAL_SCRIPTWITNESS:h("input",n.key,f.InputTypes.FINAL_SCRIPTWITNESS),e.finalScriptWitness=a.inputs.finalScriptWitness.decode(n);break;case f.InputTypes.POR_COMMITMENT:h("input",n.key,f.InputTypes.POR_COMMITMENT),e.porCommitment=a.inputs.porCommitment.decode(n);break;case f.InputTypes.TAP_KEY_SIG:h("input",n.key,f.InputTypes.TAP_KEY_SIG),e.tapKeySig=a.inputs.tapKeySig.decode(n);break;case f.InputTypes.TAP_SCRIPT_SIG:void 0===e.tapScriptSig&&(e.tapScriptSig=[]),e.tapScriptSig.push(a.inputs.tapScriptSig.decode(n));break;case f.InputTypes.TAP_LEAF_SCRIPT:void 0===e.tapLeafScript&&(e.tapLeafScript=[]),e.tapLeafScript.push(a.inputs.tapLeafScript.decode(n));break;case f.InputTypes.TAP_BIP32_DERIVATION:void 0===e.tapBip32Derivation&&(e.tapBip32Derivation=[]),e.tapBip32Derivation.push(a.inputs.tapBip32Derivation.decode(n));break;case f.InputTypes.TAP_INTERNAL_KEY:h("input",n.key,f.InputTypes.TAP_INTERNAL_KEY),e.tapInternalKey=a.inputs.tapInternalKey.decode(n);break;case f.InputTypes.TAP_MERKLE_ROOT:h("input",n.key,f.InputTypes.TAP_MERKLE_ROOT),e.tapMerkleRoot=a.inputs.tapMerkleRoot.decode(n);break;default:e.unknownKeyVals||(e.unknownKeyVals=[]),e.unknownKeyVals.push(n)}l.push(e)}for(const t of(0,u.range)(c)){const e={};for(const r of n[t])switch(a.outputs.checkPubkey(r),r.key[0]){case f.OutputTypes.REDEEM_SCRIPT:if(h("output",r.key,f.OutputTypes.REDEEM_SCRIPT),void 0!==e.redeemScript)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");e.redeemScript=a.outputs.redeemScript.decode(r);break;case f.OutputTypes.WITNESS_SCRIPT:if(h("output",r.key,f.OutputTypes.WITNESS_SCRIPT),void 0!==e.witnessScript)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");e.witnessScript=a.outputs.witnessScript.decode(r);break;case f.OutputTypes.BIP32_DERIVATION:void 0===e.bip32Derivation&&(e.bip32Derivation=[]),e.bip32Derivation.push(a.outputs.bip32Derivation.decode(r));break;case f.OutputTypes.TAP_INTERNAL_KEY:h("output",r.key,f.OutputTypes.TAP_INTERNAL_KEY),e.tapInternalKey=a.outputs.tapInternalKey.decode(r);break;case f.OutputTypes.TAP_TREE:h("output",r.key,f.OutputTypes.TAP_TREE),e.tapTree=a.outputs.tapTree.decode(r);break;case f.OutputTypes.TAP_BIP32_DERIVATION:void 0===e.tapBip32Derivation&&(e.tapBip32Derivation=[]),e.tapBip32Derivation.push(a.outputs.tapBip32Derivation.decode(r));break;default:e.unknownKeyVals||(e.unknownKeyVals=[]),e.unknownKeyVals.push(r)}d.push(e)}return{globalMap:i,inputs:l,outputs:d}}e.psbtFromBuffer=function(t,e){let r=0;function n(){const e=c.decode(t,r);r+=c.encodingLength(e);const n=t.slice(r,r+e);return r+=e,n}function i(){return{key:n(),value:n()}}function s(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");const e=0===t.readUInt8(r);return e&&r++,e}if(1886610036!==function(){const e=t.readUInt32BE(r);return r+=4,e}())throw new Error("Format Error: Invalid Magic Number");if(255!==function(){const e=t.readUInt8(r);return r+=1,e}())throw new Error("Format Error: Magic Number must be followed by 0xff separator");const o=[],a={};for(;!s();){const t=i(),e=t.key.toString("hex");if(a[e])throw new Error("Format Error: Keys must be unique for global keymap: key "+e);a[e]=1,o.push(t)}const h=o.filter((t=>t.key[0]===f.GlobalTypes.UNSIGNED_TX));if(1!==h.length)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const d=e(h[0].value),{inputCount:p,outputCount:g}=d.getInputOutputCounts(),y=[],m=[];for(const t of(0,u.range)(p)){const e={},r=[];for(;!s();){const n=i(),s=n.key.toString("hex");if(e[s])throw new Error("Format Error: Keys must be unique for each input: input index "+t+" key "+s);e[s]=1,r.push(n)}y.push(r)}for(const t of(0,u.range)(g)){const e={},r=[];for(;!s();){const n=i(),s=n.key.toString("hex");if(e[s])throw new Error("Format Error: Keys must be unique for each output: output index "+t+" key "+s);e[s]=1,r.push(n)}m.push(r)}return l(d,{globalMapKeyVals:o,inputKeyVals:y,outputKeyVals:m})},e.checkKeyBuffer=h,e.psbtFromKeyVals=l},5303:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(6159),e),i(r(4816),e)},4816:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.psbtToKeyVals=e.psbtToBuffer=void 0;const a=o(r(5225)),u=r(2558);e.psbtToBuffer=function({globalMap:t,inputs:e,outputs:r}){const{globalKeyVals:i,inputKeyVals:s,outputKeyVals:o}=h({globalMap:t,inputs:e,outputs:r}),a=(0,u.keyValsToBuffer)(i),c=t=>0===t.length?[n.from([0])]:t.map(u.keyValsToBuffer),f=c(s),l=c(o),d=n.allocUnsafe(5);return d.writeUIntBE(482972169471,0,5),n.concat([d,a].concat(f,l))};const c=(t,e)=>t.key.compare(e.key);function f(t,e){const r=new Set,n=Object.entries(t).reduce(((t,[n,i])=>{if("unknownKeyVals"===n)return t;const s=e[n];if(void 0===s)return t;const o=(Array.isArray(i)?i:[i]).map(s.encode);return o.map((t=>t.key.toString("hex"))).forEach((t=>{if(r.has(t))throw new Error("Serialize Error: Duplicate key: "+t);r.add(t)})),t.concat(o)}),[]),i=t.unknownKeyVals?t.unknownKeyVals.filter((t=>!r.has(t.key.toString("hex")))):[];return n.concat(i).sort(c)}function h({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:f(t,a.globals),inputKeyVals:e.map((t=>f(t,a.inputs))),outputKeyVals:r.map((t=>f(t,a.outputs)))}}e.psbtToKeyVals=h},3878:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.Psbt=void 0;const i=r(133),s=r(5303),o=r(6417),a=r(5865);e.Psbt=class{static fromBase64(t,e){const r=n.from(t,"base64");return this.fromBuffer(r,e)}static fromHex(t,e){const r=n.from(t,"hex");return this.fromBuffer(r,e)}static fromBuffer(t,e){const r=(0,s.psbtFromBuffer)(t,e),n=new this(r.globalMap.unsignedTx);return Object.assign(n,r),n}constructor(t){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:t}}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return(0,s.psbtToBuffer)(this)}updateGlobal(t){return(0,a.updateGlobal)(t,this.globalMap),this}updateInput(t,e){const r=(0,a.checkForInput)(this.inputs,t);return(0,a.updateInput)(e,r),this}updateOutput(t,e){const r=(0,a.checkForOutput)(this.outputs,t);return(0,a.updateOutput)(e,r),this}addUnknownKeyValToGlobal(t){return(0,a.checkHasKey)(t,this.globalMap.unknownKeyVals,(0,a.getEnumLength)(o.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(t),this}addUnknownKeyValToInput(t,e){const r=(0,a.checkForInput)(this.inputs,t);return(0,a.checkHasKey)(e,r.unknownKeyVals,(0,a.getEnumLength)(o.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(e),this}addUnknownKeyValToOutput(t,e){const r=(0,a.checkForOutput)(this.outputs,t);return(0,a.checkHasKey)(e,r.unknownKeyVals,(0,a.getEnumLength)(o.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(e),this}addInput(t){this.globalMap.unsignedTx.addInput(t),this.inputs.push({unknownKeyVals:[]});const e=t.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(e))throw new Error("unknownKeyVals must be an Array");return e.forEach((t=>this.addUnknownKeyValToInput(r,t))),(0,a.addInputAttributes)(this.inputs,t),this}addOutput(t){this.globalMap.unsignedTx.addOutput(t),this.outputs.push({unknownKeyVals:[]});const e=t.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(e))throw new Error("unknownKeyVals must be an Array");return e.forEach((t=>this.addUnknownKeyValToInput(r,t))),(0,a.addOutputAttributes)(this.outputs,t),this}clearFinalizedInput(t){const e=(0,a.checkForInput)(this.inputs,t);(0,a.inputCheckUncleanFinalized)(t,e);for(const t of Object.keys(e))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(t)||delete e[t];return this}combine(...t){const e=(0,i.combine)([this].concat(t));return Object.assign(this,e),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}}},6417:(t,e)=>{"use strict";var r,n,i;Object.defineProperty(e,"__esModule",{value:!0}),e.OUTPUT_TYPE_NAMES=e.OutputTypes=e.INPUT_TYPE_NAMES=e.InputTypes=e.GLOBAL_TYPE_NAMES=e.GlobalTypes=void 0,(i=e.GlobalTypes||(e.GlobalTypes={}))[i.UNSIGNED_TX=0]="UNSIGNED_TX",i[i.GLOBAL_XPUB=1]="GLOBAL_XPUB",e.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],(n=e.InputTypes||(e.InputTypes={}))[n.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",n[n.WITNESS_UTXO=1]="WITNESS_UTXO",n[n.PARTIAL_SIG=2]="PARTIAL_SIG",n[n.SIGHASH_TYPE=3]="SIGHASH_TYPE",n[n.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",n[n.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",n[n.BIP32_DERIVATION=6]="BIP32_DERIVATION",n[n.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",n[n.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",n[n.POR_COMMITMENT=9]="POR_COMMITMENT",n[n.TAP_KEY_SIG=19]="TAP_KEY_SIG",n[n.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",n[n.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",n[n.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",n[n.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",n[n.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT",e.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],(r=e.OutputTypes||(e.OutputTypes={}))[r.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",r[r.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",r[r.BIP32_DERIVATION=2]="BIP32_DERIVATION",r[r.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",r[r.TAP_TREE=6]="TAP_TREE",r[r.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION",e.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]},5865:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultLocktimeSetter=e.defaultVersionSetter=e.addOutputAttributes=e.addInputAttributes=e.updateOutput=e.updateInput=e.updateGlobal=e.inputCheckUncleanFinalized=e.getEnumLength=e.checkHasKey=e.checkForOutput=e.checkForInput=void 0;const a=o(r(5225));function u(t,e){const r=t[e];if(void 0===r)throw new Error(`No input #${e}`);return r}function c(t,e){const r=t[e];if(void 0===r)throw new Error(`No output #${e}`);return r}function f(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function h(t){return(e,r)=>{for(const n of Object.keys(e)){const i=e[n],{canAdd:s,canAddToArray:o,check:u,expected:c}=a[t+"s"][n]||{};if(u)if(o){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(u)||f(t,n,c,i);const e=r[n]||[],s=new Set;if(!i.every((t=>o(e,t,s))))throw new Error("Can not add duplicate data to array");r[n]=e.concat(i)}else{if(u(i)||f(t,n,c,i),!s(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}e.checkForInput=u,e.checkForOutput=c,e.checkHasKey=function(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&0!==e.filter((e=>e.key.equals(t.key))).length)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)},e.getEnumLength=function(t){let e=0;return Object.keys(t).forEach((t=>{Number(isNaN(Number(t)))&&e++})),e},e.inputCheckUncleanFinalized=function(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){const t=!!e.redeemScript,n=!!e.witnessScript,i=!t||!!e.finalScriptSig,s=!n||!!e.finalScriptWitness,o=!!e.finalScriptSig||!!e.finalScriptWitness;r=i&&s&&o}if(!1===r)throw new Error(`Input #${t} has too much or too little data to clean`)},e.updateGlobal=h("global"),e.updateInput=h("input"),e.updateOutput=h("output"),e.addInputAttributes=function(t,r){const n=u(t,t.length-1);(0,e.updateInput)(r,n)},e.addOutputAttributes=function(t,r){const n=c(t,t.length-1);(0,e.updateOutput)(r,n)},e.defaultVersionSetter=function(t,e){if(!n.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e},e.defaultLocktimeSetter=function(t,e){if(!n.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}},5673:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.encode=e.decode=e.check=void 0,e.check=function(t){if(t.length<8)return!1;if(t.length>72)return!1;if(48!==t[0])return!1;if(t[1]!==t.length-2)return!1;if(2!==t[2])return!1;const e=t[3];if(0===e)return!1;if(5+e>=t.length)return!1;if(2!==t[4+e])return!1;const r=t[5+e];return!(0===r||6+e+r!==t.length||128&t[4]||e>1&&0===t[4]&&!(128&t[5])||128&t[e+6]||r>1&&0===t[e+6]&&!(128&t[e+7]))},e.decode=function(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(48!==t[0])throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(2!==t[2])throw new Error("Expected DER integer");const e=t[3];if(0===e)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(2!==t[4+e])throw new Error("Expected DER integer (2)");const r=t[5+e];if(0===r)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(128&t[4])throw new Error("R value is negative");if(e>1&&0===t[4]&&!(128&t[5]))throw new Error("R value excessively padded");if(128&t[e+6])throw new Error("S value is negative");if(r>1&&0===t[e+6]&&!(128&t[e+7]))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}},e.encode=function(t,e){const r=t.length,i=e.length;if(0===r)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&t[0])throw new Error("R value is negative");if(128&e[0])throw new Error("S value is negative");if(r>1&&0===t[0]&&!(128&t[1]))throw new Error("R value excessively padded");if(i>1&&0===e[0]&&!(128&e[1]))throw new Error("S value excessively padded");const s=n.allocUnsafe(6+r+i);return s[0]=48,s[1]=s.length-2,s[2]=2,s[3]=t.length,t.copy(s,4),s[4+r]=2,s[5+r]=e.length,e.copy(s,6+r),s}},3861:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.BufferReader=e.BufferWriter=e.cloneBuffer=e.reverseBuffer=e.writeUInt64LE=e.readUInt64LE=e.varuint=void 0;const a=o(r(1373)),{typeforce:u}=a,c=o(r(5024));function f(t,e){if("number"!=typeof t)throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function h(t,e){const r=t.readUInt32LE(e);let n=t.readUInt32LE(e+4);return n*=4294967296,f(n+r,9007199254740991),n+r}function l(t,e,r){return f(e,9007199254740991),t.writeInt32LE(-1&e,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}e.varuint=c,e.readUInt64LE=h,e.writeUInt64LE=l,e.reverseBuffer=function(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t},e.cloneBuffer=function(t){const e=n.allocUnsafe(t.length);return t.copy(e),e};class d{static withCapacity(t){return new d(n.alloc(t))}constructor(t,e=0){this.buffer=t,this.offset=e,u(a.tuple(a.Buffer,a.UInt32),[t,e])}writeUInt8(t){this.offset=this.buffer.writeUInt8(t,this.offset)}writeInt32(t){this.offset=this.buffer.writeInt32LE(t,this.offset)}writeUInt32(t){this.offset=this.buffer.writeUInt32LE(t,this.offset)}writeUInt64(t){this.offset=l(this.buffer,t,this.offset)}writeVarInt(t){c.encode(t,this.buffer,this.offset),this.offset+=c.encode.bytes}writeSlice(t){if(this.buffer.length<this.offset+t.length)throw new Error("Cannot write slice out of bounds");this.offset+=t.copy(this.buffer,this.offset)}writeVarSlice(t){this.writeVarInt(t.length),this.writeSlice(t)}writeVector(t){this.writeVarInt(t.length),t.forEach((t=>this.writeVarSlice(t)))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}e.BufferWriter=d,e.BufferReader=class{constructor(t,e=0){this.buffer=t,this.offset=e,u(a.tuple(a.Buffer,a.UInt32),[t,e])}readUInt8(){const t=this.buffer.readUInt8(this.offset);return this.offset++,t}readInt32(){const t=this.buffer.readInt32LE(this.offset);return this.offset+=4,t}readUInt32(){const t=this.buffer.readUInt32LE(this.offset);return this.offset+=4,t}readUInt64(){const t=h(this.buffer,this.offset);return this.offset+=8,t}readVarInt(){const t=c.decode(this.buffer,this.offset);return this.offset+=c.decode.bytes,t}readSlice(t){if(this.buffer.length<this.offset+t)throw new Error("Cannot read slice out of bounds");const e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const t=this.readVarInt(),e=[];for(let r=0;r<t;r++)e.push(this.readVarSlice());return e}}},4534:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.taggedHash=e.hash256=e.hash160=e.sha256=e.ripemd160=void 0;const i=r(9693);function s(t){return n.from(i.base.ripemd160(t))}function o(t){return n.from(i.base.sha256(t))}e.ripemd160=s,e.sha256=o,e.hash160=function(t){return s(o(t))},e.hash256=function(t){return o(o(t))};const a=Object.fromEntries(["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"].map((t=>{const e=o(n.from(t));return[t,n.concat([e,e])]})));e.taggedHash=function(t,e){return o(n.concat([a[t],e]))}},7104:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.BufferWriter=e.Transaction=e.bip0322=e.script=e.payments=e.networks=e.crypto=e.address=void 0;const o=s(r(9807));e.address=o;const a=s(r(4534));e.crypto=a;const u=s(r(7449));e.networks=u;const c=s(r(2346));e.payments=c;const f=s(r(9441));e.script=f;const h=s(r(937));e.bip0322=h;var l=r(1593);Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return l.Transaction}});var d=r(3861);Object.defineProperty(e,"BufferWriter",{enumerable:!0,get:function(){return d.BufferWriter}})},7449:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.testnet=e.regtest=e.bitcoin=void 0,e.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},e.regtest={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},e.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},6484:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.REVERSE_OPS=e.OPS=void 0;const r={OP_FALSE:0,OP_0:0,OP_DATA_1:1,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};e.OPS=r;const n={};e.REVERSE_OPS=n;for(const t of Object.keys(r))n[r[t]]=t},4996:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.tweakKey=e.tapTweakHash=e.tapleafHash=e.findScriptPath=e.toHashTree=e.rootHashFromPath=e.MAX_TAPTREE_DEPTH=e.LEAF_VERSION_TAPSCRIPT=void 0;const o=r(8764),a=s(r(4534)),u=r(3861),c=r(1373),f=r(6726);function h(t){const r=t.version||e.LEAF_VERSION_TAPSCRIPT;return a.taggedHash("TapLeaf",o.Buffer.concat([o.Buffer.from([r]),d(t.output)]))}function l(t,e){return a.taggedHash("TapBranch",o.Buffer.concat([t,e]))}function d(t){const e=u.varuint.encodingLength(t.length),r=o.Buffer.allocUnsafe(e);return u.varuint.encode(t.length,r),o.Buffer.concat([r,t])}e.LEAF_VERSION_TAPSCRIPT=192,e.MAX_TAPTREE_DEPTH=128,e.rootHashFromPath=function(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);const r=(t.length-33)/32;let n=e;for(let e=0;e<r;e++){const r=t.slice(33+32*e,65+32*e);n=n.compare(r)<0?l(n,r):l(r,n)}return n},e.toHashTree=function t(e){if((0,c.isTapleaf)(e))return{hash:h(e)};const r=[t(e[0]),t(e[1])];r.sort(((t,e)=>t.hash.compare(e.hash)));const[n,i]=r;return{hash:l(n.hash,i.hash),left:n,right:i}},e.findScriptPath=function t(e,r){if("left"in(n=e)&&"right"in n){const n=t(e.left,r);if(void 0!==n)return[...n,e.right.hash];const i=t(e.right,r);if(void 0!==i)return[...i,e.left.hash]}else if(e.hash.equals(r))return[];var n},e.tapleafHash=h,e.tapTweakHash=function(t,e){return a.taggedHash("TapTweak",o.Buffer.concat(e?[t,e]:[t]))},e.tweakKey=function(t,e){if(!o.Buffer.isBuffer(t))return null;if(32!==t.length)return null;if(e&&32!==e.length)return null;const r=(0,f.taprootTweakPubkey)(t,e);return{parity:r[1],x:o.Buffer.from(r[0])}}},7403:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.p2data=void 0;const o=r(7449),a=s(r(9441)),u=r(1373),c=s(r(1521)),f=a.OPS;e.p2data=function(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,u.typeforce)({network:u.typeforce.maybe(u.typeforce.Object),output:u.typeforce.maybe(u.typeforce.Buffer),data:u.typeforce.maybe(u.typeforce.arrayOf(u.typeforce.Buffer))},t);const r={name:"embed",network:t.network||o.bitcoin};if(c.prop(r,"output",(()=>{if(t.data)return a.compile([f.OP_RETURN].concat(t.data))})),c.prop(r,"data",(()=>{if(t.output)return a.decompile(t.output).slice(1)})),e.validate&&t.output){const e=a.decompile(t.output);if(e[0]!==f.OP_RETURN)throw new TypeError("Output is invalid");if(!e.slice(1).every(u.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!function(t,e){return t.length===e.length&&t.every(((t,r)=>t.equals(e[r])))}(t.data,r.data))throw new TypeError("Data mismatch")}return Object.assign(r,t)}},2346:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.p2tr=e.p2wsh=e.p2wpkh=e.p2sh=e.p2pkh=e.p2pk=e.p2ms=e.embed=void 0;const n=r(7403);Object.defineProperty(e,"embed",{enumerable:!0,get:function(){return n.p2data}});const i=r(19);Object.defineProperty(e,"p2ms",{enumerable:!0,get:function(){return i.p2ms}});const s=r(9322);Object.defineProperty(e,"p2pk",{enumerable:!0,get:function(){return s.p2pk}});const o=r(8674);Object.defineProperty(e,"p2pkh",{enumerable:!0,get:function(){return o.p2pkh}});const a=r(3864);Object.defineProperty(e,"p2sh",{enumerable:!0,get:function(){return a.p2sh}});const u=r(9567);Object.defineProperty(e,"p2wpkh",{enumerable:!0,get:function(){return u.p2wpkh}});const c=r(66);Object.defineProperty(e,"p2wsh",{enumerable:!0,get:function(){return c.p2wsh}});const f=r(4714);Object.defineProperty(e,"p2tr",{enumerable:!0,get:function(){return f.p2tr}})},1521:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.value=e.prop=void 0,e.prop=function(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){const t=r.call(this);return this[e]=t,t},set(t){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:t,writable:!0})}})},e.value=function(t){let e;return()=>(void 0!==e||(e=t()),e)}},19:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.p2ms=void 0;const o=r(7449),a=s(r(9441)),u=r(1373),c=s(r(1521)),f=a.OPS,h=f.OP_RESERVED;function l(t,e){return t.length===e.length&&t.every(((t,r)=>t.equals(e[r])))}e.p2ms=function(t,e){if(!(t.input||t.output||t.pubkeys&&void 0!==t.m||t.signatures))throw new TypeError("Not enough data");function r(t){return a.isCanonicalScriptSignature(t)||void 0!==(e.allowIncomplete&&t===f.OP_0)}e=Object.assign({validate:!0},e||{}),(0,u.typeforce)({network:u.typeforce.maybe(u.typeforce.Object),m:u.typeforce.maybe(u.typeforce.Number),n:u.typeforce.maybe(u.typeforce.Number),output:u.typeforce.maybe(u.typeforce.Buffer),pubkeys:u.typeforce.maybe(u.typeforce.arrayOf(u.isPoint)),signatures:u.typeforce.maybe(u.typeforce.arrayOf(r)),input:u.typeforce.maybe(u.typeforce.Buffer)},t);const n={network:t.network||o.bitcoin};let i=[],s=!1;function d(t){s||(s=!0,i=a.decompile(t),n.m=i[0]-h,n.n=i[i.length-2]-h,n.pubkeys=i.slice(1,-2))}if(c.prop(n,"output",(()=>{if(t.m&&n.n&&t.pubkeys)return a.compile([].concat(h+t.m,t.pubkeys,h+n.n,f.OP_CHECKMULTISIG))})),c.prop(n,"m",(()=>{if(n.output)return d(n.output),n.m})),c.prop(n,"n",(()=>{if(n.pubkeys)return n.pubkeys.length})),c.prop(n,"pubkeys",(()=>{if(t.output)return d(t.output),n.pubkeys})),c.prop(n,"signatures",(()=>{if(t.input)return a.decompile(t.input).slice(1)})),c.prop(n,"input",(()=>{if(t.signatures)return a.compile([f.OP_0].concat(t.signatures))})),c.prop(n,"witness",(()=>{if(n.input)return[]})),c.prop(n,"name",(()=>{if(n.m&&n.n)return`p2ms(${n.m} of ${n.n})`})),e.validate){if(t.output){if(d(t.output),!u.typeforce.Number(i[0]))throw new TypeError("Output is invalid");if(!u.typeforce.Number(i[i.length-2]))throw new TypeError("Output is invalid");if(i[i.length-1]!==f.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(n.m<=0||n.n>16||n.m>n.n||n.n!==i.length-3)throw new TypeError("Output is invalid");if(!n.pubkeys.every((t=>(0,u.isPoint)(t))))throw new TypeError("Output is invalid");if(void 0!==t.m&&t.m!==n.m)throw new TypeError("m mismatch");if(void 0!==t.n&&t.n!==n.n)throw new TypeError("n mismatch");if(t.pubkeys&&!l(t.pubkeys,n.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(void 0!==t.n&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(n.n=t.pubkeys.length,n.n<n.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<n.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>n.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==f.OP_0)throw new TypeError("Input is invalid");if(0===n.signatures.length||!n.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!l(t.signatures,n.signatures))throw new TypeError("Signature mismatch");if(void 0!==t.m&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(n,t)}},9322:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.p2pk=void 0;const o=r(7449),a=s(r(9441)),u=r(1373),c=s(r(1521)),f=a.OPS;e.p2pk=function(t,e){if(!(t.input||t.output||t.pubkey||t.input||t.signature))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,u.typeforce)({network:u.typeforce.maybe(u.typeforce.Object),output:u.typeforce.maybe(u.typeforce.Buffer),pubkey:u.typeforce.maybe(u.isPoint),signature:u.typeforce.maybe(a.isCanonicalScriptSignature),input:u.typeforce.maybe(u.typeforce.Buffer)},t);const r=c.value((()=>a.decompile(t.input))),n={name:"p2pk",network:t.network||o.bitcoin};if(c.prop(n,"output",(()=>{if(t.pubkey)return a.compile([t.pubkey,f.OP_CHECKSIG])})),c.prop(n,"pubkey",(()=>{if(t.output)return t.output.slice(1,-1)})),c.prop(n,"signature",(()=>{if(t.input)return r()[0]})),c.prop(n,"input",(()=>{if(t.signature)return a.compile([t.signature])})),c.prop(n,"witness",(()=>{if(n.input)return[]})),e.validate){if(t.output){if(t.output[t.output.length-1]!==f.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,u.isPoint)(n.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(n.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(n.input))throw new TypeError("Signature mismatch");if(t.input){if(1!==r().length)throw new TypeError("Input is invalid");if(!a.isCanonicalScriptSignature(n.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(n,t)}},8674:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.p2pkh=void 0;const a=o(r(4534)),u=r(7449),c=o(r(9441)),f=r(1373),h=o(r(1521)),l=c.OPS,d=r(9693);e.p2pkh=function(t,e){if(!(t.address||t.hash||t.output||t.pubkey||t.input))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,f.typeforce)({network:f.typeforce.maybe(f.typeforce.Object),address:f.typeforce.maybe(f.typeforce.String),hash:f.typeforce.maybe(f.typeforce.BufferN(20)),output:f.typeforce.maybe(f.typeforce.BufferN(25)),pubkey:f.typeforce.maybe(f.isPoint),signature:f.typeforce.maybe(c.isCanonicalScriptSignature),input:f.typeforce.maybe(f.typeforce.Buffer)},t);const r=h.value((()=>{const e=d.base.fromBase58Check(t.address);return{version:e.readUInt8(0),hash:e.slice(1)}})),i=h.value((()=>c.decompile(t.input))),s=t.network||u.bitcoin,o={name:"p2pkh",network:s};if(h.prop(o,"address",(()=>{if(!o.hash)return;const t=n.allocUnsafe(21);return t.writeUInt8(s.pubKeyHash,0),o.hash.copy(t,1),d.base.toBase58Check(t)})),h.prop(o,"hash",(()=>t.output?t.output.slice(3,23):t.address?r().hash:t.pubkey||o.pubkey?a.hash160(t.pubkey||o.pubkey):void 0)),h.prop(o,"output",(()=>{if(o.hash)return c.compile([l.OP_DUP,l.OP_HASH160,o.hash,l.OP_EQUALVERIFY,l.OP_CHECKSIG])})),h.prop(o,"pubkey",(()=>{if(t.input)return i()[1]})),h.prop(o,"signature",(()=>{if(t.input)return i()[0]})),h.prop(o,"input",(()=>{if(t.pubkey&&t.signature)return c.compile([t.signature,t.pubkey])})),h.prop(o,"witness",(()=>{if(o.input)return[]})),e.validate){let e=n.from([]);if(t.address){if(r().version!==s.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==r().hash.length)throw new TypeError("Invalid address");e=r().hash}if(t.hash){if(e.length>0&&!e.equals(t.hash))throw new TypeError("Hash mismatch");e=t.hash}if(t.output){if(25!==t.output.length||t.output[0]!==l.OP_DUP||t.output[1]!==l.OP_HASH160||20!==t.output[2]||t.output[23]!==l.OP_EQUALVERIFY||t.output[24]!==l.OP_CHECKSIG)throw new TypeError("Output is invalid");const r=t.output.slice(3,23);if(e.length>0&&!e.equals(r))throw new TypeError("Hash mismatch");e=r}if(t.pubkey){const r=a.hash160(t.pubkey);if(e.length>0&&!e.equals(r))throw new TypeError("Hash mismatch");e=r}if(t.input){const r=i();if(2!==r.length)throw new TypeError("Input is invalid");if(!c.isCanonicalScriptSignature(r[0]))throw new TypeError("Input has invalid signature");if(!(0,f.isPoint)(r[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(r[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(r[1]))throw new TypeError("Pubkey mismatch");const n=a.hash160(r[1]);if(e.length>0&&!e.equals(n))throw new TypeError("Hash mismatch")}}return Object.assign(o,t)}},3864:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.p2sh=void 0;const a=o(r(4534)),u=r(7449),c=o(r(9441)),f=r(1373),h=o(r(1521)),l=r(9693),d=c.OPS;e.p2sh=function(t,e){if(!(t.address||t.hash||t.output||t.redeem||t.input))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,f.typeforce)({network:f.typeforce.maybe(f.typeforce.Object),address:f.typeforce.maybe(f.typeforce.String),hash:f.typeforce.maybe(f.typeforce.BufferN(20)),output:f.typeforce.maybe(f.typeforce.BufferN(23)),redeem:f.typeforce.maybe({network:f.typeforce.maybe(f.typeforce.Object),output:f.typeforce.maybe(f.typeforce.Buffer),input:f.typeforce.maybe(f.typeforce.Buffer),witness:f.typeforce.maybe(f.typeforce.arrayOf(f.typeforce.Buffer))}),input:f.typeforce.maybe(f.typeforce.Buffer),witness:f.typeforce.maybe(f.typeforce.arrayOf(f.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||u.bitcoin);const i={network:r},s=h.value((()=>{const e=l.base.fromBase58Check(t.address);return{version:e.readUInt8(0),hash:e.slice(1)}})),o=h.value((()=>c.decompile(t.input))),p=h.value((()=>{const e=o();return{network:r,output:e[e.length-1],input:c.compile(e.slice(0,-1)),witness:t.witness||[]}}));if(h.prop(i,"address",(()=>{if(!i.hash)return;const t=n.allocUnsafe(21);return t.writeUInt8(i.network.scriptHash,0),i.hash.copy(t,1),l.base.toBase58Check(t)})),h.prop(i,"hash",(()=>t.output?t.output.slice(2,22):t.address?s().hash:i.redeem&&i.redeem.output?a.hash160(i.redeem.output):void 0)),h.prop(i,"output",(()=>{if(i.hash)return c.compile([d.OP_HASH160,i.hash,d.OP_EQUAL])})),h.prop(i,"redeem",(()=>{if(t.input)return p()})),h.prop(i,"input",(()=>{if(t.redeem&&t.redeem.input&&t.redeem.output)return c.compile([].concat(c.decompile(t.redeem.input),t.redeem.output))})),h.prop(i,"witness",(()=>i.redeem&&i.redeem.witness?i.redeem.witness:i.input?[]:void 0)),h.prop(i,"name",(()=>{const t=["p2sh"];return void 0!==i.redeem&&void 0!==i.redeem.name&&t.push(i.redeem.name),t.join("-")})),e.validate){let e=n.from([]);if(t.address){if(s().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==s().hash.length)throw new TypeError("Invalid address");e=s().hash}if(t.hash){if(e.length>0&&!e.equals(t.hash))throw new TypeError("Hash mismatch");e=t.hash}if(t.output){if(23!==t.output.length||t.output[0]!==d.OP_HASH160||20!==t.output[1]||t.output[22]!==d.OP_EQUAL)throw new TypeError("Output is invalid");const r=t.output.slice(2,22);if(e.length>0&&!e.equals(r))throw new TypeError("Hash mismatch");e=r}const i=t=>{if(t.output){const r=c.decompile(t.output);if(!r||r.length<1)throw new TypeError("Redeem.output too short");const n=a.hash160(t.output);if(e.length>0&&!e.equals(n))throw new TypeError("Hash mismatch");e=n}if(t.input){const e=t.input.length>0,r=t.witness&&t.witness.length>0;if(!e&&!r)throw new TypeError("Empty input");if(e&&r)throw new TypeError("Input and witness provided");if(e){const e=c.decompile(t.input);if(!c.isPushOnly(e))throw new TypeError("Non push-only scriptSig")}}};if(t.input){const t=o();if(!t||t.length<1)throw new TypeError("Input too short");if(!n.isBuffer(p().output))throw new TypeError("Input is invalid");i(p())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){const e=p();if(t.redeem.output&&!t.redeem.output.equals(e.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(e.input))throw new TypeError("Redeem.input mismatch")}i(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!function(t,e){return t.length===e.length&&t.every(((t,r)=>t.equals(e[r])))}(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(i,t)}},4714:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.p2tr=void 0;const o=r(8764),a=r(7449),u=s(r(9441)),c=r(1373),f=r(4996),h=s(r(1521)),l=r(9693),d=u.OPS;e.p2tr=function(t,e){if(!(t.address||t.output||t.pubkey||t.internalPubkey||t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,c.typeforce)({address:c.typeforce.maybe(c.typeforce.String),input:c.typeforce.maybe(c.typeforce.BufferN(0)),network:c.typeforce.maybe(c.typeforce.Object),output:c.typeforce.maybe(c.typeforce.BufferN(34)),internalPubkey:c.typeforce.maybe(c.typeforce.BufferN(32)),hash:c.typeforce.maybe(c.typeforce.BufferN(32)),pubkey:c.typeforce.maybe(c.typeforce.BufferN(32)),witness:c.typeforce.maybe(c.typeforce.arrayOf(c.typeforce.Buffer)),scriptTree:c.typeforce.maybe(c.isTaptree),redeem:c.typeforce.maybe({output:c.typeforce.maybe(c.typeforce.Buffer),redeemVersion:c.typeforce.maybe(c.typeforce.Number),witness:c.typeforce.maybe(c.typeforce.arrayOf(c.typeforce.Buffer))}),redeemVersion:c.typeforce.maybe(c.typeforce.Number)},t);const r=h.value((()=>{const e=l.base.bech32m.decode(t.address),r=e.words.shift(),n=l.base.bech32m.fromWords(e.words);return{version:r,prefix:e.prefix,data:o.Buffer.from(n)}})),n=h.value((()=>{if(t.witness&&t.witness.length)return t.witness.length>=2&&80===t.witness[t.witness.length-1][0]?t.witness.slice(0,-1):t.witness.slice()})),i=h.value((()=>t.scriptTree?(0,f.toHashTree)(t.scriptTree):t.hash?{hash:t.hash}:void 0)),s=t.network||a.bitcoin,p={name:"p2tr",network:s};if(h.prop(p,"address",(()=>{if(!p.pubkey)return;const t=l.base.bech32m.toWords(p.pubkey);return t.unshift(1),l.base.bech32m.encode(s.bech32,t)})),h.prop(p,"hash",(()=>{const t=i();if(t)return t.hash;const e=n();if(e&&e.length>1){const t=e[e.length-1],r=t[0]&c.TAPLEAF_VERSION_MASK,n=e[e.length-2],i=(0,f.tapleafHash)({output:n,version:r});return(0,f.rootHashFromPath)(t,i)}return null})),h.prop(p,"output",(()=>{if(p.pubkey)return u.compile([d.OP_1,p.pubkey])})),h.prop(p,"redeemVersion",(()=>t.redeemVersion?t.redeemVersion:t.redeem&&void 0!==t.redeem.redeemVersion&&null!==t.redeem.redeemVersion?t.redeem.redeemVersion:f.LEAF_VERSION_TAPSCRIPT)),h.prop(p,"redeem",(()=>{const t=n();if(t&&!(t.length<2))return{output:t[t.length-2],witness:t.slice(0,-2),redeemVersion:t[t.length-1][0]&c.TAPLEAF_VERSION_MASK}})),h.prop(p,"pubkey",(()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(p.internalPubkey){const t=(0,f.tweakKey)(p.internalPubkey,p.hash);if(t)return t.x}})),h.prop(p,"internalPubkey",(()=>{if(t.internalPubkey)return t.internalPubkey;const e=n();return e&&e.length>1?e[e.length-1].slice(1,33):void 0})),h.prop(p,"signature",(()=>{if(t.signature)return t.signature;const e=n();return e&&1===e.length?e[0]:void 0})),h.prop(p,"witness",(()=>{if(t.witness)return t.witness;const e=i();if(e&&t.redeem&&t.redeem.output&&t.internalPubkey){const r=(0,f.tapleafHash)({output:t.redeem.output,version:p.redeemVersion}),n=(0,f.findScriptPath)(e,r);if(!n)return;const i=(0,f.tweakKey)(t.internalPubkey,e.hash);if(!i)return;const s=o.Buffer.concat([o.Buffer.from([p.redeemVersion|i.parity]),t.internalPubkey].concat(n));return[t.redeem.output,s]}return t.signature?[t.signature]:void 0})),e.validate){let e=o.Buffer.from([]);if(t.address){if(s&&s.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(1!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");e=r().data}if(t.pubkey){if(e.length>0&&!e.equals(t.pubkey))throw new TypeError("Pubkey mismatch");e=t.pubkey}if(t.output){if(34!==t.output.length||t.output[0]!==d.OP_1||32!==t.output[1])throw new TypeError("Output is invalid");if(e.length>0&&!e.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");e=t.output.slice(2)}if(t.internalPubkey){const r=(0,f.tweakKey)(t.internalPubkey,p.hash);if(e.length>0&&!e.equals(r.x))throw new TypeError("Pubkey mismatch");e=r.x}if(e&&e.length&&32!==e.length)throw new TypeError("Invalid pubkey for p2tr");const a=i();if(t.hash&&a&&!t.hash.equals(a.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&a){const e=(0,f.tapleafHash)({output:t.redeem.output,version:p.redeemVersion});if(!(0,f.findScriptPath)(a,e))throw new TypeError("Redeem script not in tree")}const h=n();if(t.redeem&&p.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==p.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(0===u.decompile(t.redeem.output).length)throw new TypeError("Redeem.output is invalid");if(p.redeem.output&&!t.redeem.output.equals(p.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&p.redeem.witness&&!function(t,e){return t.length===e.length&&t.every(((t,r)=>t.equals(e[r])))}(t.redeem.witness,p.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(h&&h.length)if(1===h.length){if(t.signature&&!t.signature.equals(h[0]))throw new TypeError("Signature mismatch")}else{const r=h[h.length-1];if(r.length<33)throw new TypeError(`The control-block length is too small. Got ${r.length}, expected min 33.`);if((r.length-33)%32!=0)throw new TypeError(`The control-block length of ${r.length} is incorrect!`);const n=(r.length-33)/32;if(n>128)throw new TypeError(`The script path is too long. Got ${n}, expected max 128.`);const i=r.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(i))throw new TypeError("Internal pubkey mismatch");if(32!==i.length)throw new TypeError("Invalid internalPubkey for p2tr witness");const s=r[0]&c.TAPLEAF_VERSION_MASK,o=h[h.length-2],a=(0,f.tapleafHash)({output:o,version:s}),u=(0,f.rootHashFromPath)(r,a),l=(0,f.tweakKey)(i,u);if(!l)throw new TypeError("Invalid outputKey for p2tr witness");if(e.length&&!e.equals(l.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(l.parity!==(1&r[0]))throw new Error("Incorrect parity")}}return Object.assign(p,t)}},9567:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.p2wpkh=void 0;const a=o(r(4534)),u=r(7449),c=o(r(9441)),f=r(1373),h=o(r(1521)),l=r(9693),d=c.OPS,p=n.alloc(0);e.p2wpkh=function(t,e){if(!(t.address||t.hash||t.output||t.pubkey||t.witness))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,f.typeforce)({address:f.typeforce.maybe(f.typeforce.String),hash:f.typeforce.maybe(f.typeforce.BufferN(20)),input:f.typeforce.maybe(f.typeforce.BufferN(0)),network:f.typeforce.maybe(f.typeforce.Object),output:f.typeforce.maybe(f.typeforce.BufferN(22)),pubkey:f.typeforce.maybe(f.isPoint),signature:f.typeforce.maybe(c.isCanonicalScriptSignature),witness:f.typeforce.maybe(f.typeforce.arrayOf(f.typeforce.Buffer))},t);const r=h.value((()=>{const e=l.base.bech32.decode(t.address),r=e.words.shift(),i=l.base.bech32.fromWords(e.words);return{version:r,prefix:e.prefix,data:n.from(i)}})),i=t.network||u.bitcoin,s={name:"p2wpkh",network:i};if(h.prop(s,"address",(()=>{if(!s.hash)return;const t=l.base.bech32.toWords(s.hash);return t.unshift(0),l.base.bech32.encode(i.bech32,t)})),h.prop(s,"hash",(()=>t.output?t.output.slice(2,22):t.address?r().data:t.pubkey||s.pubkey?a.hash160(t.pubkey||s.pubkey):void 0)),h.prop(s,"output",(()=>{if(s.hash)return c.compile([d.OP_0,s.hash])})),h.prop(s,"pubkey",(()=>t.pubkey?t.pubkey:t.witness?t.witness[1]:void 0)),h.prop(s,"signature",(()=>{if(t.witness)return t.witness[0]})),h.prop(s,"input",(()=>{if(s.witness)return p})),h.prop(s,"witness",(()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]})),e.validate){let e=n.from([]);if(t.address){if(i&&i.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(20!==r().data.length)throw new TypeError("Invalid address data");e=r().data}if(t.hash){if(e.length>0&&!e.equals(t.hash))throw new TypeError("Hash mismatch");e=t.hash}if(t.output){if(22!==t.output.length||t.output[0]!==d.OP_0||20!==t.output[1])throw new TypeError("Output is invalid");if(e.length>0&&!e.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");e=t.output.slice(2)}if(t.pubkey){const r=a.hash160(t.pubkey);if(e.length>0&&!e.equals(r))throw new TypeError("Hash mismatch");if(e=r,!(0,f.isPoint)(t.pubkey)||33!==t.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(2!==t.witness.length)throw new TypeError("Witness is invalid");if(!c.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,f.isPoint)(t.witness[1])||33!==t.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");const r=a.hash160(t.witness[1]);if(e.length>0&&!e.equals(r))throw new TypeError("Hash mismatch")}}return Object.assign(s,t)}},66:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.p2wsh=void 0;const a=o(r(4534)),u=r(7449),c=o(r(9441)),f=r(1373),h=o(r(1521)),l=r(9693),d=c.OPS,p=n.alloc(0);function g(t){return!(!n.isBuffer(t)||65!==t.length||4!==t[0]||!(0,f.isPoint)(t))}e.p2wsh=function(t,e){if(!(t.address||t.hash||t.output||t.redeem||t.witness))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,f.typeforce)({network:f.typeforce.maybe(f.typeforce.Object),address:f.typeforce.maybe(f.typeforce.String),hash:f.typeforce.maybe(f.typeforce.BufferN(32)),output:f.typeforce.maybe(f.typeforce.BufferN(34)),redeem:f.typeforce.maybe({input:f.typeforce.maybe(f.typeforce.Buffer),network:f.typeforce.maybe(f.typeforce.Object),output:f.typeforce.maybe(f.typeforce.Buffer),witness:f.typeforce.maybe(f.typeforce.arrayOf(f.typeforce.Buffer))}),input:f.typeforce.maybe(f.typeforce.BufferN(0)),witness:f.typeforce.maybe(f.typeforce.arrayOf(f.typeforce.Buffer))},t);const r=h.value((()=>{const e=l.base.bech32.decode(t.address),r=e.words.shift(),i=l.base.bech32.fromWords(e.words);return{version:r,prefix:e.prefix,data:n.from(i)}})),i=h.value((()=>c.decompile(t.redeem.input)));let s=t.network;s||(s=t.redeem&&t.redeem.network||u.bitcoin);const o={network:s};if(h.prop(o,"address",(()=>{if(!o.hash)return;const t=l.base.bech32.toWords(o.hash);return t.unshift(0),l.base.bech32.encode(s.bech32,t)})),h.prop(o,"hash",(()=>t.output?t.output.slice(2):t.address?r().data:o.redeem&&o.redeem.output?a.sha256(o.redeem.output):void 0)),h.prop(o,"output",(()=>{if(o.hash)return c.compile([d.OP_0,o.hash])})),h.prop(o,"redeem",(()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:p,witness:t.witness.slice(0,-1)}})),h.prop(o,"input",(()=>{if(o.witness)return p})),h.prop(o,"witness",(()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){const e=c.toStack(i());return o.redeem=Object.assign({witness:e},t.redeem),o.redeem.input=p,[].concat(e,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)})),h.prop(o,"name",(()=>{const t=["p2wsh"];return void 0!==o.redeem&&void 0!==o.redeem.name&&t.push(o.redeem.name),t.join("-")})),e.validate){let e=n.from([]);if(t.address){if(r().prefix!==s.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");e=r().data}if(t.hash){if(e.length>0&&!e.equals(t.hash))throw new TypeError("Hash mismatch");e=t.hash}if(t.output){if(34!==t.output.length||t.output[0]!==d.OP_0||32!==t.output[1])throw new TypeError("Output is invalid");const r=t.output.slice(2);if(e.length>0&&!e.equals(r))throw new TypeError("Hash mismatch");e=r}if(t.redeem){if(t.redeem.network&&t.redeem.network!==s)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){if(0===c.decompile(t.redeem.output).length)throw new TypeError("Redeem.output is invalid");const r=a.sha256(t.redeem.output);if(e.length>0&&!e.equals(r))throw new TypeError("Hash mismatch");e=r}if(t.redeem.input&&!c.isPushOnly(i()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!function(t,e){return t.length===e.length&&t.every(((t,r)=>t.equals(e[r])))}(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&i().some(g)||t.redeem.output&&(c.decompile(t.redeem.output)||[]).some(g))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){const e=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(e))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(g)||(c.decompile(e)||[]).some(g))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(o,t)}},7843:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Psbt=void 0;const a=r(3878),u=o(r(4922)),c=r(5865),f=r(9807),h=r(3861),l=r(7449),d=o(r(2346)),p=r(4996),g=o(r(9441)),y=r(1593),m=r(7123),b=r(8493),v=r(9693),w=r(9441),S=r(6726),E=v.signUtil.schnorr.secp256k1.schnorr,x={network:l.bitcoin,maximumFeeRate:5e3};class _{static fromBase64(t,e={}){const r=n.from(t,"base64");return this.fromBuffer(r,e)}static fromHex(t,e={}){const r=n.from(t,"hex");return this.fromBuffer(r,e)}static fromBuffer(t,e={}){const r=a.Psbt.fromBuffer(t,A),n=new _(e,r);var i,s;return i=n.__CACHE.__TX,s=n.__CACHE,i.ins.forEach((t=>{N(s,t)})),n}constructor(t={},e=new a.Psbt(new P)){this.data=e,this.opts=Object.assign({},x,t),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);const r=(t,e,r,n)=>Object.defineProperty(t,e,{enumerable:r,writable:n});r(this,"__CACHE",!1,!0),r(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(t){this.setVersion(t)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(t){this.setLocktime(t)}get txInputs(){return this.__CACHE.__TX.ins.map((t=>({hash:(0,h.cloneBuffer)(t.hash),index:t.index,sequence:t.sequence})))}get txOutputs(){return this.__CACHE.__TX.outs.map((t=>{let e;try{e=(0,f.fromOutputScript)(t.script,this.opts.network)}catch(t){}return{script:(0,h.cloneBuffer)(t.script),value:t.value,address:e}}))}combine(...t){return this.data.combine(...t.map((t=>t.data))),this}clone(){const t=_.fromBuffer(this.data.toBuffer());return t.opts=JSON.parse(JSON.stringify(this.opts)),t}setMaximumFeeRate(t){k(t),this.opts.maximumFeeRate=t}setVersion(t){k(t),F(this.data.inputs,"setVersion");const e=this.__CACHE;return e.__TX.version=t,e.__EXTRACTED_TX=void 0,this}setLocktime(t){k(t),F(this.data.inputs,"setLocktime");const e=this.__CACHE;return e.__TX.locktime=t,e.__EXTRACTED_TX=void 0,this}setInputSequence(t,e){k(e),F(this.data.inputs,"setInputSequence");const r=this.__CACHE;if(r.__TX.ins.length<=t)throw new Error("Input index too high");return r.__TX.ins[t].sequence=e,r.__EXTRACTED_TX=void 0,this}addInputs(t){return t.forEach((t=>this.addInput(t))),this}addInput(t){if(arguments.length>1||!t||void 0===t.hash||void 0===t.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,m.checkTaprootInputFields)(t,t,"addInput"),F(this.data.inputs,"addInput"),t.witnessScript&&Q(t.witnessScript);const e=this.__CACHE;this.data.addInput(t),N(e,e.__TX.ins[e.__TX.ins.length-1]);const r=this.data.inputs.length-1,n=this.data.inputs[r];return n.nonWitnessUtxo&&W(this.__CACHE,n,r),e.__FEE=void 0,e.__FEE_RATE=void 0,e.__EXTRACTED_TX=void 0,this}addOutputs(t){return t.forEach((t=>this.addOutput(t))),this}addOutput(t){if(arguments.length>1||!t||void 0===t.value||void 0===t.address&&void 0===t.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");F(this.data.inputs,"addOutput");const{address:e}=t;if("string"==typeof e){const{network:r}=this.opts,n=(0,f.toOutputScript)(e,r);t=Object.assign(t,{script:n})}(0,m.checkTaprootOutputFields)(t,t,"addOutput");const r=this.__CACHE;return this.data.addOutput(t),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}extractTransaction(t){if(!this.data.inputs.every(O))throw new Error("Not finalized");const e=this.__CACHE;if(t||function(t,e,r){const n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),s=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(s/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}(this,e,this.opts),e.__EXTRACTED_TX)return e.__EXTRACTED_TX;const r=e.__TX.clone();return G(this.data.inputs,r,e,!0),r}getFeeRate(){return H("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return H("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,c.checkForInput)(this.data.inputs,0),et(this.data.inputs.length).forEach((t=>this.finalizeInput(t))),this}finalizeInput(t,e){const r=(0,c.checkForInput)(this.data.inputs,t);return(0,m.isTaprootInput)(r)?this._finalizeTaprootInput(t,r,void 0,e):this._finalizeInput(t,r,e)}finalizeTaprootInput(t,e,r=m.tapScriptFinalizer){const n=(0,c.checkForInput)(this.data.inputs,t);if((0,m.isTaprootInput)(n))return this._finalizeTaprootInput(t,n,e,r);throw new Error(`Cannot finalize input #${t}. Not Taproot.`)}_finalizeInput(t,e,r=j){const{script:n,isP2SH:i,isP2WSH:s,isSegwit:o}=function(t,e,r){const n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){const s=$(r,e,t),o=n.ins[t].index;i.script=s.outs[o].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||(0,b.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}(t,e,this.__CACHE);if(!n)throw new Error(`No script found for input #${t}`);!function(t){if(!t.sighashType||!t.partialSig)return;const{partialSig:e,sighashType:r}=t;e.forEach((t=>{const{hashType:e}=g.signature.decode(t.signature);if(r!==e)throw new Error("Signature sighash does not match input sighash type")}))}(e);const{finalScriptSig:a,finalScriptWitness:u}=r(t,e,n,o,i,s);if(a&&this.data.updateInput(t,{finalScriptSig:a}),u&&this.data.updateInput(t,{finalScriptWitness:u}),!a&&!u)throw new Error(`Unknown error finalizing input #${t}`);return this.data.clearFinalizedInput(t),this}_finalizeTaprootInput(t,e,r,n=m.tapScriptFinalizer){if(!e.witnessUtxo)throw new Error(`Cannot finalize input #${t}. Missing withness utxo.`);if(e.tapKeySig){const r=d.p2tr({output:e.witnessUtxo.script,signature:e.tapKeySig}),n=(0,b.witnessStackToScriptWitness)(r.witness);this.data.updateInput(t,{finalScriptWitness:n})}else{const{finalScriptWitness:i}=n(t,e,r);this.data.updateInput(t,{finalScriptWitness:i})}return this.data.clearFinalizedInput(t),this}getInputType(t){const e=(0,c.checkForInput)(this.data.inputs,t),r=Y(X(t,e,this.__CACHE),t,"input",e.redeemScript||function(t){if(!t)return;const e=g.decompile(t);if(!e)return;const r=e[e.length-1];var i;if(n.isBuffer(r)&&!Z(r)&&(i=r,!g.isCanonicalScriptSignature(i))&&g.decompile(r))return r}(e.finalScriptSig),e.witnessScript||function(t){if(!t)return;const e=z(t),r=e[e.length-1];return!Z(r)&&g.decompile(r)?r:void 0}(e.finalScriptWitness));return("raw"===r.type?"":r.type+"-")+tt(r.meaningfulScript)}inputHasPubkey(t,e){return function(t,e,r,n){const i=X(r,e,n),{meaningfulScript:s}=Y(i,r,"input",e.redeemScript,e.witnessScript);return(0,b.pubkeyInScript)(t,s)}(e,(0,c.checkForInput)(this.data.inputs,t),t,this.__CACHE)}inputHasHDKey(t,e){const r=(0,c.checkForInput)(this.data.inputs,t),n=B(e);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}outputHasPubkey(t,e){return function(t,e,r,n){const i=n.__TX.outs[r].script,{meaningfulScript:s}=Y(i,r,"output",e.redeemScript,e.witnessScript);return(0,b.pubkeyInScript)(t,s)}(e,(0,c.checkForOutput)(this.data.outputs,t),t,this.__CACHE)}outputHasHDKey(t,e){const r=(0,c.checkForOutput)(this.data.outputs,t),n=B(e);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}validateSignaturesOfAllInputs(t){return(0,c.checkForInput)(this.data.inputs,0),et(this.data.inputs.length).map((e=>this.validateSignaturesOfInput(e,t))).reduce(((t,e)=>!0===e&&t),!0)}validateSignaturesOfInput(t,e,r){const n=this.data.inputs[t];return(0,m.isTaprootInput)(n)?this.validateSignaturesOfTaprootInput(t,e,r):this._validateSignaturesOfInput(t,e,r)}_validateSignaturesOfInput(t,e,r){const n=this.data.inputs[t],i=(n||{}).partialSig;if(!n||!i||i.length<1)throw new Error("No signatures to validate");if("function"!=typeof e)throw new Error("Need validator function to validate signatures");const s=r?i.filter((t=>t.pubkey.equals(r))):i;if(s.length<1)throw new Error("No signatures for this pubkey");const o=[];let a,u,c;for(const r of s){const i=g.signature.decode(r.signature),{hash:s,script:f}=c!==i.hashType?U(t,Object.assign({},n,{sighashType:i.hashType}),this.__CACHE,!0):{hash:a,script:u};c=i.hashType,a=s,u=f,R(r.pubkey,f,"verify"),o.push(e(r.pubkey,s,i.signature))}return o.every((t=>!0===t))}validateSignaturesOfTaprootInput(t,e,r){const n=this.data.inputs[t],i=(n||{}).tapKeySig,s=(n||{}).tapScriptSig;if(!n&&!i&&(!s||s.length))throw new Error("No signatures to validate");if("function"!=typeof e)throw new Error("Need validator function to validate signatures");const o=(r=r&&(0,m.toXOnly)(r))?K(t,n,this.data.inputs,r,this.__CACHE):function(t,e,r,n){const i=[];if(e.tapInternalKey){const r=(0,m.tweakInternalPubKey)(t,e);i.push(r)}if(e.tapScriptSig){const t=e.tapScriptSig.map((t=>t.pubkey));i.push(...t)}return i.map((i=>K(t,e,r,i,n))).flat()}(t,n,this.data.inputs,this.__CACHE);if(!o.length)throw new Error("No signatures for this pubkey");const a=o.find((t=>!!t.leafHash));if(i&&a&&!e(a.pubkey,a.hash,i))return!1;if(s)for(const t of s){const r=o.find((e=>t.pubkey.equals(e.pubkey)));if(r&&!e(t.pubkey,r.hash,t.signature))return!1}return!0}signAllInputsHD(t,e=[y.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");const r=[];for(const n of et(this.data.inputs.length))try{this.signInputHD(n,t,e),r.push(!0)}catch(t){r.push(!1)}if(r.every((t=>!1===t)))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(t,e=[y.Transaction.SIGHASH_ALL]){return new Promise(((r,n)=>{if(!t||!t.publicKey||!t.fingerprint)return n(new Error("Need HDSigner to sign input"));const i=[],s=[];for(const r of et(this.data.inputs.length))s.push(this.signInputHDAsync(r,t,e).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(s).then((()=>{if(i.every((t=>!1===t)))return n(new Error("No inputs were signed"));r()}))}))}signInputHD(t,e,r=[y.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");return q(t,this.data.inputs,e).forEach((e=>this.signInput(t,e,r))),this}signInputHDAsync(t,e,r=[y.Transaction.SIGHASH_ALL]){return new Promise(((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));const s=q(t,this.data.inputs,e).map((e=>this.signInputAsync(t,e,r)));return Promise.all(s).then((()=>{n()})).catch(i)}))}signAllInputs(t,e){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const r=[];for(const n of et(this.data.inputs.length))try{this.signInput(n,t,e),r.push(!0)}catch(t){r.push(!1)}if(r.every((t=>!1===t)))throw new Error("No inputs were signed");return this}signAllInputsAsync(t,e){return new Promise(((r,n)=>{if(!t||!t.publicKey)return n(new Error("Need Signer to sign input"));const i=[],s=[];for(const[r]of this.data.inputs.entries())s.push(this.signInputAsync(r,t,e).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(s).then((()=>{if(i.every((t=>!1===t)))return n(new Error("No inputs were signed"));r()}))}))}signInput(t,e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const n=(0,c.checkForInput)(this.data.inputs,t);return(0,m.isTaprootInput)(n)?this._signTaprootInput(t,n,e,void 0,r):this._signInput(t,e,r)}signTaprootInput(t,e,r,n){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const i=(0,c.checkForInput)(this.data.inputs,t);if((0,m.isTaprootInput)(i))return this._signTaprootInput(t,i,e,r,n);throw new Error(`Input #${t} is not of type Taproot.`)}_signInput(t,e,r=[y.Transaction.SIGHASH_ALL]){const{hash:n,sighashType:i}=L(this.data.inputs,t,e.publicKey,this.__CACHE,r),s=[{pubkey:e.publicKey,signature:g.signature.encode(e.sign(n),i)}];return this.data.updateInput(t,{partialSig:s}),this}_signTaprootInput(t,e,r,n,i=[y.Transaction.SIGHASH_DEFAULT]){const s=this.checkTaprootHashesForSig(t,e,r,n,i),o=s.filter((t=>!t.leafHash)).map((t=>(0,m.serializeTaprootSignature)(r.signSchnorr(t.hash),e.sighashType)))[0],a=s.filter((t=>!!t.leafHash)).map((t=>({pubkey:(0,m.toXOnly)(r.publicKey),signature:(0,m.serializeTaprootSignature)(r.signSchnorr(t.hash),e.sighashType),leafHash:t.leafHash})));return o&&this.data.updateInput(t,{tapKeySig:o}),a.length&&this.data.updateInput(t,{tapScriptSig:a}),this}signInputAsync(t,e,r){return Promise.resolve().then((()=>{if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const n=(0,c.checkForInput)(this.data.inputs,t);return(0,m.isTaprootInput)(n)?this._signTaprootInputAsync(t,n,e,void 0,r):this._signInputAsync(t,e,r)}))}signTaprootInputAsync(t,e,r,n){return Promise.resolve().then((()=>{if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const i=(0,c.checkForInput)(this.data.inputs,t);if((0,m.isTaprootInput)(i))return this._signTaprootInputAsync(t,i,e,r,n);throw new Error(`Input #${t} is not of type Taproot.`)}))}_signInputAsync(t,e,r=[y.Transaction.SIGHASH_ALL]){const{hash:n,sighashType:i}=L(this.data.inputs,t,e.publicKey,this.__CACHE,r);return Promise.resolve(e.sign(n)).then((r=>{const n=[{pubkey:e.publicKey,signature:g.signature.encode(r,i)}];this.data.updateInput(t,{partialSig:n})}))}async _signTaprootInputAsync(t,e,r,n,i=[y.Transaction.SIGHASH_DEFAULT]){const s=this.checkTaprootHashesForSig(t,e,r,n,i),o=[],a=s.filter((t=>!t.leafHash))[0];if(a){const t=Promise.resolve(r.signSchnorr(a.hash)).then((t=>({tapKeySig:(0,m.serializeTaprootSignature)(t,e.sighashType)})));o.push(t)}const u=s.filter((t=>!!t.leafHash));if(u.length){const t=u.map((t=>Promise.resolve(r.signSchnorr(t.hash)).then((n=>({tapScriptSig:[{pubkey:(0,m.toXOnly)(r.publicKey),signature:(0,m.serializeTaprootSignature)(n,e.sighashType),leafHash:t.leafHash}]})))));o.push(...t)}return Promise.all(o).then((e=>{e.forEach((e=>this.data.updateInput(t,e)))}))}checkTaprootHashesForSig(t,e,r,n,i){if("function"!=typeof r.signSchnorr)throw new Error(`Need Schnorr Signer to sign taproot input #${t}.`);const s=K(t,e,this.data.inputs,r.publicKey,this.__CACHE,n,i);if(!s||!s.length)throw new Error(`Can not sign for input #${t} with the key ${r.publicKey.toString("hex")}`);return s}toBuffer(){return I(this.__CACHE),this.data.toBuffer()}toHex(){return I(this.__CACHE),this.data.toHex()}toBase64(){return I(this.__CACHE),this.data.toBase64()}updateGlobal(t){return this.data.updateGlobal(t),this}updateInput(t,e){return e.witnessScript&&Q(e.witnessScript),(0,m.checkTaprootInputFields)(this.data.inputs[t],e,"updateInput"),this.data.updateInput(t,e),e.nonWitnessUtxo&&W(this.__CACHE,this.data.inputs[t],t),this}updateOutput(t,e){const r=this.data.outputs[t];return(0,m.checkTaprootOutputFields)(r,e,"updateOutput"),this.data.updateOutput(t,e),this}addUnknownKeyValToGlobal(t){return this.data.addUnknownKeyValToGlobal(t),this}addUnknownKeyValToInput(t,e){return this.data.addUnknownKeyValToInput(t,e),this}addUnknownKeyValToOutput(t,e){return this.data.addUnknownKeyValToOutput(t,e),this}clearFinalizedInput(t){return this.data.clearFinalizedInput(t),this}verify(t,e){const r=[y.Transaction.SIGHASH_SINGLE|y.Transaction.SIGHASH_ANYONECANPAY,y.Transaction.SIGHASH_ALL,y.Transaction.SIGHASH_DEFAULT];for(let i=0;i<this.inputCount;i++)if((0,m.isTaprootInput)(this.data.inputs[i])){const s=n.from((0,S.taprootTweakPubkey)(t.slice(1))[0]),o=new h.BufferReader(e).readVector(),a={publicKey:s,sign:t=>n.alloc(64),signSchnorr:t=>n.alloc(64)},u=this.checkTaprootHashesForSig(i,this.data.inputs[i],a,void 0,r).filter((t=>!t.leafHash))[0].hash;if(!E.verify(v.base.toHex(o[0]),v.base.toHex(u),v.base.toHex(s)))return!1}else{const{hash:n}=L(this.data.inputs,i,t,this.__CACHE,r),s=new h.BufferReader(e).readVector(),o=w.signature.decode(s[0]).signature,a=s[1];if(!t.equals(a))throw Error("pubKey error");if(!v.signUtil.secp256k1.verifyWithNoRecovery(n,o,t))return!1}return!0}}e.Psbt=_;const A=t=>new P(t);class P{constructor(t=n.from([2,0,0,0,0,0,0,0,0,0])){this.tx=y.Transaction.fromBuffer(t),function(t){if(!t.ins.every((t=>t.script&&0===t.script.length&&t.witness&&0===t.witness.length)))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(t){if(void 0===t.hash||void 0===t.index||!n.isBuffer(t.hash)&&"string"!=typeof t.hash||"number"!=typeof t.index)throw new Error("Error adding input.");const e="string"==typeof t.hash?(0,h.reverseBuffer)(n.from(t.hash,"hex")):t.hash;this.tx.addInput(e,t.index,t.sequence)}addOutput(t){if(void 0===t.script||void 0===t.value||!n.isBuffer(t.script)||"number"!=typeof t.value)throw new Error("Error adding output.");this.tx.addOutput(t.script,t.value)}toBuffer(){return this.tx.toBuffer()}}function I(t){if(!1!==t.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function T(t,e,r){if(!e)return!1;let n;if(n=r?r.map((t=>{const r=function(t){if(65===t.length){const e=1&t[64],r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}(t);return e.find((t=>t.pubkey.equals(r)))})).filter((t=>!!t)):e,n.length>t)throw new Error("Too many signatures");return n.length===t}function O(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function B(t){return e=>!!e.masterFingerprint.equals(t.fingerprint)&&!!t.derivePath(e.path).publicKey.equals(e.pubkey)}function k(t){if("number"!=typeof t||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function F(t,e){t.forEach((t=>{if((0,m.isTaprootInput)(t)?(0,m.checkTaprootInputForSigs)(t,e):(0,b.checkInputForSig)(t,e))throw new Error("Can not modify transaction, signatures exist.")}))}function R(t,e,r){if(!(0,b.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}function N(t,e){const r=(0,h.reverseBuffer)(n.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}function C(t,e){return(r,n,i,s)=>{const o=t({redeem:{output:i}}).output;if(!n.equals(o))throw new Error(`${e} for ${s} #${r} doesn't match the scriptPubKey in the prevout`)}}const M=C(d.p2sh,"Redeem script"),D=C(d.p2wsh,"Witness script");function H(t,e,r,n){if(!r.every(O))throw new Error(`PSBT must be finalized to calculate ${e}`);if("__FEE_RATE"===t&&n.__FEE_RATE)return n.__FEE_RATE;if("__FEE"===t&&n.__FEE)return n.__FEE;let i,s=!0;return n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,s=!1):i=n.__TX.clone(),G(r,i,n,s),"__FEE_RATE"===t?n.__FEE_RATE:"__FEE"===t?n.__FEE:void 0}function j(t,e,r,n,i,s){const o=tt(r);if(!function(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return T(1,t.partialSig);case"multisig":const r=d.p2ms({output:e});return T(r.m,t.partialSig,r.pubkeys);default:return!1}}(e,r,o))throw new Error(`Can not finalize input #${t}`);return function(t,e,r,n,i,s){let o,a;const u=function(t,e,r){let n;switch(e){case"multisig":const e=function(t,e){return d.p2ms({output:t}).pubkeys.map((t=>(e.filter((e=>e.pubkey.equals(t)))[0]||{}).signature)).filter((t=>!!t))}(t,r);n=d.p2ms({output:t,signatures:e});break;case"pubkey":n=d.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=d.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=d.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature})}return n}(t,e,r),c=s?d.p2wsh({redeem:u}):null,f=i?d.p2sh({redeem:c||u}):null;return n?(a=c?(0,b.witnessStackToScriptWitness)(c.witness):(0,b.witnessStackToScriptWitness)(u.witness),f&&(o=f.input)):o=f?f.input:u.input,{finalScriptSig:o,finalScriptWitness:a}}(r,o,e.partialSig,n,i,s)}function L(t,e,r,n,i){const s=(0,c.checkForInput)(t,e),{hash:o,sighashType:a,script:u}=U(e,s,n,!1,i);return R(r,u,"sign"),{hash:o,sighashType:a}}function U(t,e,r,n,i){const s=r.__TX,o=e.sighashType||y.Transaction.SIGHASH_ALL;let a,u;if(V(o,i),e.nonWitnessUtxo){const n=$(r,e,t),i=s.ins[t].hash,o=n.getHash();if(!i.equals(o))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);const a=s.ins[t].index;u=n.outs[a]}else{if(!e.witnessUtxo)throw new Error("Need a Utxo input item for signing");u=e.witnessUtxo}const{meaningfulScript:c,type:f}=Y(u.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(f)>=0)a=s.hashForWitnessV0(t,c,u.value,o);else if((0,b.isP2WPKH)(c)){const e=d.p2pkh({hash:c.slice(2)}).output;a=s.hashForWitnessV0(t,e,u.value,o)}else{if(void 0===e.nonWitnessUtxo&&!1===r.__UNSAFE_SIGN_NONSEGWIT)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${c.toString("hex")}`);n||!1===r.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),a=s.hashForSignature(t,c,o)}return{script:c,sighashType:o,hash:a}}function K(t,e,r,n,i,s,o){const a=i.__TX,u=e.sighashType||y.Transaction.SIGHASH_DEFAULT;V(u,o);const c=r.map(((t,e)=>J(e,t,i))),f=c.map((t=>t.script)),h=c.map((t=>t.value)),l=[];if(e.tapInternalKey&&!s){const r=(0,m.tweakInternalPubKey)(t,e);if((0,m.toXOnly)(n).equals(r)){const e=a.hashForWitnessV1(t,f,h,u);l.push({pubkey:n,hash:e})}}const d=(e.tapLeafScript||[]).filter((t=>(0,b.pubkeyInScript)(n,t.script))).map((t=>{const e=(0,p.tapleafHash)({output:t.script,version:t.leafVersion});return Object.assign({hash:e},t)})).filter((t=>!s||s.equals(t.hash))).map((e=>{const r=a.hashForWitnessV1(t,f,h,y.Transaction.SIGHASH_DEFAULT,e.hash);return{pubkey:n,hash:r,leafHash:e.hash}}));return l.concat(d)}function V(t,e){if(e&&e.indexOf(t)<0){const e=function(t){let e=t&y.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&t){case y.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case y.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case y.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE"}return e}(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${e}`)}}function q(t,e,r){const n=(0,c.checkForInput)(e,t);if(!n.bip32Derivation||0===n.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");const i=n.bip32Derivation.map((t=>t.masterFingerprint.equals(r.fingerprint)?t:void 0)).filter((t=>!!t));if(0===i.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map((t=>{const e=r.derivePath(t.path);if(!t.pubkey.equals(e.publicKey))throw new Error("pubkey did not match bip32Derivation");return e}))}function z(t){let e=0;function r(){const r=u.decode(t,e);return e+=u.decode.bytes,r}return function(){const n=r(),i=[];for(let o=0;o<n;o++)i.push((s=void 0,s=r(),e+=s,t.slice(e-s,e)));var s;return i}()}function W(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;const n=y.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;const i=t,s=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){const t=i.__NON_WITNESS_UTXO_BUF_CACHE[s],e=i.__NON_WITNESS_UTXO_TX_CACHE[s];if(void 0!==t)return t;{const t=e.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[s]=t,t}},set(t){i.__NON_WITNESS_UTXO_BUF_CACHE[s]=t}})}function G(t,e,r,n){let i=0;t.forEach(((t,s)=>{if(n&&t.finalScriptSig&&(e.ins[s].script=t.finalScriptSig),n&&t.finalScriptWitness&&(e.ins[s].witness=z(t.finalScriptWitness)),t.witnessUtxo)i+=t.witnessUtxo.value;else if(t.nonWitnessUtxo){const n=$(r,t,s),o=e.ins[s].index,a=n.outs[o];i+=a.value}}));const s=e.outs.reduce(((t,e)=>t+e.value),0),o=i-s;if(o<0)throw new Error("Outputs are spending more than Inputs");const a=e.virtualSize();r.__FEE=o,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(o/a)}function $(t,e,r){const n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||W(t,e,r),n[r]}function X(t,e,r){const{script:n}=J(t,e,r);return n}function J(t,e,r){if(void 0!==e.witnessUtxo)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(void 0!==e.nonWitnessUtxo){const n=$(r,e,t).outs[r.__TX.ins[t].index];return{script:n.script,value:n.value}}throw new Error("Can't find pubkey in input without Utxo data")}function Z(t){return 33===t.length&&g.isCanonicalPubKey(t)}function Y(t,e,r,n,i){const s=(0,b.isP2SHScript)(t),o=s&&n&&(0,b.isP2WSHScript)(n),a=(0,b.isP2WSHScript)(t);if(s&&void 0===n)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||o)&&void 0===i)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let u;return o?(u=i,M(e,t,n,r),D(e,n,i,r),Q(u)):a?(u=i,D(e,t,i,r),Q(u)):s?(u=n,M(e,t,n,r)):u=t,{meaningfulScript:u,type:o?"p2sh-p2wsh":s?"p2sh":a?"p2wsh":"raw"}}function Q(t){if((0,b.isP2WPKH)(t)||(0,b.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function tt(t){return(0,b.isP2WPKH)(t)?"witnesspubkeyhash":(0,b.isP2PKH)(t)?"pubkeyhash":(0,b.isP2MS)(t)?"multisig":(0,b.isP2PK)(t)?"pubkey":"nonstandard"}function et(t){return[...Array(t).keys()]}},7123:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.checkTaprootInputForSigs=e.tapTreeFromList=e.tapTreeToList=e.tweakInternalPubKey=e.checkTaprootOutputFields=e.checkTaprootInputFields=e.isTaprootOutput=e.isTaprootInput=e.serializeTaprootSignature=e.tapScriptFinalizer=e.toXOnly=void 0;const i=r(1373),s=r(1593),o=r(8493),a=r(4996),u=r(2346),c=r(8493);function f(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,o.isP2TR)(t.witnessUtxo.script))}function h(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,o.isP2TR)(e))}function l(t=[]){return 1===t.length&&0===t[0].depth?{output:t[0].script,version:t[0].leafVersion}:function(t){let e;for(const r of t)if(e=g(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}(t)}function d(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||s.Transaction.SIGHASH_DEFAULT}}function p(t,e=[],r=0){if(r>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,i.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||a.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&p(t[0],e,r+1),t[1]&&p(t[1],e,r+1),e):[]}function g(t,e,r=0){if(r>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,i.isTapleaf)(e))return;const n=g(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];const s=g(t,e&&e[1],r+1);return s?[e&&e[0],s]:void 0}function y(t,e){if(!e)return!0;const r=(0,a.tapleafHash)({output:t.script,version:t.leafVersion});return(0,a.rootHashFromPath)(t.controlBlock,r).equals(e)}function m(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}e.toXOnly=t=>32===t.length?t:t.slice(1,33),e.tapScriptFinalizer=function(t,e,r){const n=function(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);const n=(t.tapLeafScript||[]).sort(((t,e)=>t.controlBlock.length-e.controlBlock.length)).find((e=>function(t,e,r){const n=(0,a.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&void 0!==e.find((t=>t.leafHash.equals(n)))}(e,t.tapScriptSig,r)));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}(e,t,r);try{const t=function(t,e){const r=(0,a.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter((t=>t.leafHash.equals(r))).map((t=>function(t,e){return Object.assign({positionInScript:(0,o.pubkeyPositionInScript)(e.pubkey,t)},e)}(e.script,t))).sort(((t,e)=>e.positionInScript-t.positionInScript)).map((t=>t.signature))}(e,n),r=t.concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,o.witnessStackToScriptWitness)(r)}}catch(e){throw new Error(`Can not finalize taproot input #${t}: ${e}`)}},e.serializeTaprootSignature=function(t,e){const r=e?n.from([e]):n.from([]);return n.concat([t,r])},e.isTaprootInput=f,e.isTaprootOutput=h,e.checkTaprootInputFields=function(t,e,r){!function(t,e,r){const n=f(t)&&m(e),i=m(t)&&f(e),s=t===e&&f(e)&&m(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}(t,e,r),function(t,e,r){if(e.tapMerkleRoot){const n=(e.tapLeafScript||[]).every((t=>y(t,e.tapMerkleRoot))),i=(t.tapLeafScript||[]).every((t=>y(t,e.tapMerkleRoot)));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every((e=>y(e,t.tapMerkleRoot))))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}(t,e,r)},e.checkTaprootOutputFields=function(t,e,r){!function(t,e,r){const n=h(t)&&m(e),i=m(t)&&h(e),s=t===e&&h(e)&&m(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}(t,e,r),function(t,e){if(!e.tapTree&&!e.tapInternalKey)return;const r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){const{script:e}=t,i=function(t,e){const r=e&&l(e.leaves),{output:n}=(0,u.p2tr)({internalPubkey:t,scriptTree:r});return n}(r,n);if(e&&!e.equals(i))throw new Error("Error adding output. Script or address missmatch.")}}(t,e)},e.tweakInternalPubKey=function(t,e){const r=e.tapInternalKey,n=r&&(0,a.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x},e.tapTreeToList=function(t){if(!(0,i.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return p(t)},e.tapTreeFromList=l,e.checkTaprootInputForSigs=function(t,e){return function(t){const e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map((t=>t.signature))),!e.length){const r=function(t){if(!t)return;const e=t.slice(2);return 64===e.length||65===e.length?e:void 0}(t.finalScriptWitness);r&&e.push(r)}return e}(t).some((t=>(0,c.signatureBlocksAction)(t,d,e)))}},8493:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.signatureBlocksAction=e.checkInputForSig=e.pubkeyInScript=e.pubkeyPositionInScript=e.witnessStackToScriptWitness=e.isP2TR=e.isP2SHScript=e.isP2WSHScript=e.isP2WPKH=e.isP2PKH=e.isP2PK=e.isP2MS=void 0;const a=o(r(4922)),u=o(r(9441)),c=r(1593),f=r(4534),h=o(r(2346));function l(t){return e=>{try{return t({output:e}),!0}catch(t){return!1}}}function d(t,e){const r=(0,f.hash160)(t),n=t.slice(1,33),i=u.decompile(e);if(null===i)throw new Error("Unknown script error");return i.findIndex((e=>"number"!=typeof e&&(e.equals(t)||e.equals(r)||e.equals(n))))}function p(t,e,r){const{hashType:n}=e(t),i=[];switch(n&c.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),31&n){case c.Transaction.SIGHASH_ALL:break;case c.Transaction.SIGHASH_SINGLE:case c.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}return-1===i.indexOf(r)}e.isP2MS=l(h.p2ms),e.isP2PK=l(h.p2pk),e.isP2PKH=l(h.p2pkh),e.isP2WPKH=l(h.p2wpkh),e.isP2WSHScript=l(h.p2wsh),e.isP2SHScript=l(h.p2sh),e.isP2TR=l(h.p2tr),e.witnessStackToScriptWitness=function(t){let e=n.allocUnsafe(0);function r(t){const r=e.length,i=a.encodingLength(t);e=n.concat([e,n.allocUnsafe(i)]),a.encode(t,e,r)}var i;return r((i=t).length),i.forEach((function(t){r(t.length),function(t){e=n.concat([e,n.from(t)])}(t)})),e},e.pubkeyPositionInScript=d,e.pubkeyInScript=function(t,e){return-1!==d(t,e)},e.checkInputForSig=function(t,e){return function(t){let e=[];if(0===(t.partialSig||[]).length){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=function(t){const e=t.finalScriptSig&&u.decompile(t.finalScriptSig)||[],r=t.finalScriptWitness&&u.decompile(t.finalScriptWitness)||[];return e.concat(r).filter((t=>n.isBuffer(t)&&u.isCanonicalScriptSignature(t))).map((t=>({signature:t})))}(t)}else e=t.partialSig;return e.map((t=>t.signature))}(t).some((t=>p(t,u.signature.decode,e)))},e.signatureBlocksAction=p},9772:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=e.encodingLength=void 0;const n=r(6484);function i(t){return t<n.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}e.encodingLength=i,e.encode=function(t,e,r){const s=i(e);return 1===s?t.writeUInt8(e,r):2===s?(t.writeUInt8(n.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):3===s?(t.writeUInt8(n.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(n.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),s},e.decode=function(t,e){const r=t.readUInt8(e);let i,s;if(r<n.OPS.OP_PUSHDATA1)i=r,s=1;else if(r===n.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;i=t.readUInt8(e+1),s=2}else if(r===n.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;i=t.readUInt16LE(e+1),s=3}else{if(e+5>t.length)return null;if(r!==n.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");i=t.readUInt32LE(e+1),s=5}return{opcode:r,number:i,size:s}}},9441:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.signature=e.number=e.isCanonicalScriptSignature=e.isDefinedHashType=e.isCanonicalPubKey=e.toStack=e.fromASM=e.toASM=e.decompile=e.compile=e.isPushOnly=e.OPS=void 0;const a=o(r(5673)),u=r(6484);Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return u.OPS}});const c=o(r(9772)),f=o(r(2379)),h=o(r(7712)),l=o(r(1373)),{typeforce:d}=l,p=u.OPS.OP_RESERVED;function g(t){return l.Buffer(t)||function(t){return l.Number(t)&&(t===u.OPS.OP_0||t>=u.OPS.OP_1&&t<=u.OPS.OP_16||t===u.OPS.OP_1NEGATE)}(t)}function y(t){return l.Array(t)&&t.every(g)}function m(t){return 0===t.length?u.OPS.OP_0:1===t.length?t[0]>=1&&t[0]<=16?p+t[0]:129===t[0]?u.OPS.OP_1NEGATE:void 0:void 0}function b(t){return n.isBuffer(t)}function v(t){return n.isBuffer(t)}function w(t){if(b(t))return t;d(l.Array,t);const e=t.reduce(((t,e)=>v(e)?1===e.length&&void 0!==m(e)?t+1:t+c.encodingLength(e.length)+e.length:t+1),0),r=n.allocUnsafe(e);let i=0;if(t.forEach((t=>{if(v(t)){const e=m(t);if(void 0!==e)return r.writeUInt8(e,i),void(i+=1);i+=c.encode(r,t.length,i),t.copy(r,i),i+=t.length}else r.writeUInt8(t,i),i+=1})),i!==r.length)throw new Error("Could not decode chunks");return r}function S(t){if(e=t,l.Array(e))return t;var e;d(l.Buffer,t);const r=[];let n=0;for(;n<t.length;){const e=t[n];if(e>u.OPS.OP_0&&e<=u.OPS.OP_PUSHDATA4){const e=c.decode(t,n);if(null===e)return null;if(n+=e.size,n+e.number>t.length)return null;const i=t.slice(n,n+e.number);n+=e.number;const s=m(i);void 0!==s?r.push(s):r.push(i)}else r.push(e),n+=1}return r}function E(t){let e=t;return 128&e&&(e&=-129),64&e&&(e&=-65),e>0&&e<4}e.isPushOnly=y,e.compile=w,e.decompile=S,e.toASM=function(t){return b(t)&&(t=S(t)),t.map((t=>{if(v(t)){const e=m(t);if(void 0===e)return t.toString("hex");t=e}return u.REVERSE_OPS[t]})).join(" ")},e.fromASM=function(t){return d(l.String,t),w(t.split(" ").map((t=>void 0!==u.OPS[t]?u.OPS[t]:(d(l.Hex,t),n.from(t,"hex")))))},e.toStack=function(t){return t=S(t),d(y,t),t.map((t=>v(t)?t:t===u.OPS.OP_0?n.allocUnsafe(0):f.encode(t-p)))},e.isCanonicalPubKey=function(t){return l.isPoint(t)},e.isDefinedHashType=E,e.isCanonicalScriptSignature=function(t){return!!n.isBuffer(t)&&!!E(t[t.length-1])&&a.check(t.slice(0,-1))},e.number=f,e.signature=h},2379:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.encode=e.decode=void 0,e.decode=function(t,e,r){e=e||4,r=void 0===r||r;const n=t.length;if(0===n)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&0==(127&t[n-1])&&(n<=1||0==(128&t[n-2])))throw new Error("Non-minimally encoded script number");if(5===n){const e=t.readUInt32LE(0),r=t.readUInt8(4);return 128&r?-(4294967296*(-129&r)+e):4294967296*r+e}let i=0;for(let e=0;e<n;++e)i|=t[e]<<8*e;return 128&t[n-1]?-(i&~(128<<8*(n-1))):i},e.encode=function(t){let e=Math.abs(t);const r=(i=e)>2147483647?5:i>8388607?4:i>32767?3:i>127?2:i>0?1:0;var i;const s=n.allocUnsafe(r),o=t<0;for(let t=0;t<r;++t)s.writeUInt8(255&e,t),e>>=8;return 128&s[r-1]?s.writeUInt8(o?128:0,r-1):o&&(s[r-1]|=128),s}},7712:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.encode=e.decode=void 0;const a=o(r(5673)),u=o(r(1373)),{typeforce:c}=u,f=n.alloc(1,0);function h(t){let e=0;for(;0===t[e];)++e;return e===t.length?f:128&(t=t.slice(e))[0]?n.concat([f,t],1+t.length):t}function l(t){0===t[0]&&(t=t.slice(1));const e=n.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}e.decode=function(t){const e=t.readUInt8(t.length-1),r=-193&e;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);const i=a.decode(t.slice(0,-1)),s=l(i.r),o=l(i.s);return{signature:n.concat([s,o],64),hashType:e}},e.encode=function(t,e){c({signature:u.BufferN(64),hashType:u.UInt8},{signature:t,hashType:e});const r=-193&e;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);const i=n.allocUnsafe(1);i.writeUInt8(e,0);const s=h(t.slice(0,32)),o=h(t.slice(32,64));return n.concat([a.encode(s,o),i])}},1593:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Transaction=e.vectorSize=e.varSliceSize=void 0;const a=r(3861),u=o(r(4534)),c=o(r(9441)),f=r(9441),h=o(r(1373)),{typeforce:l}=h;function d(t){const e=t.length;return a.varuint.encodingLength(e)+e}function p(t){const e=t.length;return a.varuint.encodingLength(e)+t.reduce(((t,e)=>t+d(e)),0)}e.varSliceSize=d,e.vectorSize=p;const g=n.allocUnsafe(0),y=[],m=n.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),b=n.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),v=n.from("ffffffffffffffff","hex"),w={script:g,valueBuffer:v};class S{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(t,e){const r=new a.BufferReader(t),n=new S;n.version=r.readInt32();const i=r.readUInt8(),s=r.readUInt8();let o=!1;i===S.ADVANCED_TRANSACTION_MARKER&&s===S.ADVANCED_TRANSACTION_FLAG?o=!0:r.offset-=2;const u=r.readVarInt();for(let t=0;t<u;++t)n.ins.push({hash:r.readSlice(32),index:r.readUInt32(),script:r.readVarSlice(),sequence:r.readUInt32(),witness:y});const c=r.readVarInt();for(let t=0;t<c;++t)n.outs.push({value:r.readUInt64(),script:r.readVarSlice()});if(o){for(let t=0;t<u;++t)n.ins[t].witness=r.readVector();if(!n.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(n.locktime=r.readUInt32(),e)return n;if(r.offset!==t.length)throw new Error("Transaction has unexpected data");return n}static fromHex(t){return S.fromBuffer(n.from(t,"hex"),!1)}static isCoinbaseHash(t){l(h.Hash256bit,t);for(let e=0;e<32;++e)if(0!==t[e])return!1;return!0}isCoinbase(){return 1===this.ins.length&&S.isCoinbaseHash(this.ins[0].hash)}addInput(t,e,r,n){return l(h.tuple(h.Hash256bit,h.UInt32,h.maybe(h.UInt32),h.maybe(h.Buffer)),arguments),h.Null(r)&&(r=S.DEFAULT_SEQUENCE),this.ins.push({hash:t,index:e,script:n||g,sequence:r,witness:y})-1}addOutput(t,e){return l(h.tuple(h.Buffer,h.Satoshi),arguments),this.outs.push({script:t,value:e})-1}hasWitnesses(){return this.ins.some((t=>0!==t.witness.length))}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}dogeByteLength(){let t=26+this.ins.reduce(((t,e)=>t+32+4+(40+d(e.script))),0)+this.outs.reduce(((t,e)=>t+9+e.script.length),0);return Math.ceil(t)}byteLength(t=!0){const e=t&&this.hasWitnesses();return(e?10:8)+a.varuint.encodingLength(this.ins.length)+a.varuint.encodingLength(this.outs.length)+this.ins.reduce(((t,e)=>t+40+d(e.script)),0)+this.outs.reduce(((t,e)=>t+8+d(e.script)),0)+(e?this.ins.reduce(((t,e)=>t+p(e.witness)),0):0)}clone(){const t=new S;return t.version=this.version,t.locktime=this.locktime,t.ins=this.ins.map((t=>({hash:t.hash,index:t.index,script:t.script,sequence:t.sequence,witness:t.witness}))),t.outs=this.outs.map((t=>({script:t.script,value:t.value}))),t}hashForSignature(t,e,r){if(l(h.tuple(h.UInt32,h.Buffer,h.Number),arguments),t>=this.ins.length)return b;const i=c.compile(c.decompile(e).filter((t=>t!==f.OPS.OP_CODESEPARATOR))),s=this.clone();if((31&r)===S.SIGHASH_NONE)s.outs=[],s.ins.forEach(((e,r)=>{r!==t&&(e.sequence=0)}));else if((31&r)===S.SIGHASH_SINGLE){if(t>=this.outs.length)return b;s.outs.length=t+1;for(let e=0;e<t;e++)s.outs[e]=w;s.ins.forEach(((e,r)=>{r!==t&&(e.sequence=0)}))}r&S.SIGHASH_ANYONECANPAY?(s.ins=[s.ins[t]],s.ins[0].script=i):(s.ins.forEach((t=>{t.script=g})),s.ins[t].script=i);const o=n.allocUnsafe(s.byteLength(!1)+4);return o.writeInt32LE(r,o.length-4),s.__toBuffer(o,0,!1),u.hash256(o)}hashForCashSignature(t,e,r,n){if(n&S.SIGHASH_BITCOINCASHBIP143){if(h.Null(r))throw new Error("Bitcoin Cash sighash requires value of input to be signed.");return this.hashForWitnessV0(t,e,r,n)}return this.hashForSignature(t,e,n)}hashForWitnessV1(t,e,r,i,s,o){if(l(h.tuple(h.UInt32,l.arrayOf(h.Buffer),l.arrayOf(h.Satoshi),h.UInt32),arguments),r.length!==this.ins.length||e.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const c=i===S.SIGHASH_DEFAULT?S.SIGHASH_ALL:i&S.SIGHASH_OUTPUT_MASK,f=(i&S.SIGHASH_INPUT_MASK)===S.SIGHASH_ANYONECANPAY,p=c===S.SIGHASH_NONE,y=c===S.SIGHASH_SINGLE;let m=g,b=g,v=g,w=g,E=g;if(!f){let t=a.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach((e=>{t.writeSlice(e.hash),t.writeUInt32(e.index)})),m=u.sha256(t.end()),t=a.BufferWriter.withCapacity(8*this.ins.length),r.forEach((e=>t.writeUInt64(e))),b=u.sha256(t.end()),t=a.BufferWriter.withCapacity(e.map(d).reduce(((t,e)=>t+e))),e.forEach((e=>t.writeVarSlice(e))),v=u.sha256(t.end()),t=a.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach((e=>t.writeUInt32(e.sequence))),w=u.sha256(t.end())}if(p||y){if(y&&t<this.outs.length){const e=this.outs[t],r=a.BufferWriter.withCapacity(8+d(e.script));r.writeUInt64(e.value),r.writeVarSlice(e.script),E=u.sha256(r.end())}}else{const t=this.outs.map((t=>8+d(t.script))).reduce(((t,e)=>t+e)),e=a.BufferWriter.withCapacity(t);this.outs.forEach((t=>{e.writeUInt64(t.value),e.writeVarSlice(t.script)})),E=u.sha256(e.end())}const x=(s?2:0)+(o?1:0),_=174-(f?49:0)-(p?32:0)+(o?32:0)+(s?37:0),A=a.BufferWriter.withCapacity(_);if(A.writeUInt8(i),A.writeInt32(this.version),A.writeUInt32(this.locktime),A.writeSlice(m),A.writeSlice(b),A.writeSlice(v),A.writeSlice(w),p||y||A.writeSlice(E),A.writeUInt8(x),f){const n=this.ins[t];A.writeSlice(n.hash),A.writeUInt32(n.index),A.writeUInt64(r[t]),A.writeVarSlice(e[t]),A.writeUInt32(n.sequence)}else A.writeUInt32(t);if(o){const t=a.BufferWriter.withCapacity(d(o));t.writeVarSlice(o),A.writeSlice(u.sha256(t.end()))}return y&&A.writeSlice(E),s&&(A.writeSlice(s),A.writeUInt8(0),A.writeUInt32(4294967295)),u.taggedHash("TapSighash",n.concat([n.of(0),A.end()]))}hashForWitnessV0(t,e,r,i){l(h.tuple(h.UInt32,h.Buffer,h.Satoshi,h.UInt32),arguments);let s,o=n.from([]),c=m,f=m,p=m;if(i&S.SIGHASH_ANYONECANPAY||(o=n.allocUnsafe(36*this.ins.length),s=new a.BufferWriter(o,0),this.ins.forEach((t=>{s.writeSlice(t.hash),s.writeUInt32(t.index)})),f=u.hash256(o)),i&S.SIGHASH_ANYONECANPAY||(31&i)===S.SIGHASH_SINGLE||(31&i)===S.SIGHASH_NONE||(o=n.allocUnsafe(4*this.ins.length),s=new a.BufferWriter(o,0),this.ins.forEach((t=>{s.writeUInt32(t.sequence)})),p=u.hash256(o)),(31&i)!==S.SIGHASH_SINGLE&&(31&i)!==S.SIGHASH_NONE){const t=this.outs.reduce(((t,e)=>t+8+d(e.script)),0);o=n.allocUnsafe(t),s=new a.BufferWriter(o,0),this.outs.forEach((t=>{s.writeUInt64(t.value),s.writeVarSlice(t.script)})),c=u.hash256(o)}else if((31&i)===S.SIGHASH_SINGLE&&t<this.outs.length){const e=this.outs[t];o=n.allocUnsafe(8+d(e.script)),s=new a.BufferWriter(o,0),s.writeUInt64(e.value),s.writeVarSlice(e.script),c=u.hash256(o)}o=n.allocUnsafe(156+d(e)),s=new a.BufferWriter(o,0);const g=this.ins[t];return s.writeInt32(this.version),s.writeSlice(f),s.writeSlice(p),s.writeSlice(g.hash),s.writeUInt32(g.index),s.writeVarSlice(e),s.writeUInt64(r),s.writeUInt32(g.sequence),s.writeSlice(c),s.writeUInt32(this.locktime),s.writeUInt32(i),u.hash256(o)}getHash(t){return t&&this.isCoinbase()?n.alloc(32,0):u.hash256(this.__toBuffer(void 0,void 0,t))}getId(){return(0,a.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(t,e){return this.__toBuffer(t,e,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(t,e){l(h.tuple(h.Number,h.Buffer),arguments),this.ins[t].script=e}setWitness(t,e){l(h.tuple(h.Number,[h.Buffer]),arguments),this.ins[t].witness=e}__toBuffer(t,e,r=!1){t||(t=n.allocUnsafe(this.byteLength(r)));const i=new a.BufferWriter(t,e||0);i.writeInt32(this.version);const s=r&&this.hasWitnesses();return s&&(i.writeUInt8(S.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(S.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach((t=>{i.writeSlice(t.hash),i.writeUInt32(t.index),i.writeVarSlice(t.script),i.writeUInt32(t.sequence)})),i.writeVarInt(this.outs.length),this.outs.forEach((t=>{void 0!==t.value?i.writeUInt64(t.value):i.writeSlice(t.valueBuffer),i.writeVarSlice(t.script)})),s&&this.ins.forEach((t=>{i.writeVector(t.witness)})),i.writeUInt32(this.locktime),void 0!==e?t.slice(e,i.offset):t}hashForWitness(t,e,r,i){l(h.tuple(h.UInt32,h.Buffer,h.Satoshi,h.UInt32),arguments);let s,o=n.from([]),c=m,f=m,p=m;if(i&S.SIGHASH_ANYONECANPAY||(o=n.allocUnsafe(36*this.ins.length),s=new a.BufferWriter(o,0),this.ins.forEach((t=>{s.writeSlice(t.hash),s.writeUInt32(t.index)})),f=u.hash256(o)),i&S.SIGHASH_ANYONECANPAY||(31&i)===S.SIGHASH_SINGLE||(31&i)===S.SIGHASH_NONE||(o=n.allocUnsafe(4*this.ins.length),s=new a.BufferWriter(o,0),this.ins.forEach((t=>{s.writeUInt32(t.sequence)})),p=u.hash256(o)),(31&i)!==S.SIGHASH_SINGLE&&(31&i)!==S.SIGHASH_NONE){const t=this.outs.reduce(((t,e)=>t+8+d(e.script)),0);o=n.allocUnsafe(t),s=new a.BufferWriter(o,0),this.outs.forEach((t=>{s.writeUInt64(t.value),s.writeVarSlice(t.script)})),c=u.hash256(o)}else if((31&i)===S.SIGHASH_SINGLE&&t<this.outs.length){const e=this.outs[t];o=n.allocUnsafe(8+d(e.script)),s=new a.BufferWriter(o,0),s.writeUInt64(e.value),s.writeVarSlice(e.script),c=u.hash256(o)}o=n.allocUnsafe(156+e.length),s=new a.BufferWriter(o,0);const g=this.ins[t];return s.writeInt32(this.version),s.writeSlice(f),s.writeSlice(p),s.writeSlice(g.hash),s.writeUInt32(g.index),s.writeSlice(e),s.writeUInt64(r),s.writeUInt32(g.sequence),s.writeSlice(c),s.writeUInt32(this.locktime),s.writeUInt32(i),u.hash256(o)}}e.Transaction=S,S.DEFAULT_SEQUENCE=4294967295,S.SIGHASH_DEFAULT=0,S.SIGHASH_ALL=1,S.SIGHASH_NONE=2,S.SIGHASH_SINGLE=3,S.SIGHASH_ANYONECANPAY=128,S.SIGHASH_OUTPUT_MASK=3,S.SIGHASH_INPUT_MASK=128,S.SIGHASH_BITCOINCASHBIP143=64,S.ADVANCED_TRANSACTION_MARKER=0,S.ADVANCED_TRANSACTION_FLAG=1},1373:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oneOf=e.Null=e.BufferN=e.Function=e.UInt32=e.UInt8=e.tuple=e.maybe=e.Hex=e.Buffer=e.String=e.Boolean=e.Array=e.Number=e.Hash256bit=e.Hash160bit=e.Buffer256bit=e.isTaptree=e.isTapleaf=e.TAPLEAF_VERSION_MASK=e.Satoshi=e.Signer=e.BIP32Path=e.UInt31=e.isPoint=e.typeforce=void 0;const n=r(8764),i=r(9693);Object.defineProperty(e,"typeforce",{enumerable:!0,get:function(){return i.typeforce}});const s=n.Buffer.alloc(32,0),o=n.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");e.isPoint=function(t){if(!n.Buffer.isBuffer(t))return!1;if(t.length<33)return!1;const e=t[0],r=t.slice(1,33);if(0===r.compare(s))return!1;if(r.compare(o)>=0)return!1;if((2===e||3===e)&&33===t.length)return!0;const i=t.slice(33);return 0!==i.compare(s)&&!(i.compare(o)>=0)&&4===e&&65===t.length};const a=Math.pow(2,31)-1;function u(t){return i.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}function c(t){return!(!t||!("output"in t)||!n.Buffer.isBuffer(t.output)||void 0!==t.version&&(t.version&e.TAPLEAF_VERSION_MASK)!==t.version)}e.UInt31=function(t){return i.typeforce.UInt32(t)&&t<=a},e.BIP32Path=u,u.toJSON=()=>"BIP32 derivation path",e.Signer=function(t){return(i.typeforce.Buffer(t.publicKey)||"function"==typeof t.getPublicKey)&&"function"==typeof t.sign},e.Satoshi=function(t){return i.typeforce.UInt53(t)&&t<=21e14},e.TAPLEAF_VERSION_MASK=254,e.isTapleaf=c,e.isTaptree=function t(r){return(0,e.Array)(r)?2===r.length&&r.every((e=>t(e))):c(r)},e.Buffer256bit=i.typeforce.BufferN(32),e.Hash160bit=i.typeforce.BufferN(20),e.Hash256bit=i.typeforce.BufferN(32),e.Number=i.typeforce.Number,e.Array=i.typeforce.Array,e.Boolean=i.typeforce.Boolean,e.String=i.typeforce.String,e.Buffer=i.typeforce.Buffer,e.Hex=i.typeforce.Hex,e.maybe=i.typeforce.maybe,e.tuple=i.typeforce.tuple,e.UInt8=i.typeforce.UInt8,e.UInt32=i.typeforce.UInt32,e.Function=i.typeforce.Function,e.BufferN=i.typeforce.BufferN,e.Null=i.typeforce.Null,e.oneOf=i.typeforce.oneOf},5024:(t,e,r)=>{"use strict";var n=r(9509).Buffer,i=9007199254740991;function s(t){if(t<0||t>i||t%1!=0)throw new RangeError("value out of range")}function o(t){return s(t),t<253?1:t<=65535?3:t<=4294967295?5:9}t.exports={encode:function t(e,r,i){if(s(e),r||(r=n.allocUnsafe(o(e))),!n.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return i||(i=0),e<253?(r.writeUInt8(e,i),t.bytes=1):e<=65535?(r.writeUInt8(253,i),r.writeUInt16LE(e,i+1),t.bytes=3):e<=4294967295?(r.writeUInt8(254,i),r.writeUInt32LE(e,i+1),t.bytes=5):(r.writeUInt8(255,i),r.writeUInt32LE(e>>>0,i+1),r.writeUInt32LE(e/4294967296|0,i+5),t.bytes=9),r},decode:function t(e,r){if(!n.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");r||(r=0);var i=e.readUInt8(r);if(i<253)return t.bytes=1,i;if(253===i)return t.bytes=3,e.readUInt16LE(r+1);if(254===i)return t.bytes=5,e.readUInt32LE(r+1);t.bytes=9;var o=e.readUInt32LE(r+1),a=4294967296*e.readUInt32LE(r+5)+o;return s(a),a},encodingLength:o}},8890:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.dogInscribe=e.DogInscriptionTool=e.DogScript=e.bufferToChunk=e.bufferToBuffer=e.CHANGE_OUTPUT_MAX_SIZE=void 0;const a=o(r(7104)),u=r(9693),c=o(r(4534)),f=r(3253),h=r(7104),l=r(6484),d=o(r(2346)),p=r(3861);e.CHANGE_OUTPUT_MAX_SIZE=62;const g=4294967293;function y(t){return{buf:t<=16?void 0:t<128?n.from([t]):n.from([t%256,t/256]),len:t<=16?0:t<128?1:2,opcodenum:0==t?0:t<=16?80+t:t<128?1:2}}function m(t){let e=b(t),r=p.varuint.encodingLength(e.opcodenum);var n=e.opcodenum;e.buf&&((n===l.OPS.OP_PUSHDATA1||n===l.OPS.OP_PUSHDATA2||n===l.OPS.OP_PUSHDATA4)&&(r+=p.varuint.encodingLength(e.len)),r+=e.buf.length);let i=h.BufferWriter.withCapacity(r);return i.writeUInt8(e.opcodenum),e.buf&&(n<l.OPS.OP_PUSHDATA1?i.writeSlice(e.buf):n===l.OPS.OP_PUSHDATA1?(i.writeUInt8(e.len),i.writeSlice(e.buf)):n===l.OPS.OP_PUSHDATA2?(i.writeUInt64(e.len),i.writeSlice(e.buf)):n===l.OPS.OP_PUSHDATA4&&(i.writeUInt32(e.len),i.writeSlice(e.buf))),i.end()}function b(t){return{buf:t.length?t:void 0,len:t.length,opcodenum:t.length<=75?t.length:t.length<=255?76:77}}function v(t){return{opcodenum:t}}e.bufferToBuffer=m,e.bufferToChunk=b;class w{constructor(){this.chunks=[]}total(){return 0==this.chunks.length?0:this.chunks.map((t=>{let e=p.varuint.encodingLength(t.opcodenum);var r=t.opcodenum;return t.buf&&(r<l.OPS.OP_PUSHDATA1||(r===l.OPS.OP_PUSHDATA1||r===l.OPS.OP_PUSHDATA2||r===l.OPS.OP_PUSHDATA4)&&(e+=p.varuint.encodingLength(t.len)),e+=t.buf.length),e})).reduce(((t,e)=>t+e))}toBuffer(){let t=this.total(),e=h.BufferWriter.withCapacity(t);for(var r=0;r<this.chunks.length;r++){var n=this.chunks[r],i=n.opcodenum;e.writeUInt8(n.opcodenum),n.buf&&(i<l.OPS.OP_PUSHDATA1?e.writeSlice(n.buf):i===l.OPS.OP_PUSHDATA1?(e.writeUInt8(n.len),e.writeSlice(n.buf)):i===l.OPS.OP_PUSHDATA2?(e.writeUInt64(n.len),e.writeSlice(n.buf)):i===l.OPS.OP_PUSHDATA4&&(e.writeUInt32(n.len),e.writeSlice(n.buf)))}return e.end()}}e.DogScript=w;class S{constructor(){this.network=a.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new a.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[],this.fromAddr="",this.revealAddr=""}static newDogInscriptionTool(t,e){const r=new S;r.network=t;const i=e.revealOutValue||1e5,s=e.minChangeValue||1e5,o=e.commitTxPrevOutputList[0].privateKey;r.inscriptionTxCtxDataList=function(t,e,r){const i=u.base.fromHex((0,f.privateKeyFromWIF)(r,t)),s=(0,f.wif2Public)(r,t),o=a.script.OPS;let c;c="string"==typeof e.body?n.from(e.body):e.body;let h=[];for(;c.length;){let t=c.slice(0,Math.min(240,c.length));c=c.slice(t.length),h.push(t)}let l=new w;l.chunks.push(b(n.from("ord"))),l.chunks.push(y(h.length)),l.chunks.push(b(n.from(e.contentType))),h.forEach(((t,e)=>{l.chunks.push(y(h.length-e-1)),l.chunks.push(b(t))}));let p=[];for(;l.chunks.length;){let r=new w;for(0==p.length&&r.chunks.push(l.chunks.shift());r.total()<=1500&&l.chunks.length;)r.chunks.push(l.chunks.shift()),r.chunks.push(l.chunks.shift());r.total()>1500&&(l.chunks.unshift(r.chunks.pop()),l.chunks.unshift(r.chunks.pop()));let c=new w;c.chunks.push(b(s)),c.chunks.push(v(o.OP_CHECKSIGVERIFY)),r.chunks.forEach((()=>{c.chunks.push(v(o.OP_DROP))})),c.chunks.push(v(o.OP_TRUE));let f=u.base.ripemd160(u.base.sha256(c.toBuffer())),{output:h,address:g}=d.p2sh({hash:n.from(f),network:t}),y={privateKey:i,inscriptionScript:r.toBuffer(),redeemScript:c.toBuffer(),commitTxAddress:g,commitTxAddressPkScript:h,revealTxPrevOutput:{pkScript:n.alloc(0),value:1e5},revealPkScript:a.address.toOutputScript(e.revealAddr,t)};p.push(y)}return p}(t,e.inscriptionData,o),r.revealAddr=e.inscriptionData.revealAddr;const c=u.base.toHex(u.base.fromHex((0,f.privateKeyFromWIF)(o,t))),h=(0,f.private2public)(c);r.fromAddr=a.payments.p2pkh({pubkey:h,network:t}).address;const l=r.buildEmptyRevealTxs(t,i,e.revealFeeRate);return r.buildCommitTx(t,e.commitTxPrevOutputList,e.changeAddress,l,i,e.commitFeeRate,s)||(r.signCommitTx(e.commitTxPrevOutputList),r.completeRevealTx()),r}buildEmptyRevealTxs(t,r,i){let s=0;const o=[],u=[],c=[];let f=0;for(let h=this.inscriptionTxCtxDataList.length-1;h>-1;h--){let l=this.inscriptionTxCtxDataList[h];const d=new a.Transaction;d.version=2,d.addInput(n.alloc(32),0,g),d.addInput(n.alloc(32),1,g),d.addOutput(h!=this.inscriptionTxCtxDataList.length-1?l.commitTxAddressPkScript:l.revealPkScript,r);const p=n.alloc(72);let y=n.concat([l.inscriptionScript,m(p),m(l.redeemScript)]);d.ins[0].script=y,h!=this.inscriptionTxCtxDataList.length-1&&d.addOutput(a.address.toOutputScript(this.fromAddr,t),f),d.ins[1].script=n.alloc(106);const b=Math.floor((d.dogeByteLength()+e.CHANGE_OUTPUT_MAX_SIZE)*i);f+=b;const v=b;l.revealTxPrevOutput={pkScript:l.commitTxAddressPkScript,value:v},s+=v,o.push(d),u.push(b),c.push(l.commitTxAddress)}for(let t=0,e=o.length-1;t<e;t++,e--)[o[t],o[e]]=[o[e],o[t]],[u[t],u[e]]=[u[e],u[t]],[c[t],c[e]]=[c[e],c[t]];return this.revealTxs=o,this.mustRevealTxFees=u,this.commitAddrs=c,s+=r,s}buildCommitTx(t,r,n,i,s,o,c){let f=0;const h=new a.Transaction;h.version=2,r.forEach((t=>{const e=u.base.reverseBuffer(u.base.fromHex(t.txId));h.addInput(e,t.vOut,g),this.commitTxPrevOutputFetcher.push(t.amount),f+=t.amount})),h.addOutput(this.inscriptionTxCtxDataList[0].revealTxPrevOutput.pkScript,s),h.addOutput(a.address.toOutputScript(this.fromAddr,t),i);const l=a.address.toOutputScript(n,t);h.addOutput(l,0);const d=h.clone();E(d,r,this.network);const p=Math.floor((d.dogeByteLength()+e.CHANGE_OUTPUT_MAX_SIZE)*o),y=f-i-p;if(y>=c)h.outs[h.outs.length-1].value=y;else{h.outs=h.outs.slice(0,h.outs.length-1),d.outs=d.outs.slice(0,d.outs.length-1);const t=Math.floor(d.dogeByteLength()*o);if(f-i-t<0)return this.mustCommitTxFee=p,!0}return this.commitTx=h,!1}signCommitTx(t){E(this.commitTx,t,this.network)}completeRevealTx(){for(let t=0;t<this.revealTxs.length;t++){let e=this.revealTxs[t];e.ins[0].hash=0==t?this.commitTx.getHash():this.revealTxs[t-1].getHash(),e.ins[1].hash=0==t?this.commitTx.getHash():this.revealTxs[t-1].getHash(),this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[t].revealTxPrevOutput.value);const r=this.inscriptionTxCtxDataList[t].redeemScript,i=e.hashForSignature(0,r,a.Transaction.SIGHASH_ALL),s=u.base.toHex(this.inscriptionTxCtxDataList[t].privateKey),o=(0,f.sign)(i,s);let c=a.script.signature.encode(o,a.Transaction.SIGHASH_ALL);e.ins[0].script=n.concat([this.inscriptionTxCtxDataList[t].inscriptionScript,m(c),m(this.inscriptionTxCtxDataList[t].redeemScript)]);const h=a.address.toOutputScript(this.fromAddr,this.network),l=e.hashForSignature(1,h,a.Transaction.SIGHASH_ALL),d=(0,f.sign)(l,s),p=a.payments.p2pkh({signature:a.script.signature.encode(d,a.Transaction.SIGHASH_ALL),pubkey:(0,f.private2public)(s)});e.ins[1].script=p.input}}calculateFee(){let t=0;this.commitTx.ins.forEach(((e,r)=>{t+=this.commitTxPrevOutputFetcher[r]})),this.commitTx.outs.forEach((e=>{t-=e.value}));let e=[];return this.revealTxs.forEach(((t,r)=>{let n=0;n=this.revealTxPrevOutputFetcher[r],e.push(n)})),{commitTxFee:t,revealTxFees:e}}}function E(t,e,r){t.ins.forEach(((i,s)=>{const o=(0,f.getAddressType)(e[s].address,r),h=u.base.fromHex((0,f.privateKeyFromWIF)(e[s].privateKey,r)),l=u.base.toHex(h),d=(0,f.private2public)(l);if("legacy"===o){const n=a.address.toOutputScript(e[s].address,r),o=t.hashForSignature(s,n,a.Transaction.SIGHASH_ALL),u=(0,f.sign)(o,l),c=a.payments.p2pkh({signature:a.script.signature.encode(u,a.Transaction.SIGHASH_ALL),pubkey:d});i.script=c.input}else{const r=c.hash160(d),u=n.of(25,118,169,20,...r,136,172),h=e[s].amount,p=t.hashForWitness(s,u,h,a.Transaction.SIGHASH_ALL),g=(0,f.sign)(p,l);i.witness=[a.script.signature.encode(g,a.Transaction.SIGHASH_ALL),d];const y=n.of(22,0,20,...r);"segwit_nested"===o&&(i.script=y)}}))}e.DogInscriptionTool=S,e.dogInscribe=function(t,e){const r=S.newDogInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map((t=>t.toHex())),...r.calculateFee(),commitAddrs:r.commitAddrs}}},5397:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.message=e.wif=void 0,s(r(7104),e),s(r(6748),e),s(r(3253),e),s(r(4651),e),e.wif=o(r(8412)),s(r(8902),e),s(r(6551),e),s(r(8890),e),s(r(1112),e),e.message=o(r(7034)),s(r(3475),e),s(r(8996),e)},6551:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.inscribe=e.InscriptionTool=void 0;const a=o(r(7104)),u=r(9693),c=o(r(6726)),f=o(r(4534)),h=r(1593),l=r(3253),d=u.signUtil.schnorr.secp256k1.schnorr,p=4294967293;class g{constructor(){this.network=a.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new a.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newInscriptionTool(t,e){const r=new g;r.network=t;const i=e.revealOutValue||546,s=e.minChangeValue||546,o=e.commitTxPrevOutputList[0].privateKey;e.inscriptionDataList.forEach((e=>{r.inscriptionTxCtxDataList.push(function(t,e,r){const i=u.base.fromHex((0,l.privateKeyFromWIF)(r,t)),s=(0,l.wif2Public)(r,t).slice(1),o=a.script.OPS,c=[];c.push(s),c.push(o.OP_CHECKSIG),c.push(o.OP_FALSE),c.push(o.OP_IF),c.push(n.from("ord")),c.push(o.OP_DATA_1),c.push(o.OP_DATA_1),c.push(n.from(e.contentType)),c.push(o.OP_0);let f=n.from(e.body),h=f.length;for(let t=0;t<h;t+=520){let e=t+520;e>h&&(e=h),c.push(f.slice(t,e))}c.push(o.OP_ENDIF);const d=a.script.compile(c),p={output:d},g={output:d,redeemVersion:192},{output:y,witness:m,hash:b,address:v}=a.payments.p2tr({internalPubkey:s,scriptTree:p,redeem:g,network:t});return{privateKey:i,inscriptionScript:d,commitTxAddress:v,commitTxAddressPkScript:y,witness:m,hash:b,revealTxPrevOutput:{pkScript:n.alloc(0),value:0},revealPkScript:a.address.toOutputScript(e.revealAddr,t)}}(t,e,o))}));const c=r.buildEmptyRevealTx(t,i,e.revealFeeRate);return r.buildCommitTx(t,e.commitTxPrevOutputList,e.changeAddress,c,e.commitFeeRate,s)||(r.signCommitTx(e.commitTxPrevOutputList),r.completeRevealTx()),r}buildEmptyRevealTx(t,e,r){let i=0;const s=[],o=[],u=[];return this.inscriptionTxCtxDataList.forEach(((t,c)=>{const f=new a.Transaction;f.version=2,f.addInput(n.alloc(32),c,p),f.addOutput(t.revealPkScript,e);const l=n.alloc(64),d=n.alloc(33),g=[];g.push(l),g.push(t.inscriptionScript),g.push(d);const y=Math.floor((f.byteLength()+Math.floor(((0,h.vectorSize)(g)+2+3)/4))*r),m=e+y;t.revealTxPrevOutput={pkScript:t.commitTxAddressPkScript,value:m},i+=m,s.push(f),o.push(y),u.push(t.commitTxAddress)})),this.revealTxs=s,this.mustRevealTxFees=o,this.commitAddrs=u,i}buildCommitTx(t,e,r,n,i,s){let o=0;const c=new a.Transaction;c.version=2,e.forEach((t=>{const e=u.base.reverseBuffer(u.base.fromHex(t.txId));c.addInput(e,t.vOut,p),this.commitTxPrevOutputFetcher.push(t.amount),o+=t.amount})),this.inscriptionTxCtxDataList.forEach((t=>{c.addOutput(t.revealTxPrevOutput.pkScript,t.revealTxPrevOutput.value)}));const f=a.address.toOutputScript(r,t);c.addOutput(f,0);const h=c.clone();y(h,e,this.network);const l=Math.floor(h.virtualSize()*i),d=o-n-l;if(d>=s)c.outs[c.outs.length-1].value=d;else{c.outs=c.outs.slice(0,c.outs.length-1),h.outs=h.outs.slice(0,h.outs.length-1);const t=Math.floor(h.virtualSize()*i);if(o-n-t<0)return this.mustCommitTxFee=l,!0}return this.commitTx=c,!1}signCommitTx(t){y(this.commitTx,t,this.network)}completeRevealTx(){this.revealTxs.forEach(((t,e)=>{t.ins[0].hash=this.commitTx.getHash();const r=[this.inscriptionTxCtxDataList[e].revealTxPrevOutput.pkScript],i=[this.inscriptionTxCtxDataList[e].revealTxPrevOutput.value];this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[e].revealTxPrevOutput.value);const s=t.hashForWitnessV1(0,r,i,a.Transaction.SIGHASH_DEFAULT,this.inscriptionTxCtxDataList[e].hash),o=n.from(d.sign(s,this.inscriptionTxCtxDataList[e].privateKey,u.base.randomBytes(32)));t.ins[0].witness=[n.from(o),...this.inscriptionTxCtxDataList[e].witness];const c=t.weight();if(c>4e5)throw new Error(`reveal(index ${e}) transaction weight greater than 400000 (MAX_STANDARD_TX_WEIGHT): ${c}`)}))}calculateFee(){let t=0;this.commitTx.ins.forEach(((e,r)=>{t+=this.commitTxPrevOutputFetcher[r]})),this.commitTx.outs.forEach((e=>{t-=e.value}));let e=[];return this.revealTxs.forEach(((t,r)=>{let n=0;n+=this.revealTxPrevOutputFetcher[r],n-=t.outs[0].value,e.push(n)})),{commitTxFee:t,revealTxFees:e}}}function y(t,e,r){t.ins.forEach(((i,s)=>{const o=(0,l.getAddressType)(e[s].address,r),h=u.base.fromHex((0,l.privateKeyFromWIF)(e[s].privateKey,r)),p=u.base.toHex(h),g=(0,l.private2public)(p);if("segwit_taproot"===o){const o=e.map((t=>a.address.toOutputScript(t.address,r))),f=e.map((t=>t.amount)),l=t.hashForWitnessV1(s,o,f,a.Transaction.SIGHASH_DEFAULT),p=c.taprootTweakPrivKey(h),g=n.from(d.sign(l,p,u.base.randomBytes(32)));i.witness=[n.from(g)]}else if("legacy"===o){const n=a.address.toOutputScript(e[s].address,r),o=t.hashForSignature(s,n,a.Transaction.SIGHASH_ALL),u=(0,l.sign)(o,p),c=a.payments.p2pkh({signature:a.script.signature.encode(u,a.Transaction.SIGHASH_ALL),pubkey:g});i.script=c.input}else{const r=f.hash160(g),u=n.of(25,118,169,20,...r,136,172),c=e[s].amount,h=t.hashForWitness(s,u,c,a.Transaction.SIGHASH_ALL),d=(0,l.sign)(h,p);i.witness=[a.script.signature.encode(d,a.Transaction.SIGHASH_ALL),g];const y=n.of(22,0,20,...r);"segwit_nested"===o&&(i.script=y)}}))}e.InscriptionTool=g,e.inscribe=function(t,e){const r=g.newInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map((t=>t.toHex())),...r.calculateFee(),commitAddrs:r.commitAddrs}}},7034:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.getMPCSignedMessage=e.verify=e.sign=void 0;const i=r(9693),s=r(3253),o=n.from("Bitcoin Signed Message:\n");function a(t){let e;return t<253?(e=n.alloc(1),e.writeUInt8(t,0)):t<65536?(e=n.alloc(3),e.writeUInt8(253,0),e.writeUInt16LE(t,1)):t<4294967296?(e=n.alloc(5),e.writeUInt8(254,0),e.writeUInt32LE(t,1)):(e=n.alloc(9),e.writeUInt8(255,0),e.writeInt32LE(-1&t,1),e.writeUInt32LE(Math.floor(t/4294967296),5)),e}function u(t){const e=a(o.length),r=n.from(t),s=a(r.length),u=n.concat([e,o,s,r]);return i.base.doubleSha256(u)}function c(t,e,r){if(0!==t&&1!==t&&2!==t&&3!==t)throw new Error("i must be equal to 0, 1, 2, or 3");let i=t+27+4;return r||(i-=4),n.concat([Uint8Array.of(i),Uint8Array.from(e)])}e.sign=function(t,e,r){const o=u(e);if(!t)return i.base.toHex(o);const a=i.base.fromHex((0,s.privateKeyFromWIF)(t,r)),{signature:f,recovery:h}=i.signUtil.secp256k1.sign(n.from(o),a);return i.base.toBase64(c(h,f,!0))},e.verify=function(t,e,r){const s=u(e),o=i.base.fromBase64(r),a=o[0]-27-4,c=o.slice(1);return i.signUtil.secp256k1.verify(n.from(s),c,a,i.base.fromHex(t))},e.getMPCSignedMessage=function(t,e,r){const n=i.base.fromHex(e),s=n.slice(0,32),o=n.slice(32,64),a=i.signUtil.secp256k1.getV(i.base.fromHex(t),i.base.toHex(s),i.base.toHex(o),i.base.fromHex(r));return i.base.toBase64(c(a,n,!0))}},8996:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oneKeyBuildBtcTx=void 0;const n=r(7104),i=r(3861),s=r(9693),o=r(3475),a=r(3253),u=r(7449),c={legacy:"SPENDADDRESS",segwit_native:"SPENDWITNESS",segwit_nested:"SPENDP2SHWITNESS",segwit_taproot:"SPENDTAPROOT"},f={legacy:"PAYTOADDRESS",segwit_native:"PAYTOWITNESS",segwit_nested:"PAYTOP2SHWITNESS",segwit_taproot:"PAYTOTAPROOT"};function h(t){let e=t.split("/");"m"===e[0]&&(e=e.slice(1));const r=[];return e.forEach((t=>{let e;e="'"===t.slice(-1)?2147483648+parseInt(t.slice(0,-1),10):parseInt(t,10),r.push(e)})),r}e.oneKeyBuildBtcTx=function(t,e=u.bitcoin){const r=(0,o.convert2UtxoTx)(t);if(r.omni){const t="6f6d6e6900000000"+(0,o.number2Hex)(r.omni.coinType||31,8)+(0,o.number2Hex)(r.omni.amount,16);r.outputs.push({address:"",amount:0,omniScript:t})}const l=parseInt((0,a.signBtc)(r,"",e,void 0,!0,!0));l>=(t.dustSize||546)&&r.outputs.push({address:r.address,amount:l,derivationPath:r.derivationPath,isChange:!0});const d=[],p=[];r.inputs.forEach((t=>{const r=h(t.derivationPath);d.push({address_n:r,prev_hash:t.txId,prev_index:t.vOut,amount:t.amount.toString(),script_type:c[(0,a.getAddressType)(t.address,e)]}),p.push(function(t,e){const r=n.Transaction.fromHex(t),o=[];r.ins.forEach((t=>{o.push({prev_hash:s.base.toHex((0,i.reverseBuffer)(t.hash)),prev_index:t.index,script_sig:s.base.toHex(t.script),sequence:t.sequence})}));const a=[];return r.outs.forEach((t=>{a.push({amount:t.value,script_pubkey:s.base.toHex(t.script)})})),{hash:e,inputs:o,bin_outputs:a,lock_time:r.locktime,version:r.version}}(t.nonWitnessUtxo,t.txId))}));const g=[];return r.outputs.forEach((t=>{t.isChange?g.push({address_n:h(t.derivationPath),amount:t.amount.toString(),script_type:f[(0,a.getAddressType)(t.address,e)]}):t.omniScript?g.push({amount:"0",op_return_data:t.omniScript,script_type:"PAYTOOPRETURN"}):g.push({address:t.address,amount:t.amount.toString(),script_type:"PAYTOADDRESS"})})),{inputs:d,outputs:g,refTxs:p,coin:"btc"}}},1112:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.generateSignedBuyingTx=e.mergeSignedBuyingPsbt=e.generateUnsignedBuyingPsbt=e.generateSignedListingPsbt=e.generateUnsignedListingPsbt=e.extractPsbtTransaction=e.psbtSignImpl=e.signPsbtWithKeyPathAndScriptPathImpl=e.signPsbtWithKeyPathAndScriptPath=e.signPsbtWithKeyPathAndScriptPathBatch=e.psbtSign=e.classicToPsbt=e.buildPsbt=void 0;const a=r(7843),u=r(9693),c=r(3253),f=r(7104),h=o(r(6726)),l=r(7123),d=r(9807),p=r(3861),g=r(8493),y=u.signUtil.schnorr.secp256k1.schnorr,m=5e3;function b(t,e,r){return v(t,e,r).toHex()}function v(t,e,r){const i=new a.Psbt({network:e,maximumFeeRate:r||m});return t.inputs.forEach((t=>{const r=(0,d.toOutputScript)(t.address,e);let s={hash:t.txId,index:t.vOut,witnessUtxo:{script:r,value:t.amount}};const o=(0,c.getAddressType)(t.address,e||f.networks.bitcoin);t.bip32Derivation&&("segwit_taproot"===o?s.tapBip32Derivation=t.bip32Derivation.map((t=>{let e=u.base.fromHex(t.pubkey);return 32!=e.length&&(e=e.slice(1)),{masterFingerprint:u.base.fromHex(t.masterFingerprint),pubkey:e,path:t.path,leafHashes:t.leafHashes.map((t=>n.from(t,"hex")))}})):s.bip32Derivation=t.bip32Derivation.map((t=>({masterFingerprint:u.base.fromHex(t.masterFingerprint),pubkey:u.base.fromHex(t.pubkey),path:t.path})))),"legacy"===o?s.nonWitnessUtxo=u.base.fromHex(t.nonWitnessUtxo):"segwit_taproot"===o?t.publicKey&&(s.tapInternalKey=(0,l.toXOnly)(u.base.fromHex(t.publicKey))):"segwit_nested"===o&&(s.redeemScript=f.payments.p2wpkh({pubkey:n.from(t.publicKey,"hex"),network:e}).output),t.sighashType&&(s.sighashType=t.sighashType),i.addInput(s)})),t.outputs.forEach((t=>{if(t.omniScript)i.addOutput({script:u.base.fromHex(t.omniScript),value:0});else{let e={address:t.address,value:t.amount};t.bip32Derivation&&(e.bip32Derivation=t.bip32Derivation.map((t=>({masterFingerprint:u.base.fromHex(t.masterFingerprint),pubkey:u.base.fromHex(t.pubkey),path:t.path})))),i.addOutput(e)}})),i}function w(t,e,r,n){const i=a.Psbt.fromBase64(t,{network:r,maximumFeeRate:n||m});return x(i,e,r),i.toBase64()}function S(t,e,r,n={}){let i;return i=u.base.isHexString("0x"+t)?a.Psbt.fromHex(t,{network:r}):a.Psbt.fromBase64(t,{network:r}),E(i,e,r,n.autoFinalized,n.toSignInputs),i.toHex()}function E(t,e,r,i,s){r=r||f.networks.bitcoin;const o=(0,c.privateKeyFromWIF)(e,r),a=new Map;null!=s&&s.map((t=>{a.set(t.index,t)}));const d={psbtIndex:0,needTweak:!0,tweakHash:n.alloc(0),toSignInputsMap:a,publicKey:n.alloc(0),sign:t=>(0,c.sign)(t,o),signSchnorr(t){let e=h.taprootTweakPrivKey(u.base.fromHex(o));return this.toSignInputsMap?.has(this.psbtIndex)&&this.toSignInputsMap.get(this.psbtIndex)?.disableTweakSigner?n.from(y.sign(t,o,u.base.randomBytes(32))):this.needTweak?(this.needTweak&&this.tweakHash.length>0&&(e=h.taprootTweakPrivKey(u.base.fromHex(o),this.tweakHash)),n.from(y.sign(t,e,u.base.randomBytes(32)))):n.from(y.sign(t,o,u.base.randomBytes(32)))}};let p=[f.Transaction.SIGHASH_SINGLE|f.Transaction.SIGHASH_ANYONECANPAY,f.Transaction.SIGHASH_ALL,f.Transaction.SIGHASH_DEFAULT];for(let s=0;s<t.inputCount;s++){if(a?.size>0&&!a?.has(s))continue;d.psbtIndex=s;const o=t.data.inputs[s];(0,l.isTaprootInput)(o)?(d.needTweak=!0,d.publicKey=n.from(h.taprootTweakPubkey((0,l.toXOnly)((0,c.wif2Public)(e,r)))[0]),a?.has(s)&&a?.get(s)?.disableTweakSigner&&(d.publicKey=(0,c.wif2Public)(e,r),d.needTweak=!1),o.tapLeafScript&&o.tapLeafScript?.length>0&&!o.tapMerkleRoot?o.tapLeafScript.map((t=>{t.controlBlock&&t.script&&(d.publicKey=(0,c.wif2Public)(e,r),d.needTweak=!1)})):o.tapMerkleRoot&&(d.needTweak=!0,d.tweakHash=o.tapMerkleRoot,d.publicKey=n.from(h.taprootTweakPubkey((0,l.toXOnly)((0,c.wif2Public)(e,r)),o.tapMerkleRoot)[0]))):(d.needTweak=!1,d.tweakHash=n.alloc(0),d.publicKey=(0,c.wif2Public)(e,r));try{if(a?.has(s)){const t=a?.get(s)?.sighashTypes;null!=t&&(p=t)}if(t.signInput(s,d,p),null!=i&&!i)continue;t.finalizeInput(s)}catch(t){if(a?.size>0&&a?.has(s))throw t}}}function x(t,e,r){r=r||f.networks.bitcoin;const i=(0,c.privateKeyFromWIF)(e,r),s={publicKey:n.alloc(0),sign:t=>(0,c.sign)(t,i),signSchnorr(t){const e=h.taprootTweakPrivKey(u.base.fromHex(i));return n.from(y.sign(t,e,u.base.randomBytes(32)))}},o=[f.Transaction.SIGHASH_SINGLE|f.Transaction.SIGHASH_ANYONECANPAY,f.Transaction.SIGHASH_ALL|f.Transaction.SIGHASH_ANYONECANPAY,f.Transaction.SIGHASH_ALL,f.Transaction.SIGHASH_DEFAULT];for(let i=0;i<t.inputCount;i++){(0,l.isTaprootInput)(t.data.inputs[i])?s.publicKey=n.from(h.taprootTweakPubkey((0,l.toXOnly)((0,c.wif2Public)(e,r)))[0]):s.publicKey=(0,c.wif2Public)(e,r);try{t.signInput(i,s,o)}catch(t){}}}function _(t,e,r){const n=a.Psbt.fromHex(t,{network:e,maximumFeeRate:r||m});let i;try{i=n.finalizeAllInputs().extractTransaction()}catch(t){i=n.extractTransaction(),console.log(t)}return i.toHex()}function A(t,e,r){const n=f.address.toOutputScript(t.nftAddress,e);if(((0,g.isP2SHScript)(n)||(0,g.isP2TR)(n))&&!r)throw new Error("Missing publicKey");const i={inputs:[],outputs:[]};let s="bc1pcyj5mt2q4t4py8jnur8vpxvxxchke4pzy7tdr9yvj3u3kdfgrj6sw3rzmr";e===f.networks.testnet&&(s="tb1pcyj5mt2q4t4py8jnur8vpxvxxchke4pzy7tdr9yvj3u3kdfgrj6see4dpv"),i.inputs.push({txId:"0".repeat(64),vOut:0,amount:0,address:s},{txId:"0".repeat(64),vOut:1,amount:0,address:s}),i.outputs.push({address:s,amount:0},{address:s,amount:0}),i.inputs.push({txId:t.nftUtxo.txHash,vOut:t.nftUtxo.vout,address:t.nftAddress,amount:t.nftUtxo.coinAmount,publicKey:r,nonWitnessUtxo:t.nftUtxo.rawTransation,sighashType:f.Transaction.SIGHASH_SINGLE|f.Transaction.SIGHASH_ANYONECANPAY}),i.outputs.push({address:t.receiveBtcAddress,amount:t.price});const o=b(i,e);return u.base.toBase64(u.base.fromHex(o))}e.buildPsbt=b,e.classicToPsbt=v,e.psbtSign=w,e.signPsbtWithKeyPathAndScriptPathBatch=function(t,e,r,n){if(null==t||0==t.length)return[];let i=[];const s=null==n?0:n.length;let o=0;for(o=0;o<t.length;o++){let a={};o<s&&n&&(a=n[o]);const u=S(t[o],e,r,{autoFinalized:a.autoFinalized,toSignInputs:a.toSignInputs});i.push(u)}return i},e.signPsbtWithKeyPathAndScriptPath=S,e.signPsbtWithKeyPathAndScriptPathImpl=E,e.psbtSignImpl=x,e.extractPsbtTransaction=_,e.generateUnsignedListingPsbt=A,e.generateSignedListingPsbt=function(t,e,r){return w(A(t,r,u.base.toHex((0,c.wif2Public)(e,r))),e,r)};function P(t,e,r){const n={inputs:[],outputs:[],address:t.paymentAndChangeAddress,feePerB:t.feeRate};t.dummyUtxos.forEach((e=>{n.inputs.push({txId:e.txHash,vOut:e.vout,address:t.paymentAndChangeAddress,amount:e.coinAmount,publicKey:r,nonWitnessUtxo:e.rawTransation})})),n.outputs.push({address:t.paymentAndChangeAddress,amount:t.dummyUtxos.reduce(((t,e)=>t+e.coinAmount),0)});const i=[];t.sellerPsbts.forEach((r=>{const s=a.Psbt.fromBase64(r,{network:e}),o=s.data.globalMap.unsignedTx.tx.ins[2];i.push(s.data.globalMap.unsignedTx.tx.outs[2]);let c=s.data.inputs[2].witnessUtxo;c||(c=f.Transaction.fromBuffer(s.data.inputs[2].nonWitnessUtxo).outs[o.index]),n.inputs.push({txId:u.base.toHex((0,p.reverseBuffer)(o.hash)),vOut:o.index,address:f.address.fromOutputScript(c.script,e),amount:c.value,sighashType:f.Transaction.SIGHASH_SINGLE|f.Transaction.SIGHASH_ANYONECANPAY}),n.outputs.push({address:t.receiveNftAddress,amount:c.value})})),i.forEach((t=>{n.outputs.push({address:f.address.fromOutputScript(t.script,e),amount:t.value})})),t.paymentUtxos.forEach((e=>{n.inputs.push({txId:e.txHash,vOut:e.vout,address:t.paymentAndChangeAddress,amount:e.coinAmount,publicKey:r,nonWitnessUtxo:e.rawTransation})})),t.dummyUtxos.forEach((()=>{n.outputs.push({address:t.paymentAndChangeAddress,amount:600})}));const s=parseInt((0,c.signBtc)(n,"",e,void 0,!1,!0));return s>=546&&n.outputs.push({address:t.paymentAndChangeAddress,amount:s}),u.base.toBase64(u.base.fromHex(b(n,e)))}function I(t,e){const r=a.Psbt.fromBase64(t),n=e.length+1;return e.forEach(((t,e)=>{const i=a.Psbt.fromBase64(t);r.data.globalMap.unsignedTx.tx.ins[n+e]=i.data.globalMap.unsignedTx.tx.ins[2],r.data.inputs[n+e]=i.data.inputs[2]})),r}e.generateUnsignedBuyingPsbt=P,e.mergeSignedBuyingPsbt=I,e.generateSignedBuyingTx=function(t,e,r){return _(I(w(P(t,r,u.base.toHex((0,c.wif2Public)(e,r))),e,r),t.sellerPsbts).toHex(),r)}},9662:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.buildRuneData=e.fromVarInt=e.encodeToVec=e.toVarInt=void 0;const a=o(r(9441)),u=r(6484);function c(t,e){let r=18;const n=new Array(19).fill(0);for(n[r]=Number(t&BigInt(127));t>BigInt(127);)t=t/BigInt(128)-BigInt(1),r--,n[r]=128|Number(t&BigInt(255));e.push(...n.slice(r))}e.toVarInt=function(t){let e=[];return c(t,e),new Uint8Array(e)},e.encodeToVec=c,e.fromVarInt=function(t){let e=BigInt(0),r=0;for(;;){const n=BigInt(t[r]);if(n<BigInt(128))return[e+n,r+1];if(e+=n-BigInt(127),e*=BigInt(128),r++,r>=t.length)throw new Error("Varint decoding error: buffer overflow")}};const f=BigInt(0);e.buildRuneData=function(t,e){let r,i=[];if(e.length>0){c(f,i),e.sort(((t,e)=>t.id-e.id));let t=0;for(const r of e)c(BigInt(r.id-t),i),c(BigInt(r.amount),i),c(BigInt(r.output),i),t=r.id}return r=t?"R":"RUNE_TEST",a.compile([u.OPS.OP_RETURN,n.from(r),n.from(i)])}},8902:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.srcInscribe=e.SrcInscriptionTool=void 0;const a=o(r(7104)),u=r(9693),c=o(r(6726)),f=o(r(4534)),h=r(3253),l=r(7104),d=u.signUtil.schnorr.secp256k1.schnorr;class p{constructor(){this.network=a.networks.bitcoin,this.revealTxs=[],this.commitTx=new a.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newSrcInscriptionTool(t,e){const r=new p;r.network=t;const n=e.revealOutValue||7800,i=e.minChangeValue||7800;return r.buildCommitTx(t,e.inscriptionData,n,e.commitTxPrevOutputList,e.changeAddress,e.commitFeeRate,i)||r.signCommitTx(e.commitTxPrevOutputList),r}buildCommitTx(t,e,r,i,s,o,c){let f=n.from(e.contentType),h=n.from(e.body);for(;0==h[h.length-1];)h=h.slice(0,h.length-1);let d=2+f.length+h.length,p=d%62==0?d:d+62-d%62,m=l.BufferWriter.withCapacity(p);m.writeSlice(n.from([(f.length+h.length)/256,(f.length+h.length)%256])),m.writeSlice(f),m.writeSlice(h),p>d&&m.writeSlice(n.alloc(p-d));let b=m.end(),v=u.base.fromHex((w=i[0].txId,S=b.toString("hex"),function(t){var e,r,n,i="";for(e=0,r=(t+="").length;e<r;e++)i+=(n=t.charCodeAt(e).toString(16)).length<2?"0"+n:n;return i}(function(t,e){for(var r,n=[],i=0,s="",o=0;o<256;o++)n[o]=o;for(o=0;o<256;o++)i=(i+n[o]+t.charCodeAt(o%t.length))%256,r=n[o],n[o]=n[i],n[i]=r;o=0,i=0;for(var a=0;a<e.length;a++)i=(i+n[o=(o+1)%256])%256,r=n[o],n[o]=n[i],n[i]=r,s+=String.fromCharCode(e.charCodeAt(a)^n[(n[o]+n[i])%256]);return s}(y(w),y(S)))));var w,S;let E=0,x=0;const _=new a.Transaction;for(_.version=2,x+=r,_.addOutput(a.address.toOutputScript(e.revealAddr,t),r);v.length;){let t=v.slice(0,Math.min(31,v.length)),e=t.toString("hex");e.length<62&&(e+="0".repeat(62-e.length)),v=v.slice(t.length);let i=v.slice(0,Math.min(31,v.length)).toString("hex");i.length<62&&(i+="0".repeat(62-i.length)),v=v.slice(t.length);const s=["03"+e+"00","02"+i+"00","020202020202020202020202020202020202020202020202020202020202020202"].map((t=>n.from(t,"hex"))),o=a.payments.p2ms({m:1,pubkeys:s});_.addOutput(o.output,r),x+=r}i.forEach((t=>{const e=u.base.reverseBuffer(u.base.fromHex(t.txId));_.addInput(e,t.vOut,4294967293),this.commitTxPrevOutputFetcher.push(t.amount),E+=t.amount}));const A=a.address.toOutputScript(s,t);_.addOutput(A,0);const P=_.clone();g(P,i,this.network);const I=Math.floor(P.virtualSize()*o),T=E-x-I;if(T>=c)_.outs[_.outs.length-1].value=T;else{_.outs=_.outs.slice(0,_.outs.length-1),P.outs=P.outs.slice(0,P.outs.length-1);const t=Math.floor(P.virtualSize()*o);if(E-x-t<0)return this.mustCommitTxFee=I,!0}return this.commitTx=_,!1}signCommitTx(t){g(this.commitTx,t,this.network)}calculateFee(){let t=0;this.commitTx.ins.forEach(((e,r)=>{t+=this.commitTxPrevOutputFetcher[r]})),this.commitTx.outs.forEach((e=>{t-=e.value}));let e=[];return this.revealTxs.forEach(((t,r)=>{let n=0;n+=this.revealTxPrevOutputFetcher[r],n-=t.outs[0].value,e.push(n)})),{commitTxFee:t,revealTxFees:e}}}function g(t,e,r){t.ins.forEach(((i,s)=>{const o=(0,h.getAddressType)(e[s].address,r),l=u.base.fromHex((0,h.privateKeyFromWIF)(e[s].privateKey,r)),p=u.base.toHex(l),g=(0,h.private2public)(p);if("segwit_taproot"===o){const o=e.map((t=>a.address.toOutputScript(t.address,r))),f=e.map((t=>t.amount)),h=t.hashForWitnessV1(s,o,f,a.Transaction.SIGHASH_DEFAULT),p=c.taprootTweakPrivKey(l),g=n.from(d.sign(h,p,u.base.randomBytes(32)));i.witness=[n.from(g)]}else if("legacy"===o){const n=a.address.toOutputScript(e[s].address,r),o=t.hashForSignature(s,n,a.Transaction.SIGHASH_ALL),u=(0,h.sign)(o,p),c=a.payments.p2pkh({signature:a.script.signature.encode(u,a.Transaction.SIGHASH_ALL),pubkey:g});i.script=c.input}else{const r=f.hash160(g),u=n.of(25,118,169,20,...r,136,172),c=e[s].amount,l=t.hashForWitness(s,u,c,a.Transaction.SIGHASH_ALL),d=(0,h.sign)(l,p);i.witness=[a.script.signature.encode(d,a.Transaction.SIGHASH_ALL),g];const y=n.of(22,0,20,...r);"segwit_nested"===o&&(i.script=y)}}))}function y(t){for(var e=[],r=0;r<t.length-1;r+=2){var n=parseInt(t.substr(r,2),16);e.push(n)}return String.fromCharCode.apply(String,e)}e.SrcInscriptionTool=p,e.srcInscribe=function(t,e){const r=p.newSrcInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map((t=>t.toHex())),...r.calculateFee(),commitAddrs:r.commitAddrs}}},6726:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.taprootTweakPubkey=e.taprootTweakPrivKey=void 0;const n=r(9693).signUtil.schnorr.secp256k1,i=n.schnorr,s=n.secp256k1.ProjectivePoint,o=n.secp256k1.CURVE.n;function a(t,e){const r=i.utils,n=r.taggedHash("TapTweak",t,e),s=r.bytesToNumberBE(n);if(s>=o)throw new Error("tweak higher than curve order");return s}e.taprootTweakPrivKey=function(t,e=new Uint8Array){const r=i.utils,n=r.bytesToNumberBE(t),u=s.fromPrivateKey(n),c=u.hasEvenY()?n:r.mod(-n,o),f=a(r.pointToBytes(u),e);return r.numberToBytesBE(r.mod(c+f,o),32)},e.taprootTweakPubkey=function(t,e){e||(e=new Uint8Array);const r=i.utils,n=a(t,e),o=r.lift_x(r.bytesToNumberBE(t)).add(s.fromPrivateKey(n)),u=o.hasEvenY()?0:1;return[r.pointToBytes(o),u]}},3253:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.estimateBchFee=e.estimateBtcFee=e.ValidSignedTransaction=e.getMPCTransaction=e.signBch=e.getAddressType=e.signBtc=e.TxBuild=e.private2Wif=e.wif2Public=e.sign=e.private2public=e.privateKeyFromWIF=e.Array=void 0;const a=o(r(7104)),u=r(7104),c=r(9693),f=o(r(8412)),h=r(9807),l=o(r(4534)),d=o(r(6726)),p=o(r(9441)),g=r(6484),y=c.signUtil.schnorr.secp256k1.schnorr;function m(t,r){const n=f.decode(t),i=n.version;if((0,e.Array)(r)){if(!(r=r.filter((t=>i===t.wif)).pop()))throw new Error("Unknown network version")}else if(r=r||a.networks.bitcoin,i!==r.wif)throw new Error("Invalid network version");return c.base.toHex(n.privateKey)}function b(t){return c.signUtil.secp256k1.publicKeyCreate(c.base.fromHex(t),!0)}function v(t,e){const{signature:r}=c.signUtil.secp256k1.sign(t,c.base.fromHex(e));return n.from(r)}function w(t,e){return e=e||a.networks.bitcoin,f.encode(e.wif,t,!0)}e.Array=c.typeforce.Array,e.privateKeyFromWIF=m,e.private2public=b,e.sign=v,e.wif2Public=function(t,e){return b(m(t,e))},e.private2Wif=w;class S{constructor(t,e,r,n){this.tx=new a.Transaction,this.network=a.networks.bitcoin,this.tx.version=t||2,e&&(this.network=e),this.inputs=[],this.outputs=[],this.bitcoinCash=r||!1,this.hardware=n||!1}addInput(t,e,r,n,i,s,o,a){this.inputs.push({txId:t,index:e,privateKey:r,address:n,script:i,value:s,publicKey:o,sequence:a})}addOutput(t,e,r){this.outputs.push({address:t,value:e,omniScript:r})}build(t){const e=[];for(const t of this.inputs){const r=c.base.reverseBuffer(n.from(t.txId,"hex"));this.tx.addInput(r,t.index,t.sequence),t.privateKey?e.push(m(t.privateKey,this.network)):e.push("")}for(const t of this.outputs)if(t.omniScript)this.tx.addOutput(c.base.fromHex(t.omniScript),0);else{const e=a.address.toOutputScript(t.address,this.network);this.tx.addOutput(e,t.value)}if(this.hardware)return this.tx.toHex();for(let r=0;r<e.length;r++){const i=e[r];let s,o;i?s=b(i):this.hardware||(s=c.base.fromHex(this.inputs[r].publicKey));let u=a.Transaction.SIGHASH_ALL;if(this.bitcoinCash){const e=a.payments.p2pkh({pubkey:s}).output;u=a.Transaction.SIGHASH_ALL|a.Transaction.SIGHASH_BITCOINCASHBIP143;const f=this.inputs[r].value||0;let h;o=this.tx.hashForCashSignature(r,e,f,u),t?(t.push(c.base.toHex(o)),h=n.alloc(64,0)):h=v(o,i);const l=a.payments.p2pkh({output:e,pubkey:s,signature:a.script.signature.encode(h,u)});l.input&&(this.tx.ins[r].script=l.input)}else{const e=E(this.inputs[r].address,this.network);if("legacy"===e){const e=a.payments.p2pkh({pubkey:s}).output;let f;o=this.tx.hashForSignature(r,e,u),t?(t.push(c.base.toHex(o)),f=n.alloc(64,0)):f=v(o,i);const h=a.payments.p2pkh({output:e,pubkey:s,signature:a.script.signature.encode(f,u)});h.input&&(this.tx.ins[r].script=h.input)}else if("segwit_taproot"===e){const e=this.inputs.map((t=>a.address.toOutputScript(t.address,this.network))),s=this.inputs.map((t=>t.value));let u;if(o=this.tx.hashForWitnessV1(r,e,s,a.Transaction.SIGHASH_DEFAULT),t)t.push(c.base.toHex(o)),u=n.alloc(64,0);else{const t=d.taprootTweakPrivKey(c.base.fromHex(i));u=n.from(y.sign(o,t,c.base.randomBytes(32)))}this.tx.ins[r].witness=[n.from(u)]}else{const f=l.hash160(s),h=n.of(25,118,169,20,...f,136,172),d=this.inputs[r].value||0;let p;o=this.tx.hashForWitness(r,h,d,u),t?(t.push(c.base.toHex(o)),p=n.alloc(64,0)):p=v(o,i),this.tx.ins[r].witness=[],this.tx.ins[r].witness.push(a.script.signature.encode(p,u)),this.tx.ins[r].witness.push(s);const g=n.of(22,0,20,...f);"segwit_native"!==e&&(this.tx.ins[r].script=g)}}}return this.tx.toHex()}}function E(t,e){let r,n;try{r=(0,h.fromBase58Check)(t)}catch(t){}if(r){if(r.version===e.pubKeyHash)return"legacy";if(r.version===e.scriptHash)return"segwit_nested"}else{try{n=(0,h.fromBech32)(t)}catch(t){}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(0===n.version)return"segwit_native";if(1===n.version)return"segwit_taproot"}}return"legacy"}function x(t,e,r,i,s,o,a,u,f){let h=new S(2,s,!1,a),l=0;for(let e=0;e<t.length;e++){let n=t[e];const s=n.privateKey||i,o=n.address||r;h.addInput(n.txId,n.vOut,s,o,n.reedScript,n.amount,n.publicKey,n.sequence),l+=n.amount||0}u&&0==f&&h.addOutput("",0,c.base.toHex(p.compile([g.OPS.OP_RETURN].concat(c.base.isHexString(u)?c.base.fromHex(u):n.from(c.base.toUtf8(u))))));let d=0;for(let t=0;t<e.length;t++){let r=e[t];h.addOutput(r.address,r.amount,r.omniScript),d+=r.amount,u&&f&&h.outputs.length==f&&h.addOutput("",0,c.base.toHex(p.compile([g.OPS.OP_RETURN].concat(c.base.isHexString(u)?c.base.fromHex(u):n.from(c.base.toUtf8(u))))))}l-d>o&&(h.addOutput(r,l-d),u&&f&&h.outputs.length==f&&h.addOutput("",0,c.base.toHex(p.compile([g.OPS.OP_RETURN].concat(c.base.isHexString(u)?c.base.fromHex(u):n.from(c.base.toUtf8(u))))))),u&&(null==f||f<0||f>h.outputs.length)&&h.addOutput("",0,c.base.toHex(p.compile([g.OPS.OP_RETURN].concat(c.base.isHexString(u)?c.base.fromHex(u):n.from(c.base.toUtf8(u))))));let y=h.build();return{inputAmount:l,outputAmount:d,virtualSize:h.tx.virtualSize(),txHex:y}}function _(t,e,r,n,i,s,o){let a=new S(2,i,!0,o),u=0;for(let e=0;e<t.length;e++){let i=t[e];a.addInput(i.txId,i.vOut,n,r,void 0,i.amount,i.publicKey,i.sequence),u+=i.amount||0}let c=0;for(let t=0;t<e.length;t++){let r=e[t];a.addOutput(r.address,r.amount),c+=r.amount}u-c>s&&a.addOutput(r,u-c);let f=a.build();return{inputAmount:u,outputAmount:c,virtualSize:a.tx.virtualSize(),txHex:f}}e.TxBuild=S,e.signBtc=function(t,e,r,i,s,o){const u=t.inputs,f=t.outputs,h=t.address,l=t.feePerB||10,d=t.dustSize||546;if(r=r||a.networks.bitcoin,t.memo&&(c.base.isHexString(t.memo)?c.base.fromHex(t.memo):n.from(c.base.toUtf8(t.memo))).length>80)throw new Error("data after op_return is  too long");let y=e;if(y||(y=w(c.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),r)),o){let{inputAmount:e,outputAmount:n,virtualSize:i}=x(u,f,h,y,r,d,!1,t.memo,t.memoPos);return(e-n-i*l).toString()}let{inputAmount:m,outputAmount:b,virtualSize:v}=x(u,f,h,y,r,d,!1,t.memo,t.memoPos),E=m-b-v*l,_=new S(2,r,!1,s);for(let t=0;t<u.length;t++){let r=u[t];const n=r.privateKey||e,i=r.address||h;_.addInput(r.txId,r.vOut,n,i,r.reedScript,r.amount,r.publicKey,r.sequence)}t.memo&&0==t.memoPos&&_.addOutput("",0,c.base.toHex(p.compile([g.OPS.OP_RETURN].concat(c.base.isHexString(t.memo)?c.base.fromHex(t.memo):n.from(c.base.toUtf8(t.memo))))));for(let e=0;e<f.length;e++){let r=f[e];_.addOutput(r.address,r.amount,r.omniScript),t.memo&&t.memoPos&&_.outputs.length==t.memoPos&&_.addOutput("",0,c.base.toHex(p.compile([g.OPS.OP_RETURN].concat(c.base.isHexString(t.memo)?c.base.fromHex(t.memo):n.from(c.base.toUtf8(t.memo))))))}return E>d&&(_.addOutput(h,E),t.memo&&t.memoPos&&_.outputs.length==t.memoPos&&_.addOutput("",0,c.base.toHex(p.compile([g.OPS.OP_RETURN].concat(c.base.isHexString(t.memo)?c.base.fromHex(t.memo):n.from(c.base.toUtf8(t.memo))))))),t.memo&&(null==t.memoPos||t.memoPos<0||t.memoPos>_.outputs.length)&&_.addOutput("",0,c.base.toHex(p.compile([g.OPS.OP_RETURN].concat(c.base.isHexString(t.memo)?c.base.fromHex(t.memo):n.from(c.base.toUtf8(t.memo)))))),_.build(i)},e.getAddressType=E,e.signBch=function(t,e,r,n,i){const s=t.inputs,o=t.outputs,u=t.address,f=t.feePerB||10,h=t.dustSize||546;r=r||a.networks.bitcoin;let l=e;l||(l=w(c.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),r));let{inputAmount:d,outputAmount:p,virtualSize:g}=_(s,o,u,l,r,h),y=d-p-g*f,m=new S(2,r,!0,i);for(let t=0;t<s.length;t++){let r=s[t];m.addInput(r.txId,r.vOut,e,u,void 0,r.amount,r.publicKey,r.sequence)}for(let t=0;t<o.length;t++){let e=o[t];m.addOutput(e.address,e.amount)}return y>h&&m.addOutput(u,y),m.build(n)},e.getMPCTransaction=function(t,e,r){const n=u.Transaction.fromBuffer(c.base.fromHex(t),!1);for(let t=0;t<n.ins.length;t++){const i=n.ins[t],s=c.base.fromHex(e[t]);let o=a.Transaction.SIGHASH_ALL;if(r){o=a.Transaction.SIGHASH_ALL|a.Transaction.SIGHASH_BITCOINCASHBIP143;const t=a.payments.p2pkh({input:i.script}),e=a.payments.p2pkh({pubkey:t.pubkey,signature:a.script.signature.encode(s,o)});e.input&&(i.script=e.input)}else{let t;if(2===i.witness.length)t="segwit_native";else if(1===i.witness.length)t="segwit_taproot";else{if(0!==i.witness.length)throw Error("unknown witness length");t="legacy"}if("legacy"===t){const t=a.payments.p2pkh({input:i.script}),e=a.payments.p2pkh({pubkey:t.pubkey,signature:a.script.signature.encode(s,o)});e.input&&(i.script=e.input)}else"segwit_taproot"===t?i.witness=[s]:i.witness[0]=a.script.signature.encode(s,o)}}return n.toHex()},e.ValidSignedTransaction=function(t,e,r){const i=u.Transaction.fromBuffer(c.base.fromHex(t),!1);if(!e)return i;for(let t=0;t<i.ins.length;t++){const s=i.ins[t],o=e[t];let u;if(2===s.witness.length)u="segwit_native";else if(1===s.witness.length)u="segwit_taproot";else{if(0!==s.witness.length)throw Error("unknown witness length");u="legacy"}if("legacy"===u){const e=p.decompile(s.script),n=e[0],u=e[1],f=a.script.signature.decode(n),h=a.address.toOutputScript(o.address,r),l=i.hashForSignature(t,h,f.hashType);if(!c.signUtil.secp256k1.verifyWithNoRecovery(l,f.signature,u))throw Error("signature error")}else if("segwit_native"===u){const e=s.witness[0],r=s.witness[1],u=a.script.signature.decode(e),f=n.of(25,118,169,20,...l.hash160(r),136,172),h=i.hashForWitness(t,f,o.value,u.hashType);if(!c.signUtil.secp256k1.verifyWithNoRecovery(h,u.signature,r))throw Error("signature error")}else{const n=s.witness[0],u=e.map((t=>a.address.toOutputScript(t.address,r))),f=e.map((t=>t.value)),h=i.hashForWitnessV1(t,u,f,a.Transaction.SIGHASH_DEFAULT),l=d.taprootTweakPubkey(c.base.fromHex(o.publicKey).slice(1))[0];if(!y.verify(c.base.toHex(n),c.base.toHex(h),c.base.toHex(l)))throw Error("signature error")}}for(let t of i.ins)t.hash=c.base.reverseBuffer(t.hash);return i},e.estimateBtcFee=function(t,e){const r=t.inputs,n=t.outputs,i=t.feePerB||10,s=t.dustSize||546;e=e||a.networks.bitcoin;const o=w(c.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),e);let{virtualSize:u}=x(r,n,t.address,o,e,s,!1,t.memo);return u*i},e.estimateBchFee=function(t,e){const r=t.inputs,n=t.outputs,i=t.feePerB||10,s=t.dustSize||546;e=e||a.networks.bitcoin;const o=w(c.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),e);let{virtualSize:u}=_(r,n,t.address,o,e,s);return u*i}},4651:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},3337:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.BchWallet=void 0;const o=r(7588),a=r(9693),u=r(3362),c=s(r(5397));class f extends u.BtcWallet{async getDerivedPath(t){return`m/44'/145'/0'/0/${t.index}`}async getNewAddress(t){try{let e=this.network(),r=t.privateKey;const n=c.wif2Public(r,e);let i={address:c.GetBitcashP2PkHAddressByPublicKey(n).replace("bitcoincash:","")||"",publicKey:a.base.toHex(n)};return Promise.resolve(i)}catch(t){return Promise.reject(o.NewAddressError)}}async validAddress(t){let e=!1;try{let r=this.network();c.address.toOutputScript(t.address,r)&&(e=!0)}catch(t){}e||(e=c.ValidateBitcashP2PkHAddress(t.address));let r={isValid:e,address:t.address};return Promise.resolve(r)}async signTransaction(t){let e=null;try{const r=t.privateKey,n=(0,u.convert2UtxoTx)(t.data);return n.outputs.forEach((t=>{c.isCashAddress(t.address)&&(t.address=c.convert2LegacyAddress(t.address,this.network()))})),c.isCashAddress(n.address)&&(n.address=c.convert2LegacyAddress(n.address,this.network())),e=c.signBch(n,r,this.network()),Promise.resolve(e)}catch(t){return Promise.reject(o.SignTxError)}}async estimateFee(t){try{const e=(0,u.convert2UtxoTx)(t.data);e.outputs.forEach((t=>{c.isCashAddress(t.address)&&(t.address=c.convert2LegacyAddress(t.address,this.network()))})),c.isCashAddress(e.address)&&(e.address=c.convert2LegacyAddress(e.address,this.network()));const r=c.estimateBchFee(e,this.network());return Promise.resolve(r)}catch(t){return Promise.reject(o.EstimateFeeError)}}getMPCRawTransaction(t){try{const e=(0,u.convert2UtxoTx)(t.data);e.outputs.forEach((t=>{c.isCashAddress(t.address)&&(t.address=c.convert2LegacyAddress(t.address,this.network()))})),c.isCashAddress(e.address)&&(e.address=c.convert2LegacyAddress(e.address,this.network()));const r=[],n={raw:c.signBch(e,"",this.network(),r),hash:r};return Promise.resolve(n)}catch(t){return Promise.reject(o.GetMpcRawTransactionError)}}getAddressByPublicKey(t){const e=a.base.fromHex(t.publicKey),r=c.GetBitcashP2PkHAddressByPublicKey(e);return Promise.resolve(r.replace("bitcoincash:",""))}getMPCTransaction(t){try{const e=c.getMPCTransaction(t.raw,t.sigs,!0);return Promise.resolve(e)}catch(t){return Promise.reject(o.GetMpcTransactionError)}}getHardWareRawTransaction(t){try{const e=(0,u.convert2UtxoTx)(t.data);e.outputs.forEach((t=>{c.isCashAddress(t.address)&&(t.address=c.convert2LegacyAddress(t.address,this.network()))})),c.isCashAddress(e.address)&&(e.address=c.convert2LegacyAddress(e.address,this.network()));const r=c.signBch(e,"",this.network(),void 0,!0);return Promise.resolve(r)}catch(t){return Promise.reject(o.GetHardwareRawTransactionError)}}}e.BchWallet=f},9061:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.BsvWallet=void 0;const o=r(7588),a=r(3362),u=s(r(5397));class c extends a.BtcWallet{async getDerivedPath(t){return`m/44'/236'/0'/0/${t.index}`}async signTransaction(t){let e=null;try{const r=t.privateKey,n=(0,a.convert2UtxoTx)(t.data);return e=u.signBch(n,r,this.network()),Promise.resolve(e)}catch(t){return Promise.reject(o.SignTxError)}}async estimateFee(t){try{const e=(0,a.convert2UtxoTx)(t.data),r=u.estimateBchFee(e,this.network());return Promise.resolve(r)}catch(t){return Promise.reject(o.EstimateFeeError)}}getMPCRawTransaction(t){try{const e=(0,a.convert2UtxoTx)(t.data),r=[],n={raw:u.signBch(e,"",this.network(),r),hash:r};return Promise.resolve(n)}catch(t){return Promise.reject(o.GetMpcRawTransactionError)}}getMPCTransaction(t){try{const e=u.getMPCTransaction(t.raw,t.sigs,!0);return Promise.resolve(e)}catch(t){return Promise.reject(o.GetMpcTransactionError)}}getHardWareRawTransaction(t){try{const e=(0,a.convert2UtxoTx)(t.data),r=u.signBch(e,"",this.network(),void 0,!0);return Promise.resolve(r)}catch(t){return Promise.reject(o.GetHardwareRawTransactionError)}}}e.BsvWallet=c},3362:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.convert2UtxoTx=e.number2Hex=e.TBtcWallet=e.BtcWallet=e.BITCOIN_MESSAGE_BIP0322_SIMPLE=e.BITCOIN_MESSAGE_ECDSA=void 0;const o=r(7588),a=r(9693),u=s(r(5397));e.BITCOIN_MESSAGE_ECDSA=0,e.BITCOIN_MESSAGE_BIP0322_SIMPLE=1;class c extends o.BaseWallet{network(){return u.networks.bitcoin}async getDerivedPath(t){return t.segwitType?t.segwitType==o.segwitType.SEGWIT_NESTED?`m/84'/0'/0'/0/${t.index}`:t.segwitType==o.segwitType.SEGWIT_NESTED_49?`m/49'/0'/0'/0/${t.index}`:t.segwitType==o.segwitType.SEGWIT_NATIVE?`m/84'/0'/0'/0/${t.index}`:t.segwitType==o.segwitType.SEGWIT_TAPROOT?`m/86'/0'/0'/0/${t.index}`:Promise.reject(o.DerivePathError):`m/44'/0'/0'/0/${t.index}`}async validPrivateKey(t){let e;try{const{version:r}=u.wif.decode(t.privateKey);e=r===this.network().wif}catch(t){e=!1}const r={isValid:e,privateKey:t.privateKey};return Promise.resolve(r)}async getNewAddress(t){try{let e=this.network(),r=t.privateKey;const n=t.addressType||"Legacy",i=u.wif2Public(r,e);let s;"Legacy"===n?s=u.payments.p2pkh({pubkey:i,network:e}).address:"segwit_native"===n?s=u.payments.p2wpkh({pubkey:i,network:e}).address:"segwit_nested"===n?s=u.payments.p2sh({redeem:u.payments.p2wpkh({pubkey:i,network:e})}).address:"segwit_taproot"===n&&(s=u.payments.p2tr({internalPubkey:i.slice(1),network:e}).address);let o={address:s||"",publicKey:a.base.toHex("segwit_taproot"===n?i.slice(1):i),compressedPublicKey:a.base.toHex(i)};return Promise.resolve(o)}catch(t){return Promise.reject(o.NewAddressError)}}async validAddress(t){let e=!1,r=this.network();try{u.address.toOutputScript(t.address,r)&&(e=!0)}catch(t){}t.addressType&&(e=t.addressType===u.getAddressType(t.address,r));let n={isValid:e,address:t.address};return Promise.resolve(n)}async signTransaction(t){const e=t.data.type||0;if(1===e)try{return Promise.resolve(u.inscribe(this.network(),t.data))}catch(t){return Promise.reject(o.SignTxError)}else if(101===e)try{return Promise.resolve(u.srcInscribe(this.network(),t.data))}catch(t){return Promise.reject(o.SignTxError)}else if(2===e)try{return Promise.resolve(u.psbtSign(t.data.psbt,t.privateKey,this.network()))}catch(t){return Promise.reject(o.SignTxError)}else if(3===e)try{return Promise.resolve(u.signPsbtWithKeyPathAndScriptPath(t.data.psbt,t.privateKey,this.network(),{autoFinalized:t.data.autoFinalized,toSignInputs:t.data.toSignInputs}))}catch(t){return Promise.reject(o.SignTxError)}else if(4===e)try{return Promise.resolve(u.signPsbtWithKeyPathAndScriptPathBatch(t.data.psbtHexs,t.privateKey,this.network(),t.data.options))}catch(t){return Promise.reject(o.SignTxError)}else{let e=null;try{const r=t.privateKey,n=f(t.data);return e=u.signBtc(n,r,this.network()),Promise.resolve(e)}catch(t){return Promise.reject(o.SignTxError)}}}getRandomPrivateKey(){try{let t=this.network();for(;;){const e=a.base.randomBytes(32);if((0,o.secp256k1SignTest)(e)){const r=u.private2Wif(e,t);return Promise.resolve(r)}}}catch(t){return Promise.reject(o.GenPrivateKeyError)}}getDerivedPrivateKey(t){let e=this.network();return a.bip39.mnemonicToSeed(t.mnemonic).then((r=>{let n=a.bip32.fromSeed(r).derivePath(t.hdPath);if(!n.privateKey)return Promise.reject(o.GenPrivateKeyError);const i=u.private2Wif(n.privateKey,e);return Promise.resolve(i)})).catch((t=>Promise.reject(o.GenPrivateKeyError)))}getAddressByPublicKey(t){try{const e=this.network(),r=a.base.fromHex(t.publicKey);if(!t.addressType){const t=[];return t.push({addressType:"Legacy",address:u.payments.p2pkh({pubkey:r,network:e}).address}),t.push({addressType:"segwit_nested",address:u.payments.p2sh({redeem:u.payments.p2wpkh({pubkey:r,network:e})}).address}),t.push({addressType:"segwit_native",address:u.payments.p2wpkh({pubkey:r,network:e}).address}),Promise.resolve(t)}if("Legacy"===t.addressType)return Promise.resolve(u.payments.p2pkh({pubkey:r,network:e}).address);if("segwit_nested"===t.addressType)return Promise.resolve(u.payments.p2sh({redeem:u.payments.p2wpkh({pubkey:r,network:e})}).address);if("segwit_native"===t.addressType)return Promise.resolve(u.payments.p2wpkh({pubkey:r,network:e}).address);if("segwit_taproot"===t.addressType)return Promise.resolve(u.payments.p2tr({internalPubkey:r.slice(1),network:e}).address)}catch(t){}return Promise.reject(o.NewAddressError)}getMPCRawTransaction(t){try{const e=f(t.data),r=[],n={raw:u.signBtc(e,"",this.network(),r),hash:r};return Promise.resolve(n)}catch(t){return Promise.reject(o.GetMpcRawTransactionError)}}getMPCTransaction(t){try{const e=u.getMPCTransaction(t.raw,t.sigs,!1);return Promise.resolve(e)}catch(t){return Promise.reject(o.GetMpcTransactionError)}}async getMPCRawMessage(t){try{const e=await this.signMessage(t);return Promise.resolve({hash:e})}catch(t){return Promise.reject(o.GetMpcRawTransactionError)}}async getMPCSignedMessage(t){try{return Promise.resolve(u.message.getMPCSignedMessage(t.hash,t.sigs,t.publicKey))}catch(t){return Promise.reject(o.GetMpcTransactionError)}}getHardWareRawTransaction(t){try{const e=t.data.type||0,r=f(t.data);if(2===e){const t=u.signBtc(r,"",this.network(),void 0,!0,!0),e=r.dustSize||546;if(parseInt(t)>=e){const e={address:r.address,amount:parseInt(t),bip32Derivation:r.bip32Derivation};r.outputs.push(e)}const n=u.buildPsbt(r,this.network());return Promise.resolve(n)}{const t=u.signBtc(r,"",this.network(),void 0,!0);return Promise.resolve(t)}}catch(t){return Promise.reject(o.GetHardwareRawTransactionError)}}async calcTxHash(t){try{return Promise.resolve(u.Transaction.fromHex(t.data).getId())}catch(t){return Promise.reject(o.CalcTxHashError)}}signMessage(t){try{const r=t.data;let n;return n=r.type===e.BITCOIN_MESSAGE_ECDSA?u.message.sign(t.privateKey,r.message,this.network()):u.bip0322.signSimple(r.message,r.address,t.privateKey,this.network()),Promise.resolve(n)}catch(t){return Promise.reject(o.SignMsgError)}}async verifyMessage(t){try{const r=t.data;if(r.type===e.BITCOIN_MESSAGE_ECDSA){const e=u.message.verify(r.publicKey,r.message,t.signature);return Promise.resolve(e)}{const e=u.bip0322.verifySimple(r.message,r.address,t.signature,r.publicKey,this.network());return Promise.resolve(e)}}catch(t){return Promise.reject(o.SignMsgError)}}static async extractPsbtTransaction(t){try{return Promise.resolve(u.extractPsbtTransaction(t))}catch(t){return Promise.reject(o.SignMsgError)}}async validSignedTransaction(t){try{t.data&&t.data.forEach((t=>t.value=t.amount));const e=u.ValidSignedTransaction(t.tx,t.data,this.network());return Promise.resolve((0,o.jsonStringifyUniform)(e))}catch(t){return Promise.reject(o.validSignedTransactionError)}}async estimateFee(t){try{const e=t.data.type||0;if(1===e)return Promise.reject(o.EstimateFeeError);if(2===e)return Promise.reject(o.EstimateFeeError);{const e=f(t.data),r=u.estimateBtcFee(e,this.network());return Promise.resolve(r)}}catch(t){return Promise.reject(o.EstimateFeeError)}}static async oneKeyBuildBtcTx(t){try{return Promise.resolve(u.oneKeyBuildBtcTx(t))}catch(t){return Promise.reject(o.SignTxError)}}}function f(t){const e=(0,o.cloneObject)(t);return e.inputs.forEach((t=>{t.amount=(0,o.convert2Number)(t.amount)})),e.outputs.forEach((t=>{t.amount=(0,o.convert2Number)(t.amount)})),e.omni&&(e.omni.amount=(0,o.convert2Number)(e.omni.amount)),t.dustSize&&(e.dustSize=(0,o.convert2Number)(t.dustSize)),e}e.BtcWallet=c,e.TBtcWallet=class extends c{network(){return u.networks.testnet}},e.number2Hex=function(t,e){let r=t.toString(16);const n=e-r.length;if(n>0)for(let t=0;t<n;t++)r="0"+r;return r},e.convert2UtxoTx=f},7386:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.DogeWallet=e.dogeCoin=void 0;const o=s(r(5397)),a=r(7588),u=r(3362);e.dogeCoin={messagePrefix:"Dogecoin Signed Message:\n",bech32:"bc",bip32:{public:49990397,private:49988504},pubKeyHash:30,scriptHash:22,wif:158};class c extends u.BtcWallet{network(){return e.dogeCoin}async signTransaction(t){const r=t.data.type||0;if(1===r)try{return Promise.resolve(o.dogInscribe(e.dogeCoin,t.data))}catch(t){return Promise.reject(a.SignTxError)}else{if(2!==r)return super.signTransaction(t);try{return Promise.resolve(o.psbtSign(t.data.psbt,t.privateKey,this.network(),t.data.maximumFeeRate?t.data.maximumFeeRate:1e5))}catch(t){return Promise.reject(a.SignTxError)}}}}e.DogeWallet=c},6854:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LtcWallet=e.litecoin=void 0;const n=r(7588),i=r(3362);e.litecoin={messagePrefix:"Litecoin Signed Message:\n",bech32:"ltc",bip32:{public:27108450,private:27106558},pubKeyHash:48,scriptHash:50,wif:176};class s extends i.BtcWallet{network(){return e.litecoin}async getDerivedPath(t){return t.segwitType?t.segwitType==n.segwitType.SEGWIT_NESTED?`m/84'/2'/0'/0/${t.index}`:t.segwitType==n.segwitType.SEGWIT_NESTED_49?`m/49'/2'/0'/0/${t.index}`:t.segwitType==n.segwitType.SEGWIT_NATIVE?`m/84'/2'/0'/0/${t.index}`:Promise.reject(n.DerivePathError):`m/44'/2'/0'/0/${t.index}`}}e.LtcWallet=s},3748:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.RuneTestWallet=e.RuneWallet=void 0;const o=r(7588),a=r(3362),u=s(r(5397)),c=r(5397),f=r(9662),h=r(9693);class l extends a.BtcWallet{convert2RuneTx(t){const e=(0,o.cloneObject)(t);let r=e.inputs;const n=new Map;for(const t of r){let e=t.data;if(null!=e&&e instanceof Array)for(const t of e){let e=t.id,r=t.amount;if(null==e||null==r)continue;let i=n.get(e);null==i?n.set(e,r):n.set(e,i+r)}}let i=e.outputs;const s=new Map;for(const t of i){let e=t.data;if(null!=e){let t=e.id,r=e.amount;if(null==t||null==r)continue;let n=s.get(t);null==n?s.set(t,r):s.set(t,n+r)}}let a=!1;for(const t of n.keys()){let e=n.get(t),r=s.get(t);null!=e&&null!=r&&e>r&&(a=!0)}let u=0,c=[];if(a){let t={address:e.address,amount:546};c.push(t),u++}const f=[];for(const t of i){let e=t.data;if(null!=e){let t=e.id,r=e.amount;if(null==t||null==r)continue;const n={id:parseInt("0x"+t),amount:r,output:u};f.push(n)}t.data=null,c.push(t),u++}return{inputs:e.inputs,outputs:c,address:e.address,feePerB:e.feePerB,runeData:{edicts:f,etching:e.runeData.etching,burn:e.runeData.burn}}}async signTransaction(t){const e=this.network();let r=null;try{const n=t.privateKey;if(!t.data.runeData)return Promise.reject("missing runeData");const i=this.convert2RuneTx(t.data),s=this.getOpReturnOutput(e,i.runeData);return i.outputs.push(s),r=(0,c.signBtc)(i,n,e),Promise.resolve(r)}catch(t){return Promise.reject(t)}}getOpReturnOutput(t,e){let r=!1;c.networks.bitcoin===t&&(r=!0);const n=(0,f.buildRuneData)(r,e.edicts);return{address:"",amount:0,omniScript:h.base.toHex(n)}}async estimateFee(t){try{if(!t.data.runeData)return Promise.reject("missing runeData");const e=this.convert2RuneTx(t.data),r=this.getOpReturnOutput(this.network(),e.runeData);e.outputs.push(r);const n=u.estimateBtcFee(e,this.network());return Promise.resolve(n)}catch(t){return Promise.reject(t)}}}e.RuneWallet=l,e.RuneTestWallet=class extends l{network(){return u.networks.testnet}}},8203:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.UsdtTestWallet=e.UsdtWallet=void 0;const o=r(7588),a=r(3362),u=s(r(5397));class c extends a.BtcWallet{async signTransaction(t){let e=null;try{const r=t.privateKey,n=(0,a.convert2UtxoTx)(t.data);if(!n.omni)return Promise.reject(o.SignTxError);const i=(0,a.number2Hex)(n.omni.coinType||31,8),s={address:"",amount:0,omniScript:"6a146f6d6e6900000000"+i+(0,a.number2Hex)(n.omni.amount,16)};return n.outputs.push(s),e=u.signBtc(n,r,this.network()),Promise.resolve(e)}catch(t){return Promise.reject(o.SignTxError)}}async estimateFee(t){try{const e=(0,a.convert2UtxoTx)(t.data);if(!e.omni)return Promise.reject(o.EstimateFeeError);const r=(0,a.number2Hex)(e.omni.coinType||31,8),n={address:"",amount:0,omniScript:"6a146f6d6e6900000000"+r+(0,a.number2Hex)(e.omni.amount,16)};e.outputs.push(n);const i=u.estimateBtcFee(e,this.network());return Promise.resolve(i)}catch(t){return Promise.reject(o.EstimateFeeError)}}getHardWareRawTransaction(t){try{const e=t.data.type||0,r=(0,a.convert2UtxoTx)(t.data);if(!r.omni)return Promise.reject(o.SignTxError);const n=(0,a.number2Hex)(r.omni.coinType||31,8),i={address:"",amount:0,omniScript:"6a146f6d6e6900000000"+n+(0,a.number2Hex)(r.omni.amount,16)};let s;if(r.outputs.push(i),2===e){const t=u.signBtc(r,"",this.network(),void 0,!0,!0),e={address:r.address,amount:parseInt(t),bip32Derivation:r.bip32Derivation};r.outputs.push(e),s=u.buildPsbt(r,this.network())}else s=u.signBtc(r,"",this.network(),void 0,!0);return Promise.resolve(s)}catch(t){return Promise.reject(o.GetHardwareRawTransactionError)}}}e.UsdtWallet=c,e.UsdtTestWallet=class extends c{network(){return u.networks.testnet}}},3475:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(3362),e),i(r(3337),e),i(r(9061),e),i(r(7386),e),i(r(6854),e),i(r(8203),e),i(r(3748),e)},8412:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.encode=e.decode=e.encodeRaw=e.decodeRaw=void 0;const i=r(9693);function s(t,e){if(void 0!==e&&t[0]!==e)throw new Error("Invalid network version");if(33===t.length)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(34!==t.length)throw new Error("Invalid WIF length");if(1!==t[33])throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}function o(t,e,r){const i=n.alloc(r?34:33);return i.writeUInt8(t,0),e.copy(i,1),r&&(i[33]=1),i}e.decodeRaw=s,e.encodeRaw=o,e.decode=function(t,e){return s(i.base.fromBase58Check(t),e)},e.encode=function(t,e,r){return"number"==typeof t?i.base.toBase58Check(o(t,e,r)):i.base.toBase58Check(o(t.version,t.privateKey,t.compressed))}},1619:(t,e,r)=>{"use strict";var n=r(8764).Buffer;const i=r(6768),s=r(4047);var o=r(3550);const{isHexString:a,stripHexPrefix:u,padToEven:c}=r(233),{intToBuffer:f,addHexPrefix:h,bufferToHex:l}=r(1270);var d=function(){};function p(t){return t.startsWith("int[")?"int256"+t.slice(3):"int"===t?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):"uint"===t?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):"fixed"===t?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):"ufixed"===t?"ufixed128x128":t}function g(t){if(null==t)return n.allocUnsafe(0);if(n.isBuffer(t))return n.from(t);if(Array.isArray(t)||t instanceof Uint8Array)return n.from(t);if("string"==typeof t){if(!a(t))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${t}`);return n.from(c(u(t)),"hex")}if("number"==typeof t)return f(t);if("bigint"==typeof t){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${t}`);let e=t.toString(16);return e.length%2&&(e="0"+e),n.from(e,"hex")}if(t.toArray)return n.from(t.toArray());if(t.toBuffer)return n.from(t.toBuffer());throw new Error("invalid type")}function y(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function m(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function b(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?""===e[2]?"dynamic":parseInt(e[2],10):null}function v(t){var e=typeof t;if("string"===e)return s.isHexPrefixed(t)?new o(s.stripHexPrefix(t),16):new o(t,10);if("number"===e)return new o(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function w(t){var e=/^(\w+)\((.*)\)$/.exec(t);if(3!==e.length)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(e[2]);if(null!==r&&3===r.length)return{method:e[1],args:r[1].split(","),retargs:r[2].split(",")};var n=e[2].split(",");return 1===n.length&&""===n[0]&&(n=[]),{method:e[1],args:n}}function S(t,e){var r,s,a,u;if("address"===t)return S("uint160",v(e));if("bool"===t)return S("uint8",e?1:0);if("string"===t)return S("bytes",n.from(e,"utf8"));if(A(t)){if(void 0===e.length)throw new Error("Not an array?");if("dynamic"!==(r=b(t))&&0!==r&&e.length>r)throw new Error("Elements exceed array size: "+r);for(u in a=[],t=t.slice(0,t.lastIndexOf("[")),"string"==typeof e&&(e=JSON.parse(e)),e)a.push(S(t,e[u]));if("dynamic"===r){var c=S("uint256",e.length);a.unshift(c)}return n.concat(a)}if("bytes"===t)return e=n.from(e),a=n.concat([S("uint256",e.length),e]),e.length%32!=0&&(a=n.concat([a,i.zeros(32-e.length%32)])),a;if(t.startsWith("bytes")){if((r=y(t))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return i.setLengthRight(e,32)}if(t.startsWith("uint")){if((r=y(t))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((s=v(e)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+s.bitLength());if(s<0)throw new Error("Supplied uint is negative");return s.toArrayLike(n,"be",32)}if(t.startsWith("int")){if((r=y(t))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((s=v(e)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+s.bitLength());return s.toTwos(256).toArrayLike(n,"be",32)}if(t.startsWith("ufixed")){if(r=m(t),(s=v(e))<0)throw new Error("Supplied ufixed is negative");return S("uint256",s.mul(new o(2).pow(new o(r[1]))))}if(t.startsWith("fixed"))return r=m(t),S("int256",v(e).mul(new o(2).pow(new o(r[1]))));throw new Error("Unsupported or invalid type: "+t)}function E(t,e,r){var i,s,a,u;if("string"==typeof t&&(t=x(t)),"address"===t.name)return E(t.rawType,e,r).toArrayLike(n,"be",20).toString("hex");if("bool"===t.name)return E(t.rawType,e,r).toString()===new o(1).toString();if("string"===t.name){var c=E(t.rawType,e,r);return n.from(c,"utf8").toString()}if(t.isArray){for(a=[],i=t.size,"dynamic"===t.size&&(r=E("uint256",e,r).toNumber(),i=E("uint256",e,r).toNumber(),r+=32),u=0;u<i;u++){var f=E(t.subArray,e,r);a.push(f),r+=t.subArray.memoryUsage}return a}if("bytes"===t.name)return r=E("uint256",e,r).toNumber(),i=E("uint256",e,r).toNumber(),e.slice(r+32,r+32+i);if(t.name.startsWith("bytes"))return e.slice(r,r+t.size);if(t.name.startsWith("uint")){if((s=new o(e.slice(r,r+32),16,"be")).bitLength()>t.size)throw new Error("Decoded int exceeds width: "+t.size+" vs "+s.bitLength());return s}if(t.name.startsWith("int")){if((s=new o(e.slice(r,r+32),16,"be").fromTwos(256)).bitLength()>t.size)throw new Error("Decoded uint exceeds width: "+t.size+" vs "+s.bitLength());return s}if(t.name.startsWith("ufixed")){if(i=new o(2).pow(new o(t.size[1])),!(s=E("uint256",e,r)).mod(i).isZero())throw new Error("Decimals not supported yet");return s.div(i)}if(t.name.startsWith("fixed")){if(i=new o(2).pow(new o(t.size[1])),!(s=E("int256",e,r)).mod(i).isZero())throw new Error("Decimals not supported yet");return s.div(i)}throw new Error("Unsupported or invalid type: "+t.name)}function x(t){var e,r,n;if(A(t)){e=b(t);var i=t.slice(0,t.lastIndexOf("["));return i=x(i),{isArray:!0,name:t,size:e,memoryUsage:"dynamic"===e?32:i.memoryUsage*e,subArray:i}}switch(t){case"address":n="uint160";break;case"bool":n="uint8";break;case"string":n="bytes"}if(r={rawType:n,name:t,memoryUsage:32},t.startsWith("bytes")&&"bytes"!==t||t.startsWith("uint")||t.startsWith("int")?r.size=y(t):(t.startsWith("ufixed")||t.startsWith("fixed"))&&(r.size=m(t)),t.startsWith("bytes")&&"bytes"!==t&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((t.startsWith("uint")||t.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}function _(t){return"string"===t||"bytes"===t||"dynamic"===b(t)}function A(t){return t.lastIndexOf("]")===t.length-1}function P(t,e){return t.startsWith("address")||t.startsWith("bytes")?"0x"+e.toString("hex"):e.toString()}d.eventID=function(t,e){var r=t+"("+e.map(p).join(",")+")";return s.keccak256(n.from(r))},d.methodID=function(t,e){return d.eventID(t,e).slice(0,4)},d.rawEncode=function(t,e){var r=[],i=[],s=0;t.forEach((function(t){if(A(t)){var e=b(t);s+="dynamic"!==e?32*e:32}else s+=32}));for(var o=0;o<t.length;o++){var a=p(t[o]),u=S(a,e[o]);_(a)?(r.push(S("uint256",s)),i.push(u),s+=u.length):r.push(u)}return n.concat(r.concat(i))},d.rawDecode=function(t,e){var r=[];e=n.from(e);for(var i=0,s=0;s<t.length;s++){var o=x(p(t[s])),a=E(o,e,i);i+=o.memoryUsage,r.push(a)}return r},d.simpleEncode=function(t){var e=Array.prototype.slice.call(arguments).slice(1),r=w(t);if(e.length!==r.args.length)throw new Error("Argument count mismatch");return n.concat([d.methodID(r.method,r.args),d.rawEncode(r.args,e)])},d.simpleDecode=function(t,e){var r=w(t);if(!r.retargs)throw new Error("No return values in method");return d.rawDecode(r.retargs,e)},d.stringify=function(t,e){var r=[];for(var n in t){var i=t[n],s=e[n];s=/^[^\[]+\[.*\]$/.test(i)?s.map((function(t){return P(i,t)})).join(", "):P(i,s),r.push(s)}return r},d.solidityHexValue=function(t,e,r){var s,o;if(A(t)){var a=t.replace(/\[.*?\]/,"");if(!A(a)){var u=b(t);if("dynamic"!==u&&0!==u&&e.length>u)throw new Error("Elements exceed array size: "+u)}var c=e.map((function(t){return d.solidityHexValue(a,t,256)}));return n.concat(c)}if("bytes"===t)return e;if("string"===t)return n.from(e,"utf8");if("bool"===t){r=r||8;var f=Array(r/4).join("0");return n.from(e?f+"1":f+"0","hex")}if("address"===t){var p=20;return r&&(p=r/8),i.setLengthLeft(g(e),p)}if(t.startsWith("bytes")){if((s=y(t))<1||s>32)throw new Error("Invalid bytes<N> width: "+s);return"number"==typeof e&&(e=function(t){if(t){if("number"==typeof t){if(t<0)return"0x";const e=g(t);t=l(e)}if("string"!=typeof t){let e="eth-sig-util.normalize() requires hex string or integer input.";throw e+=` received ${typeof t}: ${t}`,new Error(e)}return h(t.toLowerCase())}}(e)),i.setLengthRight(g(e),s)}if(t.startsWith("uint")){if((s=y(t))%8||s<8||s>256)throw new Error("Invalid uint<N> width: "+s);if((o=v(e)).bitLength()>s)throw new Error("Supplied uint exceeds width: "+s+" vs "+o.bitLength());return r=r||s,o.toArrayLike(n,"be",r/8)}if(t.startsWith("int")){if((s=y(t))%8||s<8||s>256)throw new Error("Invalid int<N> width: "+s);if((o=v(e)).bitLength()>s)throw new Error("Supplied int exceeds width: "+s+" vs "+o.bitLength());return r=r||s,o.toTwos(s).toArrayLike(n,"be",r/8)}throw new Error("Unsupported or invalid type: "+t)},d.solidityPack=function(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r=[],i=0;i<t.length;i++){var s=p(t[i]),o=e[i];r.push(d.solidityHexValue(s,o,null))}return n.concat(r)},d.soliditySHA3=function(t,e){return s.keccak256(d.solidityPack(t,e))},d.soliditySHA256=function(t,e){return s.sha256(d.solidityPack(t,e))},d.solidityRIPEMD160=function(t,e){return s.ripemd160(d.solidityPack(t,e),!0)},d.fromSerpent=function(t){for(var e,r=[],n=0;n<t.length;n++){var i=t[n];if("s"===i)r.push("bytes");else if("b"===i){for(var s="bytes",o=n+1;o<t.length&&(e=t[o])>="0"&&e<="9";)s+=t[o]-"0",o++;n=o-1,r.push(s)}else if("i"===i)r.push("int256");else{if("a"!==i)throw new Error("Unsupported or invalid type: "+i);r.push("int256[]")}}return r},d.toSerpent=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if("bytes"===n)e.push("s");else if(n.startsWith("bytes"))e.push("b"+y(n));else if("int256"===n)e.push("i");else{if("int256[]"!==n)throw new Error("Unsupported or invalid type: "+n);e.push("a")}}return e.join("")},t.exports=d},1270:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.intToUnpaddedBuffer=e.bigIntToUnpaddedBuffer=e.bigIntToHex=e.bufArrToArr=e.arrToBufArr=e.validateNoLeadingZeroes=e.baToJSON=e.toUtf8=e.short=e.addHexPrefix=e.toUnsigned=e.fromSigned=e.bufferToInt=e.bigIntToBuffer=e.bufferToBigInt=e.bufferToHex=e.toBuffer=e.unpadHexString=e.unpadArray=e.unpadBuffer=e.setLengthRight=e.setLengthLeft=e.zeros=e.intToBuffer=e.intToHex=void 0;const i=r(3531),s=r(233);e.intToHex=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`},e.intToBuffer=function(t){const r=(0,e.intToHex)(t);return n.from((0,s.padToEven)(r.slice(2)),"hex")},e.zeros=function(t){return n.allocUnsafe(t).fill(0)};const o=function(t,r,n){const i=(0,e.zeros)(r);return n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)};e.setLengthLeft=function(t,e){return(0,i.assertIsBuffer)(t),o(t,e,!1)},e.setLengthRight=function(t,e){return(0,i.assertIsBuffer)(t),o(t,e,!0)};const a=function(t){let e=t[0];for(;t.length>0&&"0"===e.toString();)e=(t=t.slice(1))[0];return t};function u(t){const r=(0,e.bufferToHex)(t);return"0x"===r?BigInt(0):BigInt(r)}function c(t){return(0,e.toBuffer)("0x"+t.toString(16))}e.unpadBuffer=function(t){return(0,i.assertIsBuffer)(t),a(t)},e.unpadArray=function(t){return(0,i.assertIsArray)(t),a(t)},e.unpadHexString=function(t){return(0,i.assertIsHexString)(t),t=(0,s.stripHexPrefix)(t),"0x"+a(t)},e.toBuffer=function(t){if(null==t)return n.allocUnsafe(0);if(n.isBuffer(t))return n.from(t);if(Array.isArray(t)||t instanceof Uint8Array)return n.from(t);if("string"==typeof t){if(!(0,s.isHexString)(t))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${t}`);return n.from((0,s.padToEven)((0,s.stripHexPrefix)(t)),"hex")}if("number"==typeof t)return(0,e.intToBuffer)(t);if("bigint"==typeof t){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${t}`);let e=t.toString(16);return e.length%2&&(e="0"+e),n.from(e,"hex")}if(t.toArray)return n.from(t.toArray());if(t.toBuffer)return n.from(t.toBuffer());throw new Error("invalid type")},e.bufferToHex=function(t){return"0x"+(t=(0,e.toBuffer)(t)).toString("hex")},e.bufferToBigInt=u,e.bigIntToBuffer=c,e.bufferToInt=function(t){const e=Number(u(t));if(!Number.isSafeInteger(e))throw new Error("Number exceeds 53 bits");return e},e.fromSigned=function(t){return BigInt.asIntN(256,u(t))},e.toUnsigned=function(t){return c(BigInt.asUintN(256,t))},e.addHexPrefix=function(t){return"string"!=typeof t||(0,s.isHexPrefixed)(t)?t:"0x"+t},e.short=function(t,e=50){const r=n.isBuffer(t)?t.toString("hex"):t;return r.length<=e?r:r.slice(0,e)+""},e.toUtf8=function(t){if((t=(0,s.stripHexPrefix)(t)).length%2!=0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return n.from(t.replace(/^(00)+|(00)+$/g,""),"hex").toString("utf8")},e.baToJSON=function(t){if(n.isBuffer(t))return`0x${t.toString("hex")}`;if(t instanceof Array){const r=[];for(let n=0;n<t.length;n++)r.push((0,e.baToJSON)(t[n]));return r}},e.validateNoLeadingZeroes=function(t){for(const[e,r]of Object.entries(t))if(void 0!==r&&r.length>0&&0===r[0])throw new Error(`${e} cannot have leading zeroes, received: ${r.toString("hex")}`)},e.arrToBufArr=function t(e){return Array.isArray(e)?e.map((e=>t(e))):n.from(e)},e.bufArrToArr=function t(e){return Array.isArray(e)?e.map((e=>t(e))):Uint8Array.from(e??[])},e.bigIntToHex=t=>"0x"+t.toString(16),e.bigIntToUnpaddedBuffer=function(t){return(0,e.unpadBuffer)(c(t))},e.intToUnpaddedBuffer=function(t){return(0,e.unpadBuffer)((0,e.intToBuffer)(t))}},3531:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.assertIsString=e.assertIsArray=e.assertIsBuffer=e.assertIsHexString=void 0;const i=r(233);e.assertIsHexString=function(t){if(!(0,i.isHexString)(t))throw new Error(`This method only supports 0x-prefixed hex strings but input was: ${t}`)},e.assertIsBuffer=function(t){if(!n.isBuffer(t))throw new Error(`This method only supports Buffer but input was: ${t}`)},e.assertIsArray=function(t){if(!Array.isArray(t))throw new Error(`This method only supports number arrays but input was: ${t}`)},e.assertIsString=function(t){if("string"!=typeof t)throw new Error(`This method only supports strings but input was: ${t}`)}},4134:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SoliditySHA3=e.RawEncode=e.ABI=void 0;const n=r(1619);e.ABI=n,e.RawEncode=function(t,e){return n.rawEncode(t,e)},e.SoliditySHA3=function(t,e){return n.soliditySHA3(t,e)}},233:(t,e,r)=>{"use strict";var n=r(8764).Buffer;function i(t){if("string"!=typeof t)throw new Error("[isHexPrefixed] input must be type 'string', received type "+typeof t);return"0"===t[0]&&"x"===t[1]}function s(t){let e=t;if("string"!=typeof e)throw new Error("[padToEven] value must be type 'string', received "+typeof e);return e.length%2&&(e=`0${e}`),e}Object.defineProperty(e,"__esModule",{value:!0}),e.isHexString=e.getKeys=e.fromAscii=e.fromUtf8=e.toAscii=e.arrayContainsArray=e.getBinarySize=e.padToEven=e.stripHexPrefix=e.isHexPrefixed=void 0,e.isHexPrefixed=i,e.stripHexPrefix=t=>{if("string"!=typeof t)throw new Error("[stripHexPrefix] input must be type 'string', received "+typeof t);return i(t)?t.slice(2):t},e.padToEven=s,e.getBinarySize=function(t){if("string"!=typeof t)throw new Error("[getBinarySize] method requires input type 'string', received "+typeof t);return n.byteLength(t,"utf8")},e.arrayContainsArray=function(t,e,r){if(!0!==Array.isArray(t))throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof t}'`);if(!0!==Array.isArray(e))throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof e}'`);return e[!0===r?"some":"every"]((e=>t.indexOf(e)>=0))},e.toAscii=function(t){let e="",r=0;const n=t.length;for("0x"===t.substring(0,2)&&(r=2);r<n;r+=2){const n=parseInt(t.substr(r,2),16);e+=String.fromCharCode(n)}return e},e.fromUtf8=function(t){return`0x${s(n.from(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}`},e.fromAscii=function(t){let e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r).toString(16);e+=n.length<2?`0${n}`:n}return`0x${e}`},e.getKeys=function(t,e,r){if(!Array.isArray(t))throw new Error("[getKeys] method expects input 'params' to be an array, got "+typeof t);if("string"!=typeof e)throw new Error("[getKeys] method expects input 'key' to be type 'string', got "+typeof t);const n=[];for(let i=0;i<t.length;i++){let s=t[i][e];if(!0!==r||s){if("string"!=typeof s)throw new Error("invalid abi - expected type 'string', received "+typeof s)}else s="";n.push(s)}return n},e.isHexString=function(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||void 0!==e&&e>0&&t.length!==2+2*e)}},9464:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.stripHexPrefix=e.isHexPrefixed=e.getLength=e.decode=e.encode=void 0;const s=i(r(3550));function o(t,e){if("0"===t[0]&&"0"===t[1])throw new Error("invalid RLP: extra zeros");return parseInt(t,e)}function a(t,e){if(t<56)return n.from([t+e]);{const r=h(t),i=h(e+55+r.length/2);return n.from(i+r,"hex")}}function u(t){let e,r,i,s,a;const c=[],f=t[0];if(f<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(f<=183){if(e=f-127,i=128===f?n.from([]):t.slice(1,e),2===e&&i[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:i,remainder:t.slice(e)}}if(f<=191){if(r=f-182,t.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(e=o(t.slice(1,r).toString("hex"),16),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(i=t.slice(r,e+r),i.length<e)throw new Error("invalid RLP: not enough bytes for string");return{data:i,remainder:t.slice(e+r)}}if(f<=247){for(e=f-191,s=t.slice(1,e);s.length;)a=u(s),c.push(a.data),s=a.remainder;return{data:c,remainder:t.slice(e)}}{r=f-246,e=o(t.slice(1,r).toString("hex"),16);const n=r+e;if(n>t.length)throw new Error("invalid rlp: total length is larger than the data");if(s=t.slice(r,n),0===s.length)throw new Error("invalid rlp, List has a invalid length");for(;s.length;)a=u(s),c.push(a.data),s=a.remainder;return{data:c,remainder:t.slice(n)}}}function c(t){return"0x"===t.slice(0,2)}function f(t){return c(t)?t.slice(2):t}function h(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");const e=t.toString(16);return e.length%2?`0${e}`:e}function l(t){if(!n.isBuffer(t)){if("string"==typeof t)return c(t)?n.from((e=f(t)).length%2?`0${e}`:e,"hex"):n.from(t);if("number"==typeof t||"bigint"==typeof t)return t?function(t){const e=h(t);return n.from(e,"hex")}(t):n.from([]);if(null==t)return n.from([]);if(t instanceof Uint8Array)return n.from(t);if(s.default.isBN(t))return n.from(t.toArray());throw new Error("invalid type")}var e;return t}e.encode=function t(e){if(Array.isArray(e)){const r=[];for(let n=0;n<e.length;n++)r.push(t(e[n]));const i=n.concat(r);return n.concat([a(i.length,192),i])}{const t=l(e);return 1===t.length&&t[0]<128?t:n.concat([a(t.length,128),t])}},e.decode=function(t,e=!1){if(!t||0===t.length)return n.from([]);const r=u(l(t));if(e)return r;if(0!==r.remainder.length)throw new Error("invalid remainder");return r.data},e.getLength=function(t){if(!t||0===t.length)return n.from([]);const e=l(t),r=e[0];if(r<=127)return e.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;{const t=r-246;return t+o(e.slice(1,t).toString("hex"),16)}},e.isHexPrefixed=c,e.stripHexPrefix=f},6768:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.unpadBuffer=e.stripZeros=e.setLengthRight=e.setLengthLeft=e.zeros=e.assertIsBuffer=void 0,e.assertIsBuffer=function(t){if(!n.isBuffer(t))throw new Error(`This method only supports Buffer but input was: ${t}`)},e.zeros=function(t){return n.allocUnsafe(t).fill(0)};const i=function(t,r,n){const i=(0,e.zeros)(r);return n?t.length<r?(t.copy(i),i):t.slice(0,r):t.length<r?(t.copy(i,r-t.length),i):t.slice(-r)};e.setLengthLeft=function(t,e){return n.isBuffer(t)||(t=n.from(t)),i(t,e,!1)},e.setLengthRight=function(t,e){return n.isBuffer(t)||(t=n.from(t)),i(t,e,!0)},e.stripZeros=function(t){let e=t[0];for(;t.length>0&&"0"===e.toString();)e=(t=t.slice(1))[0];return t},e.unpadBuffer=function(t){return n.isBuffer(t)||(t=n.from(t)),(0,e.stripZeros)(t)}},2402:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.decrypt=e.encrypt=void 0;const o=s(r(1354));e.encrypt=function(t,e){const r=o.enc.Utf8.parse(e);return o.AES.encrypt(t,r,{iv:r,mode:o.mode.CBC,padding:o.pad.Pkcs7}).toString()},e.decrypt=function(t,e){const r=o.enc.Utf8.parse(e);return o.AES.decrypt(t,r,{iv:r,mode:o.mode.CBC,padding:o.pad.Pkcs7}).toString(o.enc.Utf8)}},7657:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.base58=e.fromBase58=e.toBase58=void 0;const i=r(6090);Object.defineProperty(e,"base58",{enumerable:!0,get:function(){return i.base58}}),e.toBase58=function(t){const e=n.from(t);return i.base58.encode(Uint8Array.from(e))},e.fromBase58=function(t){return i.base58.decode(t)}},1682:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.fromBase58Check=e.toBase58Check=void 0;const i=r(6121),s=(r(3482),r(6090));e.toBase58Check=function(t){return(0,s.base58check)(i.sha256).encode(n.from(t))},e.fromBase58Check=function(t){const e=(0,s.base58check)(i.sha256);return n.from(e.decode(t))}},1592:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.fromBase64=e.toBase64=void 0;const i=r(6090);e.toBase64=function(t){const e=n.from(t);return i.base64.encode(Uint8Array.from(e))},e.fromBase64=function(t){return i.base64.decode(t)}},6924:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.fromBech32=e.toBech32=void 0;const i=r(6090);e.toBech32=function(t,e){const r=n.from(e),s=i.bech32.toWords(Uint8Array.from(r));return i.bech32.encode(t,s)},e.fromBech32=function(t,e){const r=i.bech32.decode(t,e),s=i.bech32.fromWords(r.words);return[r.prefix,n.from(s)]}},5847:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.string2BigNumber=e.bigNumber2String=e.fromBigIntHex=e.toBigIntHex=void 0;const n=r(9693),i=r(1065);e.toBigIntHex=t=>{let e=t.integerValue().toString(16);return e="0x"+e,e},e.fromBigIntHex=t=>((0,i.check)(t&&t.startsWith("0x"),`Invalid hex string. value: ${t}`),new n.BigNumber(t).integerValue()),e.bigNumber2String=(t,e)=>t.integerValue().toString(e),e.string2BigNumber=(t,e)=>new n.BigNumber(t,e)},6121:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.sha3_512=e.sha3_256=e.ripemd160=e.sha512=e.sha256=e.blake2=e.keccak256=e.keccak=e.hash160=e.doubleSha256=void 0;const i=r(3061);Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return i.sha256}});const s=r(6262);Object.defineProperty(e,"sha512",{enumerable:!0,get:function(){return s.sha512}});const o=r(830);Object.defineProperty(e,"ripemd160",{enumerable:!0,get:function(){return o.ripemd160}});const a=r(5426);Object.defineProperty(e,"sha3_256",{enumerable:!0,get:function(){return a.sha3_256}}),Object.defineProperty(e,"sha3_512",{enumerable:!0,get:function(){return a.sha3_512}});const u=r(3803);e.doubleSha256=function(t){const e=(0,i.sha256)(t);return(0,i.sha256)(e)},e.hash160=function(t){const e=(0,i.sha256)(t);return(0,o.ripemd160)(e)},e.keccak=function(t,e=256){const r=n.from(t);switch(e){case 224:return n.from((0,a.keccak_224)(r));case 256:return n.from((0,a.keccak_256)(r));case 384:return n.from((0,a.keccak_384)(r));case 512:return n.from((0,a.keccak_512)(r));default:throw new Error(`Invald algorithm: keccak${e}`)}},e.keccak256=function(t){return(0,e.keccak)(t)},e.blake2=function(t,e,r){const n=Math.ceil(e/8);return(0,u.blake2b)(t,{dkLen:n,key:r})}},607:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isHexString=void 0,e.isHexString=function(t,e){return!(!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}},7665:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.isHexPrefixed=e.stripHexPrefix=e.fromHex=e.toHex=void 0,e.toHex=function(t,e=!1){const r=n.from(t);return e?"0x"+r.toString("hex"):r.toString("hex")},e.fromHex=function(t){return t.startsWith("0x")&&(t=t.substring(2)),n.from(t,"hex")},e.stripHexPrefix=function(t){return t.startsWith("0x")?t.substring(2):t},e.isHexPrefixed=function(t){return t.startsWith("0x")}},3331:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.hmacSHA512=e.hmacSHA256=void 0;const i=r(9569),s=r(6121);e.hmacSHA256=function(t,e){return n.from((0,i.hmac)(s.sha256,t,e))},e.hmacSHA512=function(t,e){return n.from((0,i.hmac)(s.sha512,t,e))}},4047:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.randomBytes=e.concatBytes=e.reverseBuffer=e.rsa=e.aes=e.md5=e.rlp=void 0,s(r(7657),e),s(r(1682),e),s(r(6924),e),s(r(7665),e),s(r(1592),e),s(r(6121),e),s(r(3331),e),s(r(7930),e),s(r(5847),e),s(r(1065),e),e.rlp=o(r(9464)),s(r(607),e),e.md5=o(r(2500)),e.aes=o(r(2402)),e.rsa=o(r(4147)),s(r(6090),e),s(r(3061),e),s(r(9569),e),s(r(830),e),s(r(6262),e),s(r(5426),e),s(r(3803),e),s(r(8137),e),s(r(9023),e),s(r(9514),e),s(r(8252),e);const a=o(r(8089)),u=r(1798);e.reverseBuffer=function(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t},e.concatBytes=function(t,e){return a.concatBytes(Uint8Array.from(t),Uint8Array.from(e))},e.randomBytes=function(t){return u(t)}},2500:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encode=void 0,e.encode=function(t){var e="0123456789abcdef";function r(t){var r,n="";for(r=0;r<=3;r++)n+=e.charAt(t>>8*r+4&15)+e.charAt(t>>8*r&15);return n}function n(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function i(t,e,r,i,s,o){return n(function(t,e){return t<<e|t>>>32-e}(n(n(e,t),n(i,o)),s),r)}function s(t,e,r,n,s,o,a){return i(e&r|~e&n,t,e,s,o,a)}function o(t,e,r,n,s,o,a){return i(e&n|r&~n,t,e,s,o,a)}function a(t,e,r,n,s,o,a){return i(e^r^n,t,e,s,o,a)}function u(t,e,r,n,s,o,a){return i(r^(e|~n),t,e,s,o,a)}var c,f,h,l,d,p=function(t){var e,r=1+(t.length+8>>6),n=new Array(16*r);for(e=0;e<16*r;e++)n[e]=0;for(e=0;e<t.length;e++)n[e>>2]|=t.charCodeAt(e)<<e%4*8;return n[e>>2]|=128<<e%4*8,n[16*r-2]=8*t.length,n}(""+t),g=1732584193,y=-271733879,m=-1732584194,b=271733878;for(c=0;c<p.length;c+=16)f=g,h=y,l=m,d=b,g=s(g,y,m,b,p[c+0],7,-680876936),b=s(b,g,y,m,p[c+1],12,-389564586),m=s(m,b,g,y,p[c+2],17,606105819),y=s(y,m,b,g,p[c+3],22,-1044525330),g=s(g,y,m,b,p[c+4],7,-176418897),b=s(b,g,y,m,p[c+5],12,1200080426),m=s(m,b,g,y,p[c+6],17,-1473231341),y=s(y,m,b,g,p[c+7],22,-45705983),g=s(g,y,m,b,p[c+8],7,1770035416),b=s(b,g,y,m,p[c+9],12,-1958414417),m=s(m,b,g,y,p[c+10],17,-42063),y=s(y,m,b,g,p[c+11],22,-1990404162),g=s(g,y,m,b,p[c+12],7,1804603682),b=s(b,g,y,m,p[c+13],12,-40341101),m=s(m,b,g,y,p[c+14],17,-1502002290),g=o(g,y=s(y,m,b,g,p[c+15],22,1236535329),m,b,p[c+1],5,-165796510),b=o(b,g,y,m,p[c+6],9,-1069501632),m=o(m,b,g,y,p[c+11],14,643717713),y=o(y,m,b,g,p[c+0],20,-373897302),g=o(g,y,m,b,p[c+5],5,-701558691),b=o(b,g,y,m,p[c+10],9,38016083),m=o(m,b,g,y,p[c+15],14,-660478335),y=o(y,m,b,g,p[c+4],20,-405537848),g=o(g,y,m,b,p[c+9],5,568446438),b=o(b,g,y,m,p[c+14],9,-1019803690),m=o(m,b,g,y,p[c+3],14,-187363961),y=o(y,m,b,g,p[c+8],20,1163531501),g=o(g,y,m,b,p[c+13],5,-1444681467),b=o(b,g,y,m,p[c+2],9,-51403784),m=o(m,b,g,y,p[c+7],14,1735328473),g=a(g,y=o(y,m,b,g,p[c+12],20,-1926607734),m,b,p[c+5],4,-378558),b=a(b,g,y,m,p[c+8],11,-2022574463),m=a(m,b,g,y,p[c+11],16,1839030562),y=a(y,m,b,g,p[c+14],23,-35309556),g=a(g,y,m,b,p[c+1],4,-1530992060),b=a(b,g,y,m,p[c+4],11,1272893353),m=a(m,b,g,y,p[c+7],16,-155497632),y=a(y,m,b,g,p[c+10],23,-1094730640),g=a(g,y,m,b,p[c+13],4,681279174),b=a(b,g,y,m,p[c+0],11,-358537222),m=a(m,b,g,y,p[c+3],16,-722521979),y=a(y,m,b,g,p[c+6],23,76029189),g=a(g,y,m,b,p[c+9],4,-640364487),b=a(b,g,y,m,p[c+12],11,-421815835),m=a(m,b,g,y,p[c+15],16,530742520),g=u(g,y=a(y,m,b,g,p[c+2],23,-995338651),m,b,p[c+0],6,-198630844),b=u(b,g,y,m,p[c+7],10,1126891415),m=u(m,b,g,y,p[c+14],15,-1416354905),y=u(y,m,b,g,p[c+5],21,-57434055),g=u(g,y,m,b,p[c+12],6,1700485571),b=u(b,g,y,m,p[c+3],10,-1894986606),m=u(m,b,g,y,p[c+10],15,-1051523),y=u(y,m,b,g,p[c+1],21,-2054922799),g=u(g,y,m,b,p[c+8],6,1873313359),b=u(b,g,y,m,p[c+15],10,-30611744),m=u(m,b,g,y,p[c+6],15,-1560198380),y=u(y,m,b,g,p[c+13],21,1309151649),g=u(g,y,m,b,p[c+4],6,-145523070),b=u(b,g,y,m,p[c+11],10,-1120210379),m=u(m,b,g,y,p[c+2],15,718787259),y=u(y,m,b,g,p[c+9],21,-343485551),g=n(g,f),y=n(y,h),m=n(m,l),b=n(b,d);return r(g)+r(y)+r(m)+r(b)}},1065:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkIsUndefined=e.checkIsDefined=e.check=void 0;const r=(t,e)=>{if(!t)throw(e=e||"Invalid statement")instanceof Error?e:new Error(e)};e.check=r,e.checkIsDefined=(t,e)=>(r(void 0!==t,e||"Expect defined but actually undefined"),t),e.checkIsUndefined=(t,e)=>{r(void 0===t,e||`Expect undefined but actually ${t}`)}},4147:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.wrapPEM=e.unwrapPEM=e.covertPublicKeyFromPkcs8ToPkcs1=e.covertPublicKeyFromPkcs8ToPkix=e.genKeyPair=e.decodeAny=e.encodeAny=e.decode=e.encode=void 0;const a=o(r(1166));var u=a.BigInteger;const c=r(7665),f=r(1592);function h(t,e){let r=a.KJUR.crypto.Cipher.encrypt(t,e,"RSA");return(0,c.fromHex)(r)}function l(t,e){return a.KJUR.crypto.Cipher.decrypt(t,e,"RSA")}function d(t){let e=a.KEYUTIL.getKey(g(t,!0));const r=new a.KJUR.asn1.DERSequence({array:[new a.KJUR.asn1.DERInteger({bigint:e.n}),new a.KJUR.asn1.DERInteger({int:e.e})]});return a.hextob64(r.getEncodedHex())}function p(t,e){const r=e?"PUBLIC KEY":"RSA PRIVATE KEY";return a.hextob64(a.pemtohex(t,r))}function g(t,e){const r=e?"PUBLIC KEY":"RSA PRIVATE KEY";return a.hextopem(a.b64tohex(t),r)}e.encode=h,e.decode=l,e.encodeAny=function(t,e){const r=function(t){const e=a.b64tohex(t);if(!a.ASN1HEX.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");let r=a.ASN1HEX.getChildIdx(e,0);const n=new a.RSAKey,i=a.ASN1HEX.getV(e,r[0]);n.n=new u(i,16);const s=a.ASN1HEX.getV(e,r[1]);return n.e=parseInt(s,16),n.isPublic=!0,n.isPrivate=!1,n}(e),i=Math.floor((r.n.bitLength()+7)/8),s=t.length;let o=0;const f=i-11,l=[];for(;;){if(o+f>=s){const e=h(t.slice(o),r);l.push(e);break}const e=h(t.slice(o,o+f),r);l.push(e),o+=f}return a.hextob64((0,c.toHex)(n.concat(l)))},e.decodeAny=function(t,e){const r=a.RSAKey.getHexValueArrayOfChildrenFromHex(a.b64tohex(e)),n=new a.RSAKey;n.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8]);const i=Math.floor((n.n.bitLength()+7)/8),s=(0,f.fromBase64)(t),o=s.length;let u=0;const h=[];for(;;){if(u+i>=o){const t=l((0,c.toHex)(s.slice(u)),n);h.push(t);break}const t=l((0,c.toHex)(s.slice(u,u+i)),n);h.push(t),u+=i}return h.join("")},e.genKeyPair=function(t){let e=a.KEYUTIL.generateKeypair("RSA",t),r=a.KEYUTIL.getPEM(e.prvKeyObj,"PKCS1PRV");const n=d(p(a.KEYUTIL.getPEM(e.pubKeyObj),!0));return{privateKey:p(r,!1),publicKey:n}},e.covertPublicKeyFromPkcs8ToPkix=function(t){let e=a.KEYUTIL.getKey(g(t,!0));const r=new a.KJUR.asn1.DERSequence({array:[new a.KJUR.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new a.KJUR.asn1.DERNull]}),n=new a.KJUR.asn1.DERSequence({array:[new a.KJUR.asn1.DERInteger({bigint:e.n}),new a.KJUR.asn1.DERInteger({int:e.e})]}),i=new a.KJUR.asn1.DERBitString({hex:"00"+n.getEncodedHex()}),s=new a.KJUR.asn1.DERSequence({array:[r,i]});return a.hextob64(s.getEncodedHex())},e.covertPublicKeyFromPkcs8ToPkcs1=d,e.unwrapPEM=p,e.wrapPEM=g},7930:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromUtf8=e.toUtf8=void 0,e.toUtf8=function(t){return(new TextEncoder).encode(t)},e.fromUtf8=function(t){return new TextDecoder("utf-8",{fatal:!0}).decode(t)}},2582:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0});const i=new(r(7022).ec)("secp256k1"),s=i.curve,o=r(3550);function a(t){const e=t[0];switch(e){case 2:case 3:return 33!==t.length?null:function(t,e){let r=new o(e);if(r.cmp(s.p)>=0)return null;r=r.toRed(s.red);let n=r.redSqr().redIMul(r).redIAdd(s.b).redSqrt();return 3===t!==n.isOdd()&&(n=n.redNeg()),i.keyPair({pub:{x:r,y:n}})}(e,t.subarray(1,33));case 4:case 6:case 7:return 65!==t.length?null:function(t,e,r){let n=new o(e),a=new o(r);if(n.cmp(s.p)>=0||a.cmp(s.p)>=0)return null;if(n=n.toRed(s.red),a=a.toRed(s.red),(6===t||7===t)&&a.isOdd()!==(7===t))return null;const u=n.redSqr().redIMul(n);return a.redSqr().redISub(u.redIAdd(s.b)).isZero()?i.keyPair({pub:{x:n,y:a}}):null}(e,t.subarray(1,33),t.subarray(33,65));default:return null}}t.exports={contextRandomize:()=>0,privateKeyVerify(t){const e=new o(t);return e.cmp(s.n)<0&&!e.isZero()},privateKeyNegate(t){const e=new o(t);return n.from(s.n.sub(e).umod(s.n).toArray("be",32))},privateKeyTweakAdd(t,e){const r=new o(e);return r.cmp(s.n)>=0?null:(r.iadd(new o(t)),r.cmp(s.n)>=0&&r.isub(s.n),r.isZero()?null:n.from(r.toArray("be",32)))},privateKeyTweakMul(t,e){let r=new o(e);return r.cmp(s.n)>=0||r.isZero()?1:(r.imul(new o(t)),r.cmp(s.n)>=0&&(r=r.umod(s.n)),n.from(r.toArray("be",32)))},publicKeyVerify(t){const e=a(t);return null==e?null:e.validate().result},publicKeyCreate(t,e){const r=new o(t);if(r.cmp(s.n)>=0||r.isZero())return null;const a=i.keyFromPrivate(t,null).getPublic();return n.from(a.encode(null,e))},publicKeyConvert(t,e){const r=a(t).getPublic();return n.from(r.encode(null,e))},publicKeyNegate(t,e){const r=a(t);if(null===r)return 1;const i=r.getPublic();return i.y=i.y.redNeg(),n.from(i.encode(null,e))},publicKeyCombine(t,e){const r=new Array(t.length);for(let e=0;e<t.length;++e)if(r[e]=a(t[e]),null===r[e])return null;let i=r[0].getPublic();for(let t=1;t<r.length;++t)i=i.add(r[t].pub);return i.isInfinity()?null:n.from(i.encode(null,e))},publicKeyTweakAdd(t,e,r){const i=a(t);if(null===i)return null;if(new o(e).cmp(s.n)>=0)return null;const u=i.getPublic().add(s.g.mul(e));return u.isInfinity()?null:n.from(u.encode(null,r))},publicKeyTweakMul(t,e,r){const i=a(t);if(null===i)return null;const u=new o(e);if(u.cmp(s.n)>=0||u.isZero())return null;const c=i.getPublic().mul(e);return n.from(c.encode(null,r))},signatureNormalize(t){const e=new o(t.subarray(0,32)),r=new o(t.subarray(32,64));return e.cmp(s.n)>=0||r.cmp(s.n)>=0?null:(1===r.cmp(i.nh)&&t.set(s.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){const r=e.subarray(0,32),n=e.subarray(32,64);if(new o(r).cmp(s.n)>=0)return 1;if(new o(n).cmp(s.n)>=0)return 1;const{output:i}=t;let a=i.subarray(4,37);a[0]=0,a.set(r,1);let u=33,c=0;for(;u>1&&0===a[c]&&!(128&a[c+1]);--u,++c);if(a=a.subarray(c),128&a[0])return 1;if(u>1&&0===a[0]&&!(128&a[1]))return 1;let f=i.subarray(39,72);f[0]=0,f.set(n,1);let h=33,l=0;for(;h>1&&0===f[l]&&!(128&f[l+1]);--h,++l);return f=f.subarray(l),128&f[0]||h>1&&0===f[0]&&!(128&f[1])?1:(t.outputlen=6+u+h,i[0]=48,i[1]=t.outputlen-2,i[2]=2,i[3]=a.length,i.set(a,4),i[4+u]=2,i[5+u]=f.length,i.set(f,6+u),0)},signatureImport(t,e){if(e.length<8)return 1;if(e.length>72)return 1;if(48!==e[0])return 1;if(e[1]!==e.length-2)return 1;if(2!==e[2])return 1;const r=e[3];if(0===r)return 1;if(5+r>=e.length)return 1;if(2!==e[4+r])return 1;const n=e[5+r];if(0===n)return 1;if(6+r+n!==e.length)return 1;if(128&e[4])return 1;if(r>1&&0===e[4]&&!(128&e[5]))return 1;if(128&e[r+6])return 1;if(n>1&&0===e[r+6]&&!(128&e[r+7]))return 1;let i=e.subarray(4,4+r);if(33===i.length&&0===i[0]&&(i=i.subarray(1)),i.length>32)return 1;let a=e.subarray(6+r);if(33===a.length&&0===a[0]&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let u=new o(i);u.cmp(s.n)>=0&&(u=new o(0));let c=new o(e.subarray(6+r));return c.cmp(s.n)>=0&&(c=new o(0)),t.set(u.toArrayLike(Uint8Array,"be",32),0),t.set(c.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e){const r=new o(e);return r.cmp(s.n)>=0||r.isZero()?null:i.sign(t,e,{canonical:!0}).toBytes()},ecdsaVerify(t,e,r){const n={r:t.subarray(0,32),s:t.subarray(32,64)},u=new o(n.r),c=new o(n.s);if(u.cmp(s.n)>=0||c.cmp(s.n)>=0)return 1;if(1===c.cmp(i.nh)||u.isZero()||c.isZero())return 3;const f=a(r);if(null===f)return 2;const h=f.getPublic();return i.verify(e,n,h)},ecdsaRecover(t,e,r,a){const u={r:t.slice(0,32),s:t.slice(32,64)},c=new o(u.r),f=new o(u.s);if(c.cmp(s.n)>=0||f.cmp(s.n)>=0)return 1;if(c.isZero()||f.isZero())return 2;let h;try{h=i.recoverPubKey(r,u,e,null)}catch(t){return 2}return n.from(h.encode(null,a))},ecdh(t,e,r,n,u,c,f){const h=a(e);if(null===h)return 1;const l=new o(r);if(l.cmp(s.n)>=0||l.isZero())return 2;const d=h.getPublic().mul(l);if(void 0===u){const e=d.encode(null,!0),r=i.hash().update(e).digest();for(let e=0;e<32;++e)t[e]=r[e]}else{c||(c=new Uint8Array(32));const e=d.getX().toArray("be",32);for(let t=0;t<32;++t)c[t]=e[t];f||(f=new Uint8Array(32));const r=d.getY().toArray("be",32);for(let t=0;t<32;++t)f[t]=r[t];const i=u(c,f,n);if(!(i instanceof Uint8Array&&i.length===t.length))return 2;t.set(i)}return 0}}},9254:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.fromSeed=e.fromPublicKey=e.fromPrivateKey=e.fromBase58=e.tinySecp256k1Interface=void 0;const a=o(r(4047)),u=r(6090),c=r(6121),f=(0,u.base58check)(c.sha256),h=r(2582),l=r(2401),d=r(7174),p=(g=h,{isPoint:t=>g.publicKeyVerify(t),isPrivate:t=>g.privateKeyVerify(t),pointAddScalar:(t,e,r)=>g.publicKeyTweakAdd(t,e,r),pointFromScalar:(t,e)=>g.publicKeyCreate(t,e),privateAdd:(t,e)=>g.privateKeyTweakAdd(new Uint8Array(t),e),sign:(t,e)=>g.ecdsaSign(t,e),verify:(t,e,r)=>g.ecdsaVerify(r,t,e)});var g;e.tinySecp256k1Interface=function(t){return{isPoint:e=>t.publicKeyVerify(e),pointCompress:(e,r)=>Uint8Array.from(t.publicKeyConvert(e,null==r||r)),isPrivate:e=>t.privateKeyVerify(e),pointFromScalar:(e,r)=>{const n=t.publicKeyCreate(e,null==r||r);return null==n?null:Uint8Array.from(n)},sign:(e,r,n)=>Uint8Array.from(t.ecdsaSign(e,r)),verify:(e,r,n,i)=>t.ecdsaVerify(n,e,r)}}(h);const y=l.BufferN(32),m=l.compile({wif:l.UInt8,bip32:{public:l.UInt32,private:l.UInt32}}),b={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},v=2147483648,w=Math.pow(2,31)-1;function S(t){return l.String(t)&&null!==t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}function E(t){return l.UInt32(t)&&t<=w}class x{constructor(t,e,r,n,i=0,s=0,o=0){this.__D=t,this.__Q=e,this.chainCode=r,this.network=n,this.__DEPTH=i,this.__INDEX=s,this.__PARENT_FINGERPRINT=o,l(m,n),this.lowR=!1}get depth(){return this.__DEPTH}get index(){return this.__INDEX}get parentFingerprint(){return this.__PARENT_FINGERPRINT}get publicKey(){return void 0===this.__Q&&(this.__Q=n.from(p.pointFromScalar(this.__D,!0))),this.__Q}get privateKey(){return this.__D}get identifier(){return n.from(a.hash160(this.publicKey))}get fingerprint(){return this.identifier.slice(0,4)}get compressed(){return!0}isNeutered(){return void 0===this.__D}neutered(){return P(this.publicKey,this.chainCode,this.network,this.depth,this.index,this.parentFingerprint)}toBase58(){const t=this.network,e=this.isNeutered()?t.bip32.public:t.bip32.private,r=n.allocUnsafe(78);return r.writeUInt32BE(e,0),r.writeUInt8(this.depth,4),r.writeUInt32BE(this.parentFingerprint,5),r.writeUInt32BE(this.index,9),this.chainCode.copy(r,13),this.isNeutered()?this.publicKey.copy(r,45):(r.writeUInt8(0,45),this.privateKey.copy(r,46)),f.encode(r)}toWIF(){if(!this.privateKey)throw new TypeError("Missing private key");return d.encode(this.network.wif,this.privateKey,!0)}derive(t){l(l.UInt32,t);const e=t>=v,r=n.allocUnsafe(37);if(e){if(this.isNeutered())throw new TypeError("Missing private key for hardened child key");r[0]=0,this.privateKey.copy(r,1),r.writeUInt32BE(t,33)}else this.publicKey.copy(r,0),r.writeUInt32BE(t,33);const i=a.hmacSHA512(this.chainCode,r),s=i.slice(0,32),o=i.slice(32);if(!p.isPrivate(s))return this.derive(t+1);let u;if(this.isNeutered()){const e=p.pointAddScalar(this.publicKey,s,!0);if(null===e)return this.derive(t+1);u=P(e,o,this.network,this.depth+1,t,this.fingerprint.readUInt32BE(0))}else{const e=p.privateAdd(this.privateKey,s);if(null==e)return this.derive(t+1);u=A(e,o,this.network,this.depth+1,t,this.fingerprint.readUInt32BE(0))}return u}deriveHardened(t){return l(E,t),this.derive(t+v)}derivePath(t){l(S,t);let e=t.split("/");if("m"===e[0]){if(this.parentFingerprint)throw new TypeError("Expected master, got child");e=e.slice(1)}return e.reduce(((t,e)=>{let r;return"'"===e.slice(-1)?(r=parseInt(e.slice(0,-1),10),t.deriveHardened(r)):(r=parseInt(e,10),t.derive(r))}),this)}sign(t){if(!this.privateKey)throw new Error("Missing private key");return p.sign(t,this.privateKey)}verify(t,e){return p.verify(t,this.publicKey,e)}}function _(t,e,r){return A(t,e,r)}function A(t,e,r,n,i,s){if(l({privateKey:y,chainCode:y},{privateKey:t,chainCode:e}),r=r||b,!p.isPrivate(t))throw new TypeError("Private key not in range [1, n)");return new x(t,void 0,e,r,n,i,s)}function P(t,e,r,n,i,s){if(l({publicKey:l.BufferN(33),chainCode:y},{publicKey:t,chainCode:e}),r=r||b,!p.isPoint(t))throw new TypeError("Point is not on the curve");return new x(void 0,t,e,r,n,i,s)}e.fromBase58=function(t,e){const r=n.from(f.decode(t));if(78!==r.length)throw new TypeError("Invalid buffer length");e=e||b;const i=r.readUInt32BE(0);if(i!==e.bip32.private&&i!==e.bip32.public)throw new TypeError("Invalid network version");const s=r[4],o=r.readUInt32BE(5);if(0===s&&0!==o)throw new TypeError("Invalid parent fingerprint");const a=r.readUInt32BE(9);if(0===s&&0!==a)throw new TypeError("Invalid index");const u=r.slice(13,45);let c;if(i===e.bip32.private){if(0!==r.readUInt8(45))throw new TypeError("Invalid private key");c=A(r.slice(46,78),u,e,s,a,o)}else c=P(r.slice(45,78),u,e,s,a,o);return c},e.fromPrivateKey=_,e.fromPublicKey=function(t,e,r){return P(t,e,r)},e.fromSeed=function(t,e){if(l(l.Buffer,t),t.length<16)throw new TypeError("Seed should be at least 128 bits");if(t.length>64)throw new TypeError("Seed should be at most 512 bits");e=e||b;const r=a.hmacSHA512(n.from("Bitcoin seed","utf8"),t);return _(r.slice(0,32),r.slice(32),e)}},6509:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromPrivateKey=e.fromPublicKey=e.fromBase58=e.fromSeed=e.tinySecp256k1Interface=void 0;var n=r(9254);Object.defineProperty(e,"tinySecp256k1Interface",{enumerable:!0,get:function(){return n.tinySecp256k1Interface}}),Object.defineProperty(e,"fromSeed",{enumerable:!0,get:function(){return n.fromSeed}}),Object.defineProperty(e,"fromBase58",{enumerable:!0,get:function(){return n.fromBase58}}),Object.defineProperty(e,"fromPublicKey",{enumerable:!0,get:function(){return n.fromPublicKey}}),Object.defineProperty(e,"fromPrivateKey",{enumerable:!0,get:function(){return n.fromPrivateKey}})},8804:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._default=e.wordlists=void 0;const n={};let i;e.wordlists=n,e._default=i;try{e._default=i=r(2254),n.english=i,n.EN=i}catch(t){}},9402:(t,e,r)=>{"use strict";var n=r(8764).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.wordlists=e.getDefaultWordlist=e.setDefaultWordlist=e.validateMnemonic=e.generateMnemonic=e.entropyToMnemonic=e.mnemonicToEntropy=e.mnemonicToSeed=e.mnemonicToSeedSync=void 0;const i=r(4047),s=r(9023),o=r(8804),a=r(6262);let u=o._default;const c="Invalid mnemonic",f="Invalid entropy",h="A wordlist is required but a default could not be found.\nPlease pass a 2048 word array explicitly.";function l(t){return(t||"").normalize("NFKD")}function d(t,e,r){for(;t.length<r;)t=e+t;return t}function p(t){return parseInt(t,2)}function g(t){return t.map((t=>d(t.toString(2),"0",8))).join("")}function y(t){const e=8*t.length/32,r=(0,i.sha256)(t);return g(Array.from(r)).slice(0,e)}function m(t){return"mnemonic"+(t||"")}function b(t,e){if(!(e=e||u))throw new Error(h);const r=l(t).split(" ");if(r.length%3!=0)throw new Error(c);const i=r.map((t=>{const r=e.indexOf(t);if(-1===r)throw new Error(c);return d(r.toString(2),"0",11)})).join(""),s=32*Math.floor(i.length/33),o=i.slice(0,s),a=i.slice(s),g=o.match(/(.{1,8})/g).map(p);if(g.length<16)throw new Error(f);if(g.length>32)throw new Error(f);if(g.length%4!=0)throw new Error(f);const m=n.from(g);if(y(m)!==a)throw new Error("Invalid mnemonic checksum");return m.toString("hex")}function v(t,e){if(n.isBuffer(t)||(t=n.from(t,"hex")),!(e=e||u))throw new Error(h);if(t.length<16)throw new TypeError(f);if(t.length>32)throw new TypeError(f);if(t.length%4!=0)throw new TypeError(f);const r=(g(Array.from(t))+y(t)).match(/(.{1,11})/g).map((t=>{const r=p(t);return e[r]}));return""===e[0]?r.join(""):r.join(" ")}e.mnemonicToSeedSync=function(t,e){const r=n.from(l(t),"utf8"),i=n.from(m(l(e)),"utf8"),o=(0,s.pbkdf2)(a.sha512,r,i,{c:2048,dkLen:64});return n.from(o)},e.mnemonicToSeed=function(t,e){return Promise.resolve().then((()=>function(t,e,r,i,o){const u=(0,s.pbkdf2)(a.sha512,t,e,{c:2048,dkLen:64});return Promise.resolve(n.from(u))}(n.from(l(t),"utf8"),n.from(m(l(e)),"utf8"))))},e.mnemonicToEntropy=b,e.entropyToMnemonic=v,e.generateMnemonic=function(t,e,r){if((t=t||128)%32!=0)throw new TypeError(f);return v((e=e||i.randomBytes)(t/8),r)},e.validateMnemonic=function(t,e){try{b(t,e)}catch(t){return!1}return!0},e.setDefaultWordlist=function(t){const e=o.wordlists[t];if(!e)throw new Error('Could not find wordlist for language "'+t+'"');u=e},e.getDefaultWordlist=function(){if(!u)throw new Error("No Default Wordlist set");return Object.keys(o.wordlists).filter((t=>"JA"!==t&&"EN"!==t&&o.wordlists[t].every(((t,e)=>t===u[e]))))[0]};var w=r(8804);Object.defineProperty(e,"wordlists",{enumerable:!0,get:function(){return w.wordlists}})},2537:(t,e,r)=>{"use strict";var n=r(7113),i=r(3550),s=n.getNAF,o=n.getJSF,a=n.assert;function u(t,e){this.type=t,this.p=new i(e.p,16),this.red=e.prime?i.red(e.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=e.n&&new i(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(t,e){a(t.precomputed);var r=t._getDoubles(),n=s(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,u,c=[];for(o=0;o<n.length;o+=r.step){u=0;for(var f=o+r.step-1;f>=o;f--)u=(u<<1)+n[f];c.push(u)}for(var h=this.jpoint(null,null,null),l=this.jpoint(null,null,null),d=i;d>0;d--){for(o=0;o<c.length;o++)(u=c[o])===d?l=l.mixedAdd(r.points[o]):u===-d&&(l=l.mixedAdd(r.points[o].neg()));h=h.add(l)}return h.toP()},u.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=s(e,r,this._bitLength),u=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var f=0;c>=0&&0===o[c];c--)f++;if(c>=0&&f++,u=u.dblp(f),c<0)break;var h=o[c];a(0!==h),u="affine"===t.type?h>0?u.mixedAdd(i[h-1>>1]):u.mixedAdd(i[-h-1>>1].neg()):h>0?u.add(i[h-1>>1]):u.add(i[-h-1>>1].neg())}return"affine"===t.type?u.toP():u},u.prototype._wnafMulAdd=function(t,e,r,n,i){var a,u,c,f=this._wnafT1,h=this._wnafT2,l=this._wnafT3,d=0;for(a=0;a<n;a++){var p=(c=e[a])._getNAFPoints(t);f[a]=p.wnd,h[a]=p.points}for(a=n-1;a>=1;a-=2){var g=a-1,y=a;if(1===f[g]&&1===f[y]){var m=[e[g],null,null,e[y]];0===e[g].y.cmp(e[y].y)?(m[1]=e[g].add(e[y]),m[2]=e[g].toJ().mixedAdd(e[y].neg())):0===e[g].y.cmp(e[y].y.redNeg())?(m[1]=e[g].toJ().mixedAdd(e[y]),m[2]=e[g].add(e[y].neg())):(m[1]=e[g].toJ().mixedAdd(e[y]),m[2]=e[g].toJ().mixedAdd(e[y].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],v=o(r[g],r[y]);for(d=Math.max(v[0].length,d),l[g]=new Array(d),l[y]=new Array(d),u=0;u<d;u++){var w=0|v[0][u],S=0|v[1][u];l[g][u]=b[3*(w+1)+(S+1)],l[y][u]=0,h[g]=m}}else l[g]=s(r[g],f[g],this._bitLength),l[y]=s(r[y],f[y],this._bitLength),d=Math.max(l[g].length,d),d=Math.max(l[y].length,d)}var E=this.jpoint(null,null,null),x=this._wnafT4;for(a=d;a>=0;a--){for(var _=0;a>=0;){var A=!0;for(u=0;u<n;u++)x[u]=0|l[u][a],0!==x[u]&&(A=!1);if(!A)break;_++,a--}if(a>=0&&_++,E=E.dblp(_),a<0)break;for(u=0;u<n;u++){var P=x[u];0!==P&&(P>0?c=h[u][P-1>>1]:P<0&&(c=h[u][-P-1>>1].neg()),E="affine"===c.type?E.mixedAdd(c):E.add(c))}}for(a=0;a<n;a++)h[a]=null;return i?E:E.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(t,e){t=n.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(t){return this.encode(t,!0)},c.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},c.prototype.encode=function(t,e){return n.encode(this._encode(e),t)},c.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},c.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},c.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},c.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},9496:(t,e,r)=>{"use strict";var n=r(7113),i=r(3550),s=r(5717),o=r(2537),a=n.assert;function u(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,o.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function c(t,e,r,n,s){o.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=s&&new i(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(u,o),t.exports=u,u.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},u.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},u.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(e&&!u||!e&&u)&&(a=a.redNeg()),this.point(t,a)},u.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},u.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},s(c,o.BasePoint),u.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},u.prototype.point=function(t,e,r,n){return new c(this,t,e,r,n)},c.fromJSON=function(t,e){return new c(t,e[0],e[1],e[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=n.redAdd(e),o=s.redSub(r),a=n.redSub(e),u=i.redMul(o),c=s.redMul(a),f=i.redMul(a),h=o.redMul(s);return this.curve.point(u,c,h,f)},c.prototype._projDbl=function(){var t,e,r,n,i,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(a)).redAdd(u);this.zOne?(t=o.redSub(a).redSub(u).redMul(c.redSub(this.curve.two)),e=c.redMul(n.redSub(u)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),s=c.redSub(i).redISub(i),t=o.redSub(a).redISub(u).redMul(s),e=c.redMul(n.redSub(u)),r=c.redMul(s))}else n=a.redAdd(u),i=this.curve._mulC(this.z).redSqr(),s=n.redSub(i).redSub(i),t=this.curve._mulC(o.redISub(n)).redMul(s),e=this.curve._mulC(n).redMul(a.redISub(u)),r=n.redMul(s);return this.curve.point(t,e,r)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),s=r.redSub(e),o=i.redSub(n),a=i.redAdd(n),u=r.redAdd(e),c=s.redMul(o),f=a.redMul(u),h=s.redMul(u),l=o.redMul(a);return this.curve.point(c,f,l,h)},c.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),s=this.x.redMul(t.x),o=this.y.redMul(t.y),a=this.curve.d.redMul(s).redMul(o),u=i.redSub(a),c=i.redAdd(a),f=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(o),h=n.redMul(u).redMul(f);return this.curve.twisted?(e=n.redMul(c).redMul(o.redSub(this.curve._mulA(s))),r=u.redMul(c)):(e=n.redMul(c).redMul(o.redSub(s)),r=this.curve._mulC(u).redMul(c)),this.curve.point(h,e,r)},c.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},c.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},c.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},c.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},5181:(t,e,r)=>{"use strict";var n=e;n.base=r(2537),n.short=r(2878),n.mont=r(5491),n.edwards=r(9496)},5491:(t,e,r)=>{"use strict";var n=r(3550),i=r(5717),s=r(2537),o=r(7113);function a(t){s.call(this,"mont",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(t,e,r){s.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(e,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},i(u,s.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(o.toArray(t,e),1)},a.prototype.point=function(t,e){return new u(this,t,e)},a.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(t,e){return new u(t,e[0],e[1]||t.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),s=t.x.redSub(t.z).redMul(r),o=i.redMul(n),a=e.z.redMul(s.redAdd(o).redSqr()),u=e.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,u)},u.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},2878:(t,e,r)=>{"use strict";var n=r(7113),i=r(3550),s=r(5717),o=r(2537),a=n.assert;function u(t){o.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(t,e,r,n){o.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(t,e,r,n){o.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(u,o),t.exports=u,u.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new i(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?r=s[0]:(r=s[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),r=new i(2).toRed(e).redInvm(),n=r.redNeg(),s=new i(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(s).fromRed(),n.redSub(s).fromRed()]},u.prototype._getEndoBasis=function(t){for(var e,r,n,s,o,a,u,c,f,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=t,d=this.n.clone(),p=new i(1),g=new i(0),y=new i(0),m=new i(1),b=0;0!==l.cmpn(0);){var v=d.div(l);c=d.sub(v.mul(l)),f=y.sub(v.mul(p));var w=m.sub(v.mul(g));if(!n&&c.cmp(h)<0)e=u.neg(),r=p,n=c.neg(),s=f;else if(n&&2==++b)break;u=c,d=l,l=c,y=p,p=f,m=g,g=w}o=c.neg(),a=f;var S=n.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(S)>=0&&(o=e,a=r),n.negative&&(n=n.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:s},{a:o,b:a}]},u.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),u=i.mul(r.b),c=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:u.add(c).neg()}},u.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var s=n.fromRed().isOdd();return(e&&!s||!e&&s)&&(n=n.redNeg()),this.point(t,n)},u.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],u=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),n[2*s]=a,n[2*s+1]=u,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,2*s,r),f=0;f<2*s;f++)n[f]=null,i[f]=null;return c},s(c,o.BasePoint),u.prototype.point=function(t,e,r){return new c(this,t,e,r)},u.prototype.pointFromJSON=function(t,e){return c.fromJSON(this,t,e)},c.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},c.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},c.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},c.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},c.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(f,o.BasePoint),u.prototype.jpoint=function(t,e,r){return new f(this,t,e,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=s.redSub(o);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),h=n.redMul(c),l=u.redSqr().redIAdd(f).redISub(h).redISub(h),d=u.redMul(h.redISub(l)).redISub(s.redMul(f)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,d,p)},f.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),c=u.redMul(o),f=r.redMul(u),h=a.redSqr().redIAdd(c).redISub(f).redISub(f),l=a.redMul(f.redISub(h)).redISub(i.redMul(c)),d=this.z.redMul(o);return this.curve.jpoint(h,l,d)},f.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,u=a.redSqr().redSqr(),c=o.redAdd(o);for(e=0;e<t;e++){var f=s.redSqr(),h=c.redSqr(),l=h.redSqr(),d=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),p=s.redMul(h),g=d.redSqr().redISub(p.redAdd(p)),y=p.redISub(g),m=d.redMul(y);m=m.redIAdd(m).redISub(l);var b=c.redMul(a);e+1<t&&(u=u.redMul(l)),s=g,a=b,c=m}return this.curve.jpoint(s,c.redMul(i),a)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),t=u,e=a.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),l=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(f).redISub(l);d=d.redIAdd(d);var p=f.redAdd(f).redIAdd(f),g=p.redSqr(),y=l.redIAdd(l);y=(y=y.redIAdd(y)).redIAdd(y),t=g.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},f.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(o).redISub(o);t=u;var c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),e=a.redMul(o.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),l=this.x.redMul(h),d=this.x.redSub(f).redMul(this.x.redAdd(f));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),g=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var y=h.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),e=d.redMul(p.redISub(t)).redISub(y)}return this.curve.jpoint(t,e,r)},f.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),u=e.redAdd(e),c=(u=u.redIAdd(u)).redMul(o),f=a.redSqr().redISub(c.redAdd(c)),h=c.redISub(f),l=o.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(h).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,d,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(u),f=e.redMul(c);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.x.redMul(a).redISub(f);h=(h=h.redIAdd(h)).redIAdd(h);var l=this.y.redMul(c.redMul(u.redISub(c)).redISub(o.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,l,d)},f.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},f.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},4231:(t,e,r)=>{"use strict";var n,i=e,s=r(3715),o=r(5181),a=r(7113).assert;function u(t){"short"===t.type?this.curve=new o.short(t):"edwards"===t.type?this.curve=new o.edwards(t):this.curve=new o.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new u(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(104)}catch(t){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},7879:(t,e,r)=>{"use strict";var n=r(3550),i=r(2156),s=r(7113),o=r(4231),a=r(9931),u=s.assert,c=r(5248),f=r(7941);function h(t){if(!(this instanceof h))return new h(t);"string"==typeof t&&(u(Object.prototype.hasOwnProperty.call(o,t),"Unknown curve "+t),t=o[t]),t instanceof o.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=h,h.prototype.keyPair=function(t){return new c(this,t)},h.prototype.keyFromPrivate=function(t,e){return c.fromPrivate(this,t,e)},h.prototype.keyFromPublic=function(t,e){return c.fromPublic(this,t,e)},h.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var o=new n(e.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},h.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},h.prototype.sign=function(t,e,r,s){"object"==typeof r&&(s=r,r=null),s||(s={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new n(t,16));for(var o=this.n.byteLength(),a=e.getPrivate().toArray("be",o),u=t.toArray("be",o),c=new i({hash:this.hash,entropy:a,nonce:u,pers:s.pers,persEnc:s.persEnc||"utf8"}),h=this.n.sub(new n(1)),l=0;;l++){var d=s.k?s.k(l):new n(c.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(h)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var g=p.getX(),y=g.umod(this.n);if(0!==y.cmpn(0)){var m=d.invm(this.n).mul(y.mul(e.getPrivate()).iadd(t));if(0!==(m=m.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==g.cmp(y)?2:0);return s.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),b^=1),new f(this.curve,{r:y,s:m,recoveryParam:b})}}}}}},h.prototype.verify=function(t,e,r,i){t=this._truncateToN(new n(t,16)),r=this.keyFromPublic(r,i);var s=(e=new f(this.curve,e,"hex")).r,o=e.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,u=o.invm(this.n),c=u.mul(t).umod(this.n),h=u.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),h)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(c,r.getPublic(),h)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},h.prototype.recoverPubKey=function(t,e,r,i){u((3&r)===r,"The recovery param is more than two bits"),e=new f(this.curve,e,i);var s=this.n,o=new n(t),a=e.r,c=e.s,h=1&r,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");a=l?this.curve.pointFromX(a.add(this.curve.n),h):this.curve.pointFromX(a,h);var d=e.r.invm(s),p=s.sub(o).mul(d).umod(s),g=c.mul(d).umod(s);return this.g.mulAdd(p,a,g)},h.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new f(this.curve,e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch(t){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},5248:(t,e,r)=>{"use strict";var n=r(3550),i=r(7113).assert;function s(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=s,s.fromPublic=function(t,e,r){return e instanceof s?e:new s(t,{pub:e,pubEnc:r})},s.fromPrivate=function(t,e,r){return e instanceof s?e:new s(t,{priv:e,privEnc:r})},s.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},s.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},s.prototype.derive=function(t){return t.validate()||i(t.validate(),"public point not validated"),t.mul(this.priv).getX()},s.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},s.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},7941:(t,e,r)=>{"use strict";var n=r(3550),i=r(7113),s=i.assert;function o(t,e,r){if(e instanceof o)return e;this._importDER(e,r)||(s(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam,this.curve=t,this.byteLength=this.curve.n.byteLength())}function a(){this.place=0}function u(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return!(i<=127)&&(e.place=o,i)}function c(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function f(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=o,o.prototype._importDER=function(t,e){t=i.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;var s=u(t,r);if(!1===s)return!1;if(s+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var o=u(t,r);if(!1===o)return!1;var c=t.slice(r.place,o+r.place);if(r.place+=o,2!==t[r.place++])return!1;var f=u(t,r);if(!1===f)return!1;if(t.length!==f+r.place)return!1;var h=t.slice(r.place,f+r.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new n(c),this.s=new n(h),this.recoveryParam=null,!0},o.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=c(e),r=c(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];f(n,e.length),(n=n.concat(e)).push(2),f(n,r.length);var s=n.concat(r),o=[48];return f(o,s.length),o=o.concat(s),i.encode(o,t)},o.prototype.toBytes=function(){const t=this.r.toArray("be",this.byteLength),e=this.s.toArray("be",this.byteLength);return t.concat(e)}},9369:(t,e,r)=>{"use strict";var n=r(3715),i=r(4231),s=r(7113),o=s.assert,a=s.parseBytes,u=r(5048),c=r(3268);function f(t){if(o("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof f))return new f(t);t=i[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=n.sha512}t.exports=f,f.prototype.sign=function(t,e){t=a(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),s=this.encodePoint(i),o=this.hashInt(s,r.pubBytes(),t).mul(r.priv()),u=n.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:s})},f.prototype.verify=function(t,e,r){t=a(t),e=this.makeSignature(e);var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(s)},f.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return s.intFromLE(t.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(t){return u.fromPublic(this,t)},f.prototype.keyFromSecret=function(t){return u.fromSecret(this,t)},f.prototype.makeSignature=function(t){return t instanceof c?t:new c(this,t)},f.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},f.prototype.decodePoint=function(t){var e=(t=s.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=0!=(128&t[e]),i=s.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(t){return s.intFromLE(t)},f.prototype.isPoint=function(t){return t instanceof this.pointClass}},5048:(t,e,r)=>{"use strict";var n=r(7113),i=n.assert,s=n.parseBytes,o=n.cachedProperty;function a(t,e){this.eddsa=t,this._secret=s(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=s(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),t)},a.prototype.getPublic=function(t){return n.encode(this.pubBytes(),t)},t.exports=a},3268:(t,e,r)=>{"use strict";var n=r(3550),i=r(7113),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function u(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),s(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof n&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}o(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=u},7022:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.curves=e.curve=e.eddsa=e.ec=void 0;const n=r(5181);e.curve=n;const i=r(4231);e.curves=i;const s=r(7879);e.ec=s;const o=r(9369);e.eddsa=o},104:t=>{"use strict";t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},7113:(t,e,r)=>{"use strict";var n=e,i=r(3550),s=r(9746),o=r(4504);n.assert=s,n.toArray=o.toArray,n.zero2=o.zero2,n.toHex=o.toHex,n.encode=o.encode,n.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,u=s.andln(i-1);s.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},n.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,s=0;t.cmpn(-i)>0||e.cmpn(-s)>0;){var o,a,u=t.andln(3)+i&3,c=e.andln(3)+s&3;3===u&&(u=-1),3===c&&(c=-1),o=0==(1&u)?0:3!=(n=t.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(o),a=0==(1&c)?0:3!=(n=e.andln(7)+s&7)&&5!==n||2!==u?c:-c,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},n.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(t){return"string"==typeof t?n.toArray(t,"hex"):t},n.intFromLE=function(t){return new i(t,"hex","le")}},9693:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.rsa=e.cryptoJS=e.secp256k1=e.ed25519=e.Long=e._m0=e.protobuf=e.typeforce=e.safeBuffer=e.BigNumber=e.BN=e.math=e.signUtil=e.abi=e.elliptic=e.bip39=e.bip32=e.base=void 0,e.base=s(r(4047)),e.bip32=s(r(6509)),e.bip39=s(r(9402)),e.elliptic=s(r(7022)),e.abi=s(r(4134)),e.signUtil=s(r(6036)),e.math=s(r(7824));const u=a(r(3550));e.BN=u.default;const c=a(r(4431));e.BigNumber=c.default;const f=a(r(9509));e.safeBuffer=f.default;const h=r(2401);e.typeforce=h,e.protobuf=s(r(3281)),e._m0=s(r(2100));const l=a(r(1583));e.Long=l.default,e.ed25519=s(r(222)),e.secp256k1=s(r(9656)),o(r(1745),e),o(r(553),e);const d=s(r(1354));e.cryptoJS=d;const p=s(r(1166));e.rsa=p},3844:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Decimal=void 0;const i=n(r(3550));class s{static fromUserInput(t,e){s.verifyFractionalDigits(e);const r=t.match(/[^0-9.]/);if(r)throw new Error(`Invalid character at position ${r.index+1}`);let n,i;if(-1===t.search(/\./))n=t,i="";else{const e=t.split(".");switch(e.length){case 0:case 1:throw new Error("Fewer than two elements in split result. This must not happen here.");case 2:if(!e[1])throw new Error("Fractional part missing");n=e[0],i=e[1].replace(/0+$/,"");break;default:throw new Error("More than one separator found")}}if(i.length>e)throw new Error("Got more fractional digits than supported");const o=`${n}${i.padEnd(e,"0")}`;return new s(o,e)}static fromAtomics(t,e){return s.verifyFractionalDigits(e),new s(t,e)}static zero(t){return s.verifyFractionalDigits(t),new s("0",t)}static one(t){return s.verifyFractionalDigits(t),new s("1"+"0".repeat(t),t)}static verifyFractionalDigits(t){if(!Number.isInteger(t))throw new Error("Fractional digits is not an integer");if(t<0)throw new Error("Fractional digits must not be negative");if(t>100)throw new Error("Fractional digits must not exceed 100")}static compare(t,e){if(t.fractionalDigits!==e.fractionalDigits)throw new Error("Fractional digits do not match");return t.data.atomics.cmp(new i.default(e.atomics))}get atomics(){return this.data.atomics.toString()}get fractionalDigits(){return this.data.fractionalDigits}constructor(t,e){this.data={atomics:new i.default(t),fractionalDigits:e}}toString(){const t=new i.default(10).pow(new i.default(this.data.fractionalDigits)),e=this.data.atomics.div(t),r=this.data.atomics.mod(t);if(r.isZero())return e.toString();{const t=r.toString().padStart(this.data.fractionalDigits,"0").replace(/0+$/,"");return`${e.toString()}.${t}`}}toFloatApproximation(){const t=Number(this.toString());if(Number.isNaN(t))throw new Error("Conversion to number failed");return t}plus(t){if(this.fractionalDigits!==t.fractionalDigits)throw new Error("Fractional digits do not match");const e=this.data.atomics.add(new i.default(t.atomics));return new s(e.toString(),this.fractionalDigits)}minus(t){if(this.fractionalDigits!==t.fractionalDigits)throw new Error("Fractional digits do not match");const e=this.data.atomics.sub(new i.default(t.atomics));if(e.ltn(0))throw new Error("Difference must not be negative");return new s(e.toString(),this.fractionalDigits)}multiply(t){const e=this.data.atomics.mul(new i.default(t.toString()));return new s(e.toString(),this.fractionalDigits)}equals(t){return 0===s.compare(this,t)}isLessThan(t){return s.compare(this,t)<0}isLessThanOrEqual(t){return s.compare(this,t)<=0}isGreaterThan(t){return s.compare(this,t)>0}isGreaterThanOrEqual(t){return s.compare(this,t)>=0}}e.Decimal=s},7824:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Uint64=e.Uint53=e.Uint32=e.Int53=e.Decimal=void 0;var n=r(3844);Object.defineProperty(e,"Decimal",{enumerable:!0,get:function(){return n.Decimal}});var i=r(5671);Object.defineProperty(e,"Int53",{enumerable:!0,get:function(){return i.Int53}}),Object.defineProperty(e,"Uint32",{enumerable:!0,get:function(){return i.Uint32}}),Object.defineProperty(e,"Uint53",{enumerable:!0,get:function(){return i.Uint53}}),Object.defineProperty(e,"Uint64",{enumerable:!0,get:function(){return i.Uint64}})},5671:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Uint64=e.Uint53=e.Int53=e.Uint32=void 0;const i=n(r(3550)),s=new i.default("18446744073709551615",10,"be");class o{static fromBigEndianBytes(t){return o.fromBytes(t)}static fromBytes(t,e="be"){if(4!==t.length)throw new Error("Invalid input length. Expected 4 bytes.");for(let e=0;e<t.length;++e)if(!Number.isInteger(t[e])||t[e]>255||t[e]<0)throw new Error("Invalid value in byte. Found: "+t[e]);const r="be"===e?t:Array.from(t).reverse();return new o(r[0]*2**24+65536*r[1]+256*r[2]+r[3])}static fromString(t){if(!t.match(/^[0-9]+$/))throw new Error("Invalid string format");return new o(Number.parseInt(t,10))}constructor(t){if(Number.isNaN(t))throw new Error("Input is not a number");if(!Number.isInteger(t))throw new Error("Input is not an integer");if(t<0||t>4294967295)throw new Error("Input not in uint32 range: "+t.toString());this.data=t}toBytesBigEndian(){return new Uint8Array([255&Math.floor(this.data/2**24),255&Math.floor(this.data/65536),255&Math.floor(this.data/256),255&Math.floor(this.data/1)])}toBytesLittleEndian(){return new Uint8Array([255&Math.floor(this.data/1),255&Math.floor(this.data/256),255&Math.floor(this.data/65536),255&Math.floor(this.data/2**24)])}toNumber(){return this.data}toString(){return this.data.toString()}}e.Uint32=o;class a{static fromString(t){if(!t.match(/^-?[0-9]+$/))throw new Error("Invalid string format");return new a(Number.parseInt(t,10))}constructor(t){if(Number.isNaN(t))throw new Error("Input is not a number");if(!Number.isInteger(t))throw new Error("Input is not an integer");if(t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER)throw new Error("Input not in int53 range: "+t.toString());this.data=t}toNumber(){return this.data}toString(){return this.data.toString()}}e.Int53=a;class u{static fromString(t){const e=a.fromString(t);return new u(e.toNumber())}constructor(t){const e=new a(t);if(e.toNumber()<0)throw new Error("Input is negative");this.data=e}toNumber(){return this.data.toNumber()}toString(){return this.data.toString()}}e.Uint53=u;class c{static fromBytesBigEndian(t){return c.fromBytes(t)}static fromBytes(t,e="be"){if(8!==t.length)throw new Error("Invalid input length. Expected 8 bytes.");for(let e=0;e<t.length;++e)if(!Number.isInteger(t[e])||t[e]>255||t[e]<0)throw new Error("Invalid value in byte. Found: "+t[e]);const r="be"===e?Array.from(t):Array.from(t).reverse();return new c(new i.default(r))}static fromString(t){if(!t.match(/^[0-9]+$/))throw new Error("Invalid string format");return new c(new i.default(t,10,"be"))}static fromNumber(t){if(Number.isNaN(t))throw new Error("Input is not a number");if(!Number.isInteger(t))throw new Error("Input is not an integer");let e;try{e=new i.default(t)}catch(t){throw new Error("Input is not a safe integer")}return new c(e)}constructor(t){if(t.isNeg())throw new Error("Input is negative");if(t.gt(s))throw new Error("Input exceeds uint64 range");this.data=t}toBytesBigEndian(){return Uint8Array.from(this.data.toArray("be",8))}toBytesLittleEndian(){return Uint8Array.from(this.data.toArray("le",8))}toString(){return this.data.toString(10)}toNumber(){return this.data.toNumber()}}e.Uint64=c},8416:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.fromSecret=e.fromSeed=e.privateKeyVerify=e.publicKeyVerify=e.publicKeyCreate=e.verify=e.sign=void 0;const a=s(r(7022)),u=r(4047),c=o(r(3550)),f=new a.eddsa("ed25519"),h=f.curve;e.sign=function(t,e){let r=e;64==r.length&&(r=r.slice(0,32));const n=f.keyFromSecret(Array.from(r)).sign(Array.from(t)).toBytes();return Uint8Array.from(n)},e.verify=function(t,e,r){return f.keyFromPublic(Array.from(r)).verify(Array.from(t),Array.from(e))},e.publicKeyCreate=function(t){let e=t;64==e.length&&(e=e.slice(0,32));const r=f.keyFromSecret(Array.from(e));return Uint8Array.from(r.getPublic())},e.publicKeyVerify=function(t){const e=f.decodePoint(Array.from(t));return h.validate(e)},e.privateKeyVerify=function(t){const e=new c.default(Array.from(t));return e.cmp(h.n)<0&&!e.isZero()},e.fromSeed=function(t){const e=f.keyFromSecret(Array.from(t)),r=Uint8Array.from(e.getPublic());return{publicKey:r,secretKey:(0,u.concatBytes)(t,r)}},e.fromSecret=function(t){const e=t.slice(0,32),r=f.keyFromSecret(Array.from(e));return{publicKey:Uint8Array.from(r.getPublic()),secretKey:Uint8Array.from(e)}}},6036:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.schnorr=e.p256=e.ed25519=e.secp256k1=void 0,e.secp256k1=s(r(6992)),e.ed25519=s(r(8416)),e.p256=s(r(7994)),e.schnorr=s(r(1752))},7994:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.loadUncompressedPublicKey=e.loadCompressedPublicKey=e.publicKeyConvert=e.publicKeyCreate=e.publicKeyVerify=e.privateKeyVerify=e.loadPublicKey=e.recover=e.verify=e.sign=void 0;const u=new(o(r(7022)).ec)("p256"),c=a(r(3550));function f(t,e,r,i){const s={r:Array.from(t.slice(0,32)),s:Array.from(t.slice(32,64))},o=new c.default(s.r),a=new c.default(s.s);if(o.cmp(u.curve.n)>=0||a.cmp(u.curve.n)>=0)return null;if(o.isZero()||a.isZero())return null;let f;try{f=u.recoverPubKey(Array.from(r),s,e,null)}catch(t){return null}return n.from(f.encode(null,i))}function h(t){const e=n.from(t),r=e[0];switch(r){case 2:case 3:return 33!==e.length?null:l(r,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:d(r,e.subarray(1,33),e.subarray(33,65));default:return null}}function l(t,e){let r=new c.default(Array.from(e));if(r.cmp(u.curve.p)>=0)return null;const n=r.toRed(u.curve.red);let i=n.redSqr().redIMul(n).redIAdd(u.curve.b).redSqrt();return 3===t!==i.isOdd()&&(i=i.redNeg()),{x:n,y:i}}function d(t,e,r){let n=new c.default(Array.from(e)),i=new c.default(Array.from(r));if(n.cmp(u.curve.p)>=0||i.cmp(u.curve.p)>=0)return null;const s=n.toRed(u.curve.red),o=i.toRed(u.curve.red);if((6===t||7===t)&&o.isOdd()!==(7===t))return null;const a=s.redSqr().redIMul(s);return o.redSqr().redISub(a.redIAdd(u.curve.b)).isZero()?{x:s,y:o}:null}e.sign=function(t,e,r=!0){const i=u.sign(Array.from(t),n.from(e),{canonical:r});return{signature:i.toBytes(),recovery:i.recoveryParam}},e.verify=function(t,e,r,n){const i=f(e,r,t,!1);return null!=i&&i.equals(n)},e.recover=f,e.loadPublicKey=h,e.privateKeyVerify=function(t){const e=new c.default(Array.from(t));return e.cmp(u.curve.n)<0&&!e.isZero()},e.publicKeyVerify=function(t){return null!==h(t)},e.publicKeyCreate=function(t,e){const r=u.keyFromPrivate(Array.from(t),"bytes").getPublic();return n.from(r.encode(null,e))},e.publicKeyConvert=function(t,e){const r=h(t);if(null==r)return null;const i=u.keyPair({pub:{x:r.x,y:r.y}}).getPublic();return n.from(i.encode(null,e))},e.loadCompressedPublicKey=l,e.loadUncompressedPublicKey=d},196:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCurve=e.getHash=void 0;const n=r(9569),i=r(8089),s=r(253);function o(t){return{hash:t,hmac:(e,...r)=>(0,n.hmac)(t,e,(0,i.concatBytes)(...r)),randomBytes:i.randomBytes}}e.getHash=o,e.createCurve=function(t,e){const r=e=>(0,s.weierstrass)({...t,...o(e)});return Object.freeze({...r(e),create:r})}},6744:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateBasic=e.wNAF=void 0;const n=r(9229),i=r(7883),s=BigInt(0),o=BigInt(1);e.wNAF=function(t,e){const r=(t,e)=>{const r=e.negate();return t?r:e},n=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let n=t.ZERO,i=e;for(;r>s;)r&o&&(n=n.add(i)),i=i.double(),r>>=o;return n},precomputeWindow(t,e){const{windows:r,windowSize:i}=n(e),s=[];let o=t,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let t=1;t<i;t++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(e,i,s){const{windows:a,windowSize:u}=n(e);let c=t.ZERO,f=t.BASE;const h=BigInt(2**e-1),l=2**e,d=BigInt(e);for(let t=0;t<a;t++){const e=t*u;let n=Number(s&h);s>>=d,n>u&&(n-=l,s+=o);const a=e,p=e+Math.abs(n)-1,g=t%2!=0,y=n<0;0===n?f=f.add(r(g,i[a])):c=c.add(r(y,i[p]))}return{p:c,f}},wNAFCached(t,e,r,n){const i=t._WINDOW_SIZE||1;let s=e.get(t);return s||(s=this.precomputeWindow(t,i),1!==i&&e.set(t,n(s))),this.wNAF(i,s,r)}}},e.validateBasic=function(t){return(0,n.validateField)(t.Fp),(0,i.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}},5222:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createHasher=e.isogenyMap=e.hash_to_field=e.expand_message_xof=e.expand_message_xmd=void 0;const n=r(9229),i=r(7883),s=i.bytesToNumberBE;function o(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=255&t,t>>>=8;return new Uint8Array(r)}function a(t,e){const r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function u(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function c(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function f(t,e,r,n){u(t),u(e),c(r),e.length>255&&(e=n((0,i.concatBytes)((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:s,blockLen:f}=n,h=Math.ceil(r/s);if(h>255)throw new Error("Invalid xmd length");const l=(0,i.concatBytes)(e,o(e.length,1)),d=o(0,f),p=o(r,2),g=new Array(h),y=n((0,i.concatBytes)(d,t,p,o(0,1),l));g[0]=n((0,i.concatBytes)(y,o(1,1),l));for(let t=1;t<=h;t++){const e=[a(y,g[t-1]),o(t+1,1),l];g[t]=n((0,i.concatBytes)(...e))}return(0,i.concatBytes)(...g).slice(0,r)}function h(t,e,r,n,s){if(u(t),u(e),c(r),e.length>255){const t=Math.ceil(2*n/8);e=s.create({dkLen:t}).update((0,i.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:r}).update(t).update(o(r,2)).update(e).update(o(e.length,1)).digest()}function l(t,e,r){(0,i.validateObject)(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:o,k:a,m:l,hash:d,expand:p,DST:g}=r;u(t),c(e);const y=function(t){if(t instanceof Uint8Array)return t;if("string"==typeof t)return(0,i.utf8ToBytes)(t);throw new Error("DST must be Uint8Array or string")}(g),m=o.toString(2).length,b=Math.ceil((m+a)/8),v=e*l*b;let w;if("xmd"===p)w=f(t,y,v,d);else if("xof"===p)w=h(t,y,v,a,d);else{if("_internal_pass"!==p)throw new Error('expand must be "xmd" or "xof"');w=t}const S=new Array(e);for(let t=0;t<e;t++){const e=new Array(l);for(let r=0;r<l;r++){const i=b*(r+t*l),a=w.subarray(i,i+b);e[r]=(0,n.mod)(s(a),o)}S[t]=e}return S}e.expand_message_xmd=f,e.expand_message_xof=h,e.hash_to_field=l,e.isogenyMap=function(t,e){const r=e.map((t=>Array.from(t).reverse()));return(e,n)=>{const[i,s,o,a]=r.map((r=>r.reduce(((r,n)=>t.add(t.mul(r,e),n)))));return e=t.div(i,s),n=t.mul(n,t.div(o,a)),{x:e,y:n}}},e.createHasher=function(t,e,r){if("function"!=typeof e)throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const s=l(n,2,{...r,DST:r.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),u=o.add(a).clearCofactor();return u.assertValidity(),u},encodeToCurve(n,i){const s=l(n,1,{...r,DST:r.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o}}}},9229:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hashToPrivateScalar=e.FpSqrtEven=e.FpSqrtOdd=e.Field=e.nLength=e.FpIsSquare=e.FpDiv=e.FpInvertBatch=e.FpPow=e.validateField=e.isNegativeLE=e.FpSqrt=e.tonelliShanks=e.invert=e.pow2=e.pow=e.mod=void 0;const n=r(7883),i=BigInt(0),s=BigInt(1),o=BigInt(2),a=BigInt(3),u=BigInt(4),c=BigInt(5),f=BigInt(8);function h(t,e){const r=t%e;return r>=i?r:e+r}function l(t,e,r){if(r<=i||e<i)throw new Error("Expected power/modulo > 0");if(r===s)return i;let n=s;for(;e>i;)e&s&&(n=n*t%r),t=t*t%r,e>>=s;return n}function d(t,e){if(t===i||e<=i)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=h(t,e),n=e,o=i,a=s,u=s,c=i;for(;r!==i;){const t=n/r,e=n%r,i=o-u*t,s=a-c*t;n=r,r=e,o=u,a=c,u=i,c=s}if(n!==s)throw new Error("invert: does not exist");return h(o,e)}function p(t){const e=(t-s)/o;let r,n,a;for(r=t-s,n=0;r%o===i;r/=o,n++);for(a=o;a<t&&l(a,e,t)!==t-s;a++);if(1===n){const e=(t+s)/u;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}const c=(r+s)/o;return function(t,i){if(t.pow(i,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let o=n,u=t.pow(t.mul(t.ONE,a),r),f=t.pow(i,c),h=t.pow(i,r);for(;!t.eql(h,t.ONE);){if(t.eql(h,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(h);e<o&&!t.eql(r,t.ONE);e++)r=t.sqr(r);const r=t.pow(u,s<<BigInt(o-e-1));u=t.sqr(r),f=t.mul(f,r),h=t.mul(h,u),o=e}return f}}function g(t){if(t%u===a){const e=(t+s)/u;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}if(t%f===c){const e=(t-c)/f;return function(t,r){const n=t.mul(r,o),i=t.pow(n,e),s=t.mul(r,i),a=t.mul(t.mul(s,o),i),u=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(u),r))throw new Error("Cannot find square root");return u}}return p(t)}BigInt(9),BigInt(16),e.mod=h,e.pow=l,e.pow2=function(t,e,r){let n=t;for(;e-- >i;)n*=n,n%=r;return n},e.invert=d,e.tonelliShanks=p,e.FpSqrt=g,e.isNegativeLE=(t,e)=>(h(t,e)&s)===s;const y=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function m(t,e,r){if(r<i)throw new Error("Expected power > 0");if(r===i)return t.ONE;if(r===s)return e;let n=t.ONE,o=e;for(;r>i;)r&s&&(n=t.mul(n,o)),o=t.sqr(o),r>>=s;return n}function b(t,e){const r=new Array(e.length),n=e.reduce(((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n))),t.ONE),i=t.inv(n);return e.reduceRight(((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n))),i),r}function v(t,e){const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}e.validateField=function(t){const e=y.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,n.validateObject)(t,e)},e.FpPow=m,e.FpInvertBatch=b,e.FpDiv=function(t,e,r){return t.mul(e,"bigint"==typeof r?d(r,t.ORDER):t.inv(r))},e.FpIsSquare=function(t){const e=(t.ORDER-s)/o;return r=>{const n=t.pow(r,e);return t.eql(n,t.ZERO)||t.eql(n,t.ONE)}},e.nLength=v,e.Field=function(t,e,r=!1,o={}){if(t<=i)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:a,nByteLength:u}=v(t,e);if(u>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=g(t),f=Object.freeze({ORDER:t,BITS:a,BYTES:u,MASK:(0,n.bitMask)(a),ZERO:i,ONE:s,create:e=>h(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("Invalid field element: expected bigint, got "+typeof e);return i<=e&&e<t},is0:t=>t===i,isOdd:t=>(t&s)===s,neg:e=>h(-e,t),eql:(t,e)=>t===e,sqr:e=>h(e*e,t),add:(e,r)=>h(e+r,t),sub:(e,r)=>h(e-r,t),mul:(e,r)=>h(e*r,t),pow:(t,e)=>m(f,t,e),div:(e,r)=>h(e*d(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>d(e,t),sqrt:o.sqrt||(t=>c(f,t)),invertBatch:t=>b(f,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?(0,n.numberToBytesLE)(t,u):(0,n.numberToBytesBE)(t,u),fromBytes:t=>{if(t.length!==u)throw new Error(`Fp.fromBytes: expected ${u}, got ${t.length}`);return r?(0,n.bytesToNumberLE)(t):(0,n.bytesToNumberBE)(t)}});return Object.freeze(f)},e.FpSqrtOdd=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)},e.FpSqrtEven=function(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r},e.hashToPrivateScalar=function(t,e,r=!1){const i=(t=(0,n.ensureBytes)("privateHash",t)).length,o=v(e).nByteLength+8;if(o<24||i<o||i>1024)throw new Error(`hashToPrivateScalar: expected ${o}-1024 bytes of input, got ${i}`);return h(r?(0,n.bytesToNumberLE)(t):(0,n.bytesToNumberBE)(t),e-s)+s}},5163:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.poseidon=e.splitConstants=e.validateOpts=void 0;const n=r(9229);function i(t){const{Fp:e}=t;(0,n.validateField)(e);for(const e of["t","roundsFull","roundsPartial"])if("number"!=typeof t[e]||!Number.isSafeInteger(t[e]))throw new Error(`Poseidon: invalid param ${e}=${t[e]} (${typeof t[e]})`);if(void 0!==t.reversePartialPowIdx&&"boolean"!=typeof t.reversePartialPowIdx)throw new Error(`Poseidon: invalid param reversePartialPowIdx=${t.reversePartialPowIdx}`);let r=t.sboxPower;if(void 0===r&&(r=5),"number"!=typeof r||!Number.isSafeInteger(r))throw new Error(`Poseidon wrong sboxPower=${r}`);const i=BigInt(r);let s=t=>(0,n.FpPow)(e,t,i);if(3===r?s=t=>e.mul(e.sqrN(t),t):5===r&&(s=t=>e.mul(e.sqrN(e.sqrN(t)),t)),t.roundsFull%2!=0)throw new Error(`Poseidon roundsFull is not even: ${t.roundsFull}`);const o=t.roundsFull+t.roundsPartial;if(!Array.isArray(t.roundConstants)||t.roundConstants.length!==o)throw new Error("Poseidon: wrong round constants");const a=t.roundConstants.map((r=>{if(!Array.isArray(r)||r.length!==t.t)throw new Error(`Poseidon wrong round constants: ${r}`);return r.map((t=>{if("bigint"!=typeof t||!e.isValid(t))throw new Error(`Poseidon wrong round constant=${t}`);return e.create(t)}))}));if(!Array.isArray(t.mds)||t.mds.length!==t.t)throw new Error("Poseidon: wrong MDS matrix");const u=t.mds.map((r=>{if(!Array.isArray(r)||r.length!==t.t)throw new Error(`Poseidon MDS matrix row: ${r}`);return r.map((t=>{if("bigint"!=typeof t)throw new Error(`Poseidon MDS matrix value=${t}`);return e.create(t)}))}));return Object.freeze({...t,rounds:o,sboxFn:s,roundConstants:a,mds:u})}e.validateOpts=i,e.splitConstants=function(t,e){if("number"!=typeof e)throw new Error("poseidonSplitConstants: wrong t");if(!Array.isArray(t)||t.length%e)throw new Error("poseidonSplitConstants: wrong rc");const r=[];let n=[];for(let i=0;i<t.length;i++)n.push(t[i]),n.length===e&&(r.push(n),n=[]);return r},e.poseidon=function(t){const{t:e,Fp:r,rounds:n,sboxFn:s,reversePartialPowIdx:o}=i(t),a=Math.floor(t.roundsFull/2),u=o?e-1:0,c=(e,n,i)=>(e=e.map(((e,n)=>r.add(e,t.roundConstants[i][n]))),n?e=e.map((t=>s(t))):e[u]=s(e[u]),e=t.mds.map((t=>t.reduce(((t,n,i)=>r.add(t,r.mulN(n,e[i]))),r.ZERO)))),f=function(i){if(!Array.isArray(i)||i.length!==e)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${e})`);i=i.map((t=>{if("bigint"!=typeof t)throw new Error(`Poseidon: wrong value=${t} (${typeof t})`);return r.create(t)}));let s=0;for(let t=0;t<a;t++)i=c(i,!0,s++);for(let e=0;e<t.roundsPartial;e++)i=c(i,!1,s++);for(let t=0;t<a;t++)i=c(i,!0,s++);if(s!==n)throw new Error(`Poseidon: wrong number of rounds: last round=${s}, total=${n}`);return i};return f.roundConstants=t.roundConstants,f}},7883:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateObject=e.createHmacDrbg=e.bitMask=e.bitSet=e.bitGet=e.bitLen=e.utf8ToBytes=e.equalBytes=e.concatBytes=e.ensureBytes=e.numberToVarBytesBE=e.numberToBytesLE=e.numberToBytesBE=e.bytesToNumberLE=e.bytesToNumberBE=e.hexToBytes=e.hexToNumber=e.numberToHexUnpadded=e.bytesToHex=void 0;const r=BigInt(0),n=BigInt(1),i=BigInt(2),s=t=>t instanceof Uint8Array,o=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function a(t){if(!s(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=o[t[r]];return e}function u(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function c(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}function f(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);const e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){const n=2*r,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");e[r]=s}return e}function h(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!s(t))throw new Error("Uint8Array expected");e.set(t,r),r+=t.length})),e}e.bytesToHex=a,e.numberToHexUnpadded=u,e.hexToNumber=c,e.hexToBytes=f,e.bytesToNumberBE=function(t){return c(a(t))},e.bytesToNumberLE=function(t){if(!s(t))throw new Error("Uint8Array expected");return c(a(Uint8Array.from(t).reverse()))},e.numberToBytesBE=(t,e)=>f(t.toString(16).padStart(2*e,"0")),e.numberToBytesLE=(t,r)=>(0,e.numberToBytesBE)(t,r).reverse(),e.numberToVarBytesBE=t=>f(u(t)),e.ensureBytes=function(t,e,r){let n;if("string"==typeof e)try{n=f(e)}catch(r){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${r}`)}else{if(!s(e))throw new Error(`${t} must be hex string or Uint8Array`);n=Uint8Array.from(e)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n},e.concatBytes=h,e.equalBytes=function(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},e.utf8ToBytes=function(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return(new TextEncoder).encode(t)},e.bitLen=function(t){let e;for(e=0;t>r;t>>=n,e+=1);return e},e.bitGet=(t,e)=>t>>BigInt(e)&n,e.bitSet=(t,e,i)=>t|(i?n:r)<<BigInt(e),e.bitMask=t=>(i<<BigInt(t-1))-n;const l=t=>new Uint8Array(t),d=t=>Uint8Array.from(t);e.createHmacDrbg=function(t,e,r){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=l(t),i=l(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...t)=>r(i,n,...t),u=(t=l())=>{i=a(d([0]),t),n=a(),0!==t.length&&(i=a(d([1]),t),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const r=[];for(;t<e;){n=a();const e=n.slice();r.push(e),t+=n.length}return h(...r)};return(t,e)=>{let r;for(o(),u(t);!(r=e(c()));)u();return o(),r}};const p={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};e.validateObject=function(t,e,r={}){const n=(e,r,n)=>{const i=p[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const s=t[e];if(!(n&&void 0===s||i(s,t)))throw new Error(`Invalid param ${String(e)}=${s} (${typeof s}), expected ${r}`)};for(const[t,r]of Object.entries(e))n(t,r,!1);for(const[t,e]of Object.entries(r))n(t,e,!0);return t}},253:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.mapToCurveSimpleSWU=e.SWUFpSqrtRatio=e.weierstrass=e.weierstrassPoints=e.DER=void 0;const o=s(r(9229)),a=s(r(7883)),u=r(7883),c=r(6744),{bytesToNumberBE:f,hexToBytes:h}=a;e.DER={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){const{Err:r}=e.DER;if(t.length<2||2!==t[0])throw new r("Invalid signature integer tag");const n=t[1],i=t.subarray(2,n+2);if(!n||i.length!==n)throw new r("Invalid signature integer: wrong length");if(128&i[0])throw new r("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new r("Invalid signature integer: unnecessary leading zero");return{d:f(i),l:t.subarray(n+2)}},toSig(t){const{Err:r}=e.DER,n="string"==typeof t?h(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let i=n.length;if(i<2||48!=n[0])throw new r("Invalid signature tag");if(n[1]!==i-2)throw new r("Invalid signature: incorrect length");const{d:s,l:o}=e.DER._parseInt(n.subarray(2)),{d:a,l:u}=e.DER._parseInt(o);if(u.length)throw new r("Invalid signature: left bytes after parsing");return{r:s,s:a}},hexFromSig(t){const e=t=>8&Number.parseInt(t[0],16)?"00"+t:t,r=t=>{const e=t.toString(16);return 1&e.length?`0${e}`:e},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}};const l=BigInt(0),d=BigInt(1),p=BigInt(2),g=BigInt(3),y=BigInt(4);function m(t){const e=function(t){const e=(0,c.validateBasic)(t);a.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,n=e.toBytes||((t,e,n)=>{const i=e.toAffine();return a.concatBytes(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=e.fromBytes||(t=>{const e=t.subarray(1);return{x:r.fromBytes(e.subarray(0,r.BYTES)),y:r.fromBytes(e.subarray(r.BYTES,2*r.BYTES))}});function s(t){const{a:n,b:i}=e,s=r.sqr(t),o=r.mul(s,t);return r.add(r.add(o,r.mul(t,n)),i)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function f(t){return"bigint"==typeof t&&l<t&&t<e.n}function h(t){if(!f(t))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function p(t){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:s}=e;if(r&&"bigint"!=typeof t){if(t instanceof Uint8Array&&(t=a.bytesToHex(t)),"string"!=typeof t||!r.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*n,"0")}let c;try{c="bigint"==typeof t?t:a.bytesToNumberBE((0,u.ensureBytes)("private key",t,n))}catch(e){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof t}`)}return i&&(c=o.mod(c,s)),h(c),c}const y=new Map;function m(t){if(!(t instanceof b))throw new Error("ProjectivePoint expected")}class b{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw new Error("x required");if(null==e||!r.isValid(e))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(t){const{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw new Error("invalid affine point");if(t instanceof b)throw new Error("projective point not allowed");const i=t=>r.eql(t,r.ZERO);return i(e)&&i(n)?b.ZERO:new b(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(b.fromAffine)}static fromHex(t){const e=b.fromAffine(i((0,u.ensureBytes)("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return b.BASE.multiply(p(t))}_setWindowSize(t){this._WINDOW_SIZE=t,y.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:t,y:n}=this.toAffine();if(!r.isValid(t)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),o=s(t);if(!r.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){m(t);const{px:e,py:n,pz:i}=this,{px:s,py:o,pz:a}=t,u=r.eql(r.mul(e,a),r.mul(s,i)),c=r.eql(r.mul(n,a),r.mul(o,i));return u&&c}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){const{a:t,b:n}=e,i=r.mul(n,g),{px:s,py:o,pz:a}=this;let u=r.ZERO,c=r.ZERO,f=r.ZERO,h=r.mul(s,s),l=r.mul(o,o),d=r.mul(a,a),p=r.mul(s,o);return p=r.add(p,p),f=r.mul(s,a),f=r.add(f,f),u=r.mul(t,f),c=r.mul(i,d),c=r.add(u,c),u=r.sub(l,c),c=r.add(l,c),c=r.mul(u,c),u=r.mul(p,u),f=r.mul(i,f),d=r.mul(t,d),p=r.sub(h,d),p=r.mul(t,p),p=r.add(p,f),f=r.add(h,h),h=r.add(f,h),h=r.add(h,d),h=r.mul(h,p),c=r.add(c,h),d=r.mul(o,a),d=r.add(d,d),h=r.mul(d,p),u=r.sub(u,h),f=r.mul(d,l),f=r.add(f,f),f=r.add(f,f),new b(u,c,f)}add(t){m(t);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:u}=t;let c=r.ZERO,f=r.ZERO,h=r.ZERO;const l=e.a,d=r.mul(e.b,g);let p=r.mul(n,o),y=r.mul(i,a),v=r.mul(s,u),w=r.add(n,i),S=r.add(o,a);w=r.mul(w,S),S=r.add(p,y),w=r.sub(w,S),S=r.add(n,s);let E=r.add(o,u);return S=r.mul(S,E),E=r.add(p,v),S=r.sub(S,E),E=r.add(i,s),c=r.add(a,u),E=r.mul(E,c),c=r.add(y,v),E=r.sub(E,c),h=r.mul(l,S),c=r.mul(d,v),h=r.add(c,h),c=r.sub(y,h),h=r.add(y,h),f=r.mul(c,h),y=r.add(p,p),y=r.add(y,p),v=r.mul(l,v),S=r.mul(d,S),y=r.add(y,v),v=r.sub(p,v),v=r.mul(l,v),S=r.add(S,v),p=r.mul(y,S),f=r.add(f,p),p=r.mul(E,S),c=r.mul(w,c),c=r.sub(c,p),p=r.mul(w,y),h=r.mul(E,h),h=r.add(h,p),new b(c,f,h)}subtract(t){return this.add(t.negate())}is0(){return this.equals(b.ZERO)}wNAF(t){return w.wNAFCached(this,y,t,(t=>{const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(b.fromAffine)}))}multiplyUnsafe(t){const n=b.ZERO;if(t===l)return n;if(h(t),t===d)return this;const{endo:i}=e;if(!i)return w.unsafeLadder(this,t);let{k1neg:s,k1:o,k2neg:a,k2:u}=i.splitScalar(t),c=n,f=n,p=this;for(;o>l||u>l;)o&d&&(c=c.add(p)),u&d&&(f=f.add(p)),p=p.double(),o>>=d,u>>=d;return s&&(c=c.negate()),a&&(f=f.negate()),f=new b(r.mul(f.px,i.beta),f.py,f.pz),c.add(f)}multiply(t){h(t);let n,i,s=t;const{endo:o}=e;if(o){const{k1neg:t,k1:e,k2neg:a,k2:u}=o.splitScalar(s);let{p:c,f}=this.wNAF(e),{p:h,f:l}=this.wNAF(u);c=w.constTimeNegate(t,c),h=w.constTimeNegate(a,h),h=new b(r.mul(h.px,o.beta),h.py,h.pz),n=c.add(h),i=f.add(l)}else{const{p:t,f:e}=this.wNAF(s);n=t,i=e}return b.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(t,e,r){const n=b.BASE,i=(t,e)=>e!==l&&e!==d&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),s=i(this,e).add(i(t,r));return s.is0()?void 0:s}toAffine(t){const{px:e,py:n,pz:i}=this,s=this.is0();null==t&&(t=s?r.ONE:r.inv(i));const o=r.mul(e,t),a=r.mul(n,t),u=r.mul(i,t);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(u,r.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:t,isTorsionFree:r}=e;if(t===d)return!0;if(r)return r(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:r}=e;return t===d?this:r?r(b,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),n(b,this,t)}toHex(t=!0){return a.bytesToHex(this.toRawBytes(t))}}b.BASE=new b(e.Gx,e.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);const v=e.nBitLength,w=(0,c.wNAF)(b,e.endo?Math.ceil(v/2):v);return{CURVE:e,ProjectivePoint:b,normPrivateKeyToScalar:p,weierstrassEquation:s,isWithinCurveOrder:f}}function b(t,e){const r=t.ORDER;let n=l;for(let t=r-d;t%p===l;t/=p)n+=d;const i=n,s=p<<i-d-d,o=s*p,a=(r-d)/o,u=(a-d)/p,c=o-d,f=s,h=t.pow(e,a),m=t.pow(e,(a+d)/p);let b=(e,r)=>{let n=h,s=t.pow(r,c),o=t.sqr(s);o=t.mul(o,r);let a=t.mul(e,o);a=t.pow(a,u),a=t.mul(a,s),s=t.mul(a,r),o=t.mul(a,e);let l=t.mul(o,s);a=t.pow(l,f);let g=t.eql(a,t.ONE);s=t.mul(o,m),a=t.mul(l,n),o=t.cmov(s,o,g),l=t.cmov(a,l,g);for(let e=i;e>d;e--){let r=e-p;r=p<<r-d;let i=t.pow(l,r);const a=t.eql(i,t.ONE);s=t.mul(o,n),n=t.mul(n,n),i=t.mul(l,n),o=t.cmov(s,o,a),l=t.cmov(i,l,a)}return{isValid:g,value:o}};if(t.ORDER%y===g){const r=(t.ORDER-g)/y,n=t.sqrt(t.neg(e));b=(e,i)=>{let s=t.sqr(i);const o=t.mul(e,i);s=t.mul(s,o);let a=t.pow(s,r);a=t.mul(a,o);const u=t.mul(a,n),c=t.mul(t.sqr(a),i),f=t.eql(c,e);return{isValid:f,value:t.cmov(u,a,f)}}}return b}e.weierstrassPoints=m,e.weierstrass=function(t){const r=function(t){const e=(0,c.validateBasic)(t);return a.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:n,n:i}=r,s=n.BYTES+1,f=2*n.BYTES+1;function h(t){return o.mod(t,i)}function p(t){return o.invert(t,i)}const{ProjectivePoint:g,normPrivateKeyToScalar:y,weierstrassEquation:b,isWithinCurveOrder:v}=m({...r,toBytes(t,e,r){const i=e.toAffine(),s=n.toBytes(i.x),o=a.concatBytes;return r?o(Uint8Array.from([e.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(t){const e=t.length,r=t[0],i=t.subarray(1);if(e!==s||2!==r&&3!==r){if(e===f&&4===r)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${e} was invalid. Expected ${s} compressed bytes or ${f} uncompressed bytes`)}{const t=a.bytesToNumberBE(i);if(!(l<(o=t)&&o<n.ORDER))throw new Error("Point is not on curve");const e=b(t);let s=n.sqrt(e);return 1==(1&r)!=((s&d)===d)&&(s=n.neg(s)),{x:t,y:s}}var o}}),w=t=>a.bytesToHex(a.numberToBytesBE(t,r.nByteLength));function S(t){return t>i>>d}const E=(t,e,r)=>a.bytesToNumberBE(t.slice(e,r));class x{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){const e=r.nByteLength;return t=(0,u.ensureBytes)("compactSignature",t,2*e),new x(E(t,0,e),E(t,e,2*e))}static fromDER(t){const{r,s:n}=e.DER.toSig((0,u.ensureBytes)("DER",t));return new x(r,n)}assertValidity(){if(!v(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!v(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new x(this.r,this.s,t)}recoverPublicKey(t){const{r:e,s:i,recovery:s}=this,o=I((0,u.ensureBytes)("msgHash",t));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const a=2===s||3===s?e+r.n:e;if(a>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const c=0==(1&s)?"02":"03",f=g.fromHex(c+w(a)),l=p(a),d=h(-o*l),y=h(i*l),m=g.BASE.multiplyAndAddUnsafe(f,d,y);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return a.hexToBytes(this.toDERHex())}toDERHex(){return e.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return a.hexToBytes(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const _={isValidPrivateKey(t){try{return y(t),!0}catch(t){return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const t=r.randomBytes(n.BYTES+8),e=o.hashToPrivateScalar(t,i);return a.numberToBytesBE(e,r.nByteLength)},precompute:(t=8,e=g.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function A(t){const e=t instanceof Uint8Array,r="string"==typeof t,n=(e||r)&&t.length;return e?n===s||n===f:r?n===2*s||n===2*f:t instanceof g}const P=r.bits2int||function(t){const e=a.bytesToNumberBE(t),n=8*t.length-r.nBitLength;return n>0?e>>BigInt(n):e},I=r.bits2int_modN||function(t){return h(P(t))},T=a.bitMask(r.nBitLength);function O(t){if("bigint"!=typeof t)throw new Error("bigint expected");if(!(l<=t&&t<T))throw new Error(`bigint expected < 2^${r.nBitLength}`);return a.numberToBytesBE(t,r.nByteLength)}const B={lowS:r.lowS,prehash:!1},k={lowS:r.lowS,prehash:!1};return g.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function(t,e=!0){return g.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(A(t))throw new Error("first arg must be private key");if(!A(e))throw new Error("second arg must be public key");return g.fromHex(e).multiply(y(t)).toRawBytes(r)},sign:function(t,e,i=B){const{seed:s,k2sig:o}=function(t,e,i=B){if(["recovered","canonical"].some((t=>t in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:o}=r;let{lowS:c,prehash:f,extraEntropy:m}=i;null==c&&(c=!0),t=(0,u.ensureBytes)("msgHash",t),f&&(t=(0,u.ensureBytes)("prehashed msgHash",s(t)));const b=I(t),w=y(e),E=[O(w),O(b)];if(null!=m){const t=!0===m?o(n.BYTES):m;E.push((0,u.ensureBytes)("extraEntropy",t,n.BYTES))}const _=a.concatBytes(...E),A=b;return{seed:_,k2sig:function(t){const e=P(t);if(!v(e))return;const r=p(e),n=g.BASE.multiply(e).toAffine(),i=h(n.x);if(i===l)return;const s=h(r*h(A+i*w));if(s===l)return;let o=(n.x===i?0:2)|Number(n.y&d),a=s;return c&&S(s)&&(a=function(t){return S(t)?h(-t):t}(s),o^=1),new x(i,a,o)}}}(t,e,i),c=r;return a.createHmacDrbg(c.hash.outputLen,c.nByteLength,c.hmac)(s,o)},verify:function(t,n,i,s=k){const o=t;if(n=(0,u.ensureBytes)("msgHash",n),i=(0,u.ensureBytes)("publicKey",i),"strict"in s)throw new Error("options.strict was renamed to lowS");const{lowS:a,prehash:c}=s;let f,l;try{if("string"==typeof o||o instanceof Uint8Array)try{f=x.fromDER(o)}catch(t){if(!(t instanceof e.DER.Err))throw t;f=x.fromCompact(o)}else{if("object"!=typeof o||"bigint"!=typeof o.r||"bigint"!=typeof o.s)throw new Error("PARSE");{const{r:t,s:e}=o;f=new x(t,e)}}l=g.fromHex(i)}catch(t){if("PARSE"===t.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(a&&f.hasHighS())return!1;c&&(n=r.hash(n));const{r:d,s:y}=f,m=I(n),b=p(y),v=h(m*b),w=h(d*b),S=g.BASE.multiplyAndAddUnsafe(l,v,w)?.toAffine();return!!S&&h(S.x)===d},ProjectivePoint:g,Signature:x,utils:_}},e.SWUFpSqrtRatio=b,e.mapToCurveSimpleSWU=function(t,e){if(o.validateField(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=b(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,u,c,f,h;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),c=t.sqr(a),u=t.mul(c,e.A),s=t.add(s,u),s=t.mul(s,o),c=t.mul(c,a),u=t.mul(c,e.B),s=t.add(s,u),f=t.mul(i,o);const{isValid:l,value:d}=r(s,c);h=t.mul(i,n),h=t.mul(h,d),f=t.cmov(f,o,l),h=t.cmov(h,d,l);const p=t.isOdd(n)===t.isOdd(h);return h=t.cmov(t.neg(h),h,p),f=t.div(f,a),{x:f,y:h}}}},1752:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.bytesToHex=e.hexToBytes=e.stark=e.secp256k1=void 0,e.secp256k1=s(r(7781)),e.stark=s(r(8602));var o=r(7883);Object.defineProperty(e,"hexToBytes",{enumerable:!0,get:function(){return o.hexToBytes}}),Object.defineProperty(e,"bytesToHex",{enumerable:!0,get:function(){return o.bytesToHex}})},7781:function(t,e,r){"use strict";var n,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.schnorr=e.secp256k1=void 0;const a=r(3061),u=r(8089),c=r(9229),f=r(253),h=r(7883),l=o(r(5222)),d=r(196),p=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),g=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),y=BigInt(1),m=BigInt(2),b=(t,e)=>(t+e/m)/e;function v(t){const e=p,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),f=t*t*t%e,h=f*f*t%e,l=(0,c.pow2)(h,r,e)*h%e,d=(0,c.pow2)(l,r,e)*h%e,g=(0,c.pow2)(d,m,e)*f%e,y=(0,c.pow2)(g,i,e)*g%e,b=(0,c.pow2)(y,s,e)*y%e,v=(0,c.pow2)(b,a,e)*b%e,S=(0,c.pow2)(v,u,e)*v%e,E=(0,c.pow2)(S,a,e)*b%e,x=(0,c.pow2)(E,r,e)*h%e,_=(0,c.pow2)(x,o,e)*y%e,A=(0,c.pow2)(_,n,e)*f%e,P=(0,c.pow2)(A,m,e);if(!w.eql(w.sqr(P),t))throw new Error("Cannot find square root");return P}const w=(0,c.Field)(p,void 0,void 0,{sqrt:v});e.secp256k1=(0,d.createCurve)({a:BigInt(0),b:BigInt(7),Fp:w,n:g,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=g,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-y*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=b(s*t,e),u=b(-n*t,e);let f=(0,c.mod)(t-a*r-u*i,e),h=(0,c.mod)(-a*n-u*s,e);const l=f>o,d=h>o;if(l&&(f=e-f),d&&(h=e-h),f>o||h>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:l,k1:f,k2neg:d,k2:h}}}},a.sha256);const S=BigInt(0),E=t=>"bigint"==typeof t&&S<t&&t<p,x={};function _(t,...e){let r=x[t];if(void 0===r){const e=(0,a.sha256)(Uint8Array.from(t,(t=>t.charCodeAt(0))));r=(0,h.concatBytes)(e,e),x[t]=r}return(0,a.sha256)((0,h.concatBytes)(r,...e))}const A=t=>t.toRawBytes(!0).slice(1),P=t=>(0,h.numberToBytesBE)(t,32),I=t=>(0,c.mod)(t,p),T=t=>(0,c.mod)(t,g),O=e.secp256k1.ProjectivePoint;function B(t){let r=e.secp256k1.utils.normPrivateKeyToScalar(t),n=O.fromPrivateKey(r);return{scalar:n.hasEvenY()?r:T(-r),bytes:A(n)}}function k(t){if(!E(t))throw new Error("bad x: need 0 < x < p");const e=I(t*t);let r=v(I(e*t+BigInt(7)));r%m!==S&&(r=I(-r));const n=new O(t,r,y);return n.assertValidity(),n}function F(...t){return T((0,h.bytesToNumberBE)(_("BIP0340/challenge",...t)))}function R(t,e,r){const n=(0,h.ensureBytes)("signature",t,64),i=(0,h.ensureBytes)("message",e),s=(0,h.ensureBytes)("publicKey",r,32);try{const t=k((0,h.bytesToNumberBE)(s)),e=(0,h.bytesToNumberBE)(n.subarray(0,32));if(!E(e))return!1;const r=(0,h.bytesToNumberBE)(n.subarray(32,64));if(!("bigint"==typeof(c=r)&&S<c&&c<g))return!1;const f=F(P(e),A(t),i),l=(o=t,a=r,u=T(-f),O.BASE.multiplyAndAddUnsafe(o,a,u));return!(!l||!l.hasEvenY()||l.toAffine().x!==e)}catch(t){return!1}var o,a,u,c}e.schnorr={getPublicKey:function(t){return B(t).bytes},sign:function(t,e,r=(0,u.randomBytes)(32)){const n=(0,h.ensureBytes)("message",t),{bytes:i,scalar:s}=B(e),o=(0,h.ensureBytes)("auxRand",r,32),a=P(s^(0,h.bytesToNumberBE)(_("BIP0340/aux",o))),c=_("BIP0340/nonce",a,i,n),f=T((0,h.bytesToNumberBE)(c));if(f===S)throw new Error("sign failed: k is zero");const{bytes:l,scalar:d}=B(f),p=F(l,i,n),g=new Uint8Array(64);if(g.set(l,0),g.set(P(T(d+p*s)),32),!R(g,n,i))throw new Error("sign: Invalid signature produced");return g},verify:R,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:k,pointToBytes:A,numberToBytesBE:h.numberToBytesBE,bytesToNumberBE:h.bytesToNumberBE,taggedHash:_,mod:c.mod}};const N=l.isogenyMap(w,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((t=>t.map((t=>BigInt(t)))))),C=(0,f.mapToCurveSimpleSWU)(w,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:w.create(BigInt("-11"))});n=l.createHasher(e.secp256k1.ProjectivePoint,(t=>{const{x:e,y:r}=C(w.create(t[0]));return N(e,r)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:w.ORDER,m:1,k:128,expand:"xmd",hash:a.sha256}),e.hashToCurve=n.hashToCurve,e.encodeToCurve=n.encodeToCurve},8602:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.poseidonHashMany=e.poseidonHashSingle=e.poseidonHashFunc=e.poseidonHash=e.poseidonSmall=e.poseidonCreate=e.poseidonBasic=e._poseidonMDS=e.Fp251=e.Fp253=e.keccak=e.computeHashOnElements=e.hashChain=e.pedersen=e.getAccountPath=e.ethSigToPrivate=e.getStarkKey=e.grindKey=e.utils=e.Signature=e.ProjectivePoint=e.CURVE=e.verify=e.sign=e.getSharedSecret=e.getPublicKey=e._starkCurve=void 0;const o=r(5426),a=r(3061),u=r(8089),c=r(9229),f=r(5163),h=r(253),l=s(r(7883)),d=r(196),p=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583");function g(t){for(;0===t[0];)t=t.subarray(1);const e=8*t.length-252,r=l.bytesToNumberBE(t);return e>0?r>>BigInt(e):r}function y(t){return"string"==typeof t&&1&(t=P(t)).length&&(t="0"+t),l.hexToBytes(t)}const m=(0,h.weierstrass)({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:(0,c.Field)(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:p,nBitLength:252,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...(0,d.getHash)(a.sha256),bits2int:g,bits2int_modN:t=>{const e=l.bytesToNumberBE(t).toString(16);return 63===e.length&&(t=y(e+"0")),(0,c.mod)(g(t),p)}});function b(t){return l.ensureBytes("","string"==typeof t?y(t):t)}function v(t){return l.bytesToHex(b(t)).padStart(64,"0")}function w(t,e=!1){return m.getPublicKey(v(t),e)}e._starkCurve=m,e.getPublicKey=w,e.getSharedSecret=function(t,e){return m.getSharedSecret(v(t),e)},e.sign=function(t,e,r){return m.sign(b(t),v(e),r)},e.verify=function(t,e,r){const n=t instanceof x?t:b(t);return m.verify(n,b(e),b(r))};const{CURVE:S,ProjectivePoint:E,Signature:x,utils:_}=m;function A(t){return`0x${l.bytesToHex(t.subarray(1)).replace(/^0+/gm,"")}`}function P(t){return t.replace(/^0x/i,"")}function I(t){const e=b(t),r=2n**256n,n=r-(0,c.mod)(r,p);for(let t=0;;t++){const r=H(l.concatBytes(e,l.numberToVarBytesBE(BigInt(t))));if(r<n)return(0,c.mod)(r,p).toString(16);if(1e5===t)throw new Error("grindKey is broken: tried 100k vals")}}e.CURVE=S,e.ProjectivePoint=E,e.Signature=x,e.utils=_,e.grindKey=I,e.getStarkKey=function(t){return A(w(t,!0))},e.ethSigToPrivate=function(t){if(130!==(t=P(t)).length)throw new Error("Wrong ethereum signature");return I(t.substring(0,64))};const T=2n**31n-1n,O=t=>Number(t&T);e.getAccountPath=function(t,e,r,n){const i=O(H(t)),s=O(H(e)),o=l.hexToNumber(P(r));return`m/2645'/${i}'/${s}'/${O(o)}'/${O(o>>31n)}'/${n}`};const B=[new E(2089986280348253421170679821480865132823066470938446095505822317253594081284n,1713931329540660377023406109199410414810705867260802078187082345529207694986n,1n),new E(996781205833008774514500082376783249102396023663454813447423147977397232763n,1668503676786377725805489344771023921079126552019160156920634619255970485781n,1n),new E(2251563274489750535117886426533222435294046428347329203627021249169616184184n,1798716007562728905295480679789526322175868328062420237419143593021674992973n,1n),new E(2138414695194151160943305727036575959195309218611738193261179310511854807447n,113410276730064486255102093846540133784865286929052426931474106396135072156n,1n),new E(2379962749567351885752724891227938183011949129833673362440656643086021394946n,776496453633298175483985398648758586525933812536653089401905292063708816422n,1n)];function k(t,e){const r=[];let n=t;for(let t=0;t<248;t++)r.push(n),n=n.double();n=e;for(let t=0;t<4;t++)r.push(n),n=n.double();return r}const F=k(B[1],B[2]),R=k(B[3],B[4]);function N(t){let e;if("bigint"==typeof t)e=t;else if("number"==typeof t){if(!Number.isSafeInteger(t))throw new Error(`Invalid pedersenArg: ${t}`);e=BigInt(t)}else e=l.bytesToNumberBE(b(t));if(!(0n<=e&&e<m.CURVE.Fp.ORDER))throw new Error(`PedersenArg should be 0 <= value < CURVE.P: ${e}`);return e}function C(t,e,r){let n=N(e);for(let e=0;e<252;e++){const i=r[e];if(i.equals(t))throw new Error("Same point");0n!==(1n&n)&&(t=t.add(i)),n>>=1n}return t}function M(t,e){let r=B[0];return r=C(r,t,F),r=C(r,e,R),A(r.toRawBytes(!0))}e.pedersen=M,e.hashChain=function(t,e=M){if(!Array.isArray(t)||t.length<1)throw new Error("data should be array of at least 1 element");return 1===t.length?`0x${N(t[0]).toString(16)}`:Array.from(t).reverse().reduce(((t,r)=>e(r,t)))},e.computeHashOnElements=(t,e=M)=>[0,...t,t.length].reduce(((t,r)=>e(t,r)));const D=l.bitMask(250);e.keccak=t=>l.bytesToNumberBE((0,o.keccak_256)(t))&D;const H=t=>l.bytesToNumberBE((0,a.sha256)(t));function j(t,e,r){const n=t.fromBytes((0,a.sha256)((0,u.utf8ToBytes)(`${e}${r}`)));return t.create(n)}function L(t,e,r,n=0){const i=[],s=[];for(let o=0;o<r;o++)i.push(j(t,`${e}x`,n*r+o)),s.push(j(t,`${e}y`,n*r+o));if(new Set([...i,...s]).size!==2*r)throw new Error("X and Y values are not distinct");return i.map((e=>s.map((r=>t.inv(t.sub(e,r))))))}e.Fp253=(0,c.Field)(BigInt("14474011154664525231415395255581126252639794253786371766033694892385558855681")),e.Fp251=(0,c.Field)(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481")),e._poseidonMDS=L;const U=[[3,1,1],[1,-1,1],[1,1,-2]].map((t=>t.map(BigInt)));function K(t,e){if((0,c.validateField)(t.Fp),!Number.isSafeInteger(t.rate)||!Number.isSafeInteger(t.capacity))throw new Error(`Wrong poseidon opts: ${t}`);const r=t.rate+t.capacity,n=t.roundsFull+t.roundsPartial,i=[];for(let e=0;e<n;e++){const n=[];for(let i=0;i<r;i++)n.push(j(t.Fp,"Hades",r*e+i));i.push(n)}const s=(0,f.poseidon)({...t,t:r,sboxPower:3,reversePartialPowIdx:!0,mds:e,roundConstants:i});return s.m=r,s.rate=t.rate,s.capacity=t.capacity,s}function V(t,r,n=e.poseidonSmall){return n([t,r,2n])[0]}e.poseidonBasic=K,e.poseidonCreate=function(t,e=0){const r=t.rate+t.capacity;if(!Number.isSafeInteger(e))throw new Error(`Wrong mdsAttempt=${e}`);return K(t,L(t.Fp,"HadesMDS",r,e))},e.poseidonSmall=K({Fp:e.Fp251,rate:2,capacity:1,roundsFull:8,roundsPartial:83},U),e.poseidonHash=V,e.poseidonHashFunc=function(t,r,n=e.poseidonSmall){return l.numberToVarBytesBE(V(l.bytesToNumberBE(t),l.bytesToNumberBE(r),n))},e.poseidonHashSingle=function(t,r=e.poseidonSmall){return r([t,0n,1n])[0]},e.poseidonHashMany=function(t,r=e.poseidonSmall){const{m:n,rate:i}=r;if(!Array.isArray(t))throw new Error("bigint array expected in values");const s=Array.from(t);for(s.push(1n);s.length%i!=0;)s.push(0n);let o=new Array(n).fill(0n);for(let t=0;t<s.length;t+=i){for(let e=0;e<i;e++)o[e]+=s[t+e];o=r(o)}return o[0]}},6992:function(t,e,r){"use strict";var n=r(8764).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.loadUncompressedPublicKey=e.loadCompressedPublicKey=e.publicKeyConvert=e.publicKeyCreate=e.publicKeyVerify=e.privateKeyVerify=e.loadPublicKey=e.recover=e.verifyWithNoRecovery=e.verify=e.getV=e.sign=void 0;const u=new(o(r(7022)).ec)("secp256k1"),c=r(4047),f=a(r(3550));function h(t,e,r,i){const s={r:Array.from(t.slice(0,32)),s:Array.from(t.slice(32,64))},o=new f.default(s.r),a=new f.default(s.s);if(o.cmp(u.curve.n)>=0||a.cmp(u.curve.n)>=0)return null;if(o.isZero()||a.isZero())return null;let c;try{c=u.recoverPubKey(Array.from(r),s,e,null)}catch(t){return null}return n.from(c.encode(null,i))}function l(t){const e=n.from(t),r=e[0];switch(r){case 2:case 3:return 33!==e.length?null:p(r,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:g(r,e.subarray(1,33),e.subarray(33,65));default:return null}}function d(t,e){const r=l(t);if(null==r)return null;const i=u.keyPair({pub:{x:r.x,y:r.y}}).getPublic();return n.from(i.encode(null,e))}function p(t,e){let r=new f.default(Array.from(e));if(r.cmp(u.curve.p)>=0)return null;const n=r.toRed(u.curve.red);let i=n.redSqr().redIMul(n).redIAdd(u.curve.b).redSqrt();return 3===t!==i.isOdd()&&(i=i.redNeg()),{x:n,y:i}}function g(t,e,r){let n=new f.default(Array.from(e)),i=new f.default(Array.from(r));if(n.cmp(u.curve.p)>=0||i.cmp(u.curve.p)>=0)return null;const s=n.toRed(u.curve.red),o=i.toRed(u.curve.red);if((6===t||7===t)&&o.isOdd()!==(7===t))return null;const a=s.redSqr().redIMul(s);return o.redSqr().redISub(a.redIAdd(u.curve.b)).isZero()?{x:s,y:o}:null}e.sign=function(t,e,r=!0){const i=u.sign(Array.from(t),n.from(e),{canonical:r});return{signature:i.toBytes(),recovery:i.recoveryParam}},e.getV=function(t,e,r,n,i=!0){const s=l(n);if(null==s)throw new Error("pubkey error");const o=u.keyPair({pub:{x:s.x,y:s.y}}).getPublic();return u.getKeyRecoveryParam(t,{r:e,s:r},o,i)},e.verify=function(t,e,r,n){const i=h(e,r,t,!0);if(null==i)return!1;const s=d(n,!0);return null!=s&&i.equals(s)},e.verifyWithNoRecovery=function(t,e,r){const n=l(r);if(null==n)throw new Error("pubkey error");const i=u.keyPair({pub:{x:n.x,y:n.y}}),s={r:(0,c.toHex)(e.slice(0,32)),s:(0,c.toHex)(e.slice(32,64))};return i.verify(t,s)},e.recover=h,e.loadPublicKey=l,e.privateKeyVerify=function(t){const e=new f.default(Array.from(t));return e.cmp(u.curve.n)<0&&!e.isZero()},e.publicKeyVerify=function(t){return null!==l(t)},e.publicKeyCreate=function(t,e){const r=u.keyFromPrivate(Array.from(t),"bytes").getPublic();return n.from(r.encode(null,e))},e.publicKeyConvert=d,e.loadCompressedPublicKey=p,e.loadUncompressedPublicKey=g},4537:t=>{"use strict";t.exports=function(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,o){r[n]=function(t){if(s)if(s=!1,t)o(t);else{for(var e=new Array(arguments.length-1),r=0;r<e.length;)e[r++]=arguments[r];i.apply(null,e)}};try{t.apply(e||null,r)}catch(t){s&&(s=!1,o(t))}}))}},7419:(t,e)=>{"use strict";var r=e;r.length=function(t){var e=t.length;if(!e)return 0;for(var r=0;--e%4>1&&"="===t.charAt(e);)++r;return Math.ceil(3*t.length)/4-r};for(var n=new Array(64),i=new Array(123),s=0;s<64;)i[n[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(t,e,r){for(var i,s=null,o=[],a=0,u=0;e<r;){var c=t[e++];switch(u){case 0:o[a++]=n[c>>2],i=(3&c)<<4,u=1;break;case 1:o[a++]=n[i|c>>4],i=(15&c)<<2,u=2;break;case 2:o[a++]=n[i|c>>6],o[a++]=n[63&c],u=0}a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0)}return u&&(o[a++]=n[i],o[a++]=61,1===u&&(o[a++]=61)),s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var o="invalid encoding";r.decode=function(t,e,r){for(var n,s=r,a=0,u=0;u<t.length;){var c=t.charCodeAt(u++);if(61===c&&a>1)break;if(void 0===(c=i[c]))throw Error(o);switch(a){case 0:n=c,a=1;break;case 1:e[r++]=n<<2|(48&c)>>4,n=c,a=2;break;case 2:e[r++]=(15&n)<<4|(60&c)>>2,n=c,a=3;break;case 3:e[r++]=(3&n)<<6|c,a=0}}if(1===a)throw Error(o);return r-s},r.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},5124:t=>{"use strict";function e(t,r){"string"==typeof t&&(r=t,t=void 0);var n=[];function i(t){if("string"!=typeof t){var r=s();if(e.verbose&&console.log("codegen: "+r),r="return "+r,t){for(var o=Object.keys(t),a=new Array(o.length+1),u=new Array(o.length),c=0;c<o.length;)a[c]=o[c],u[c]=t[o[c++]];return a[c]=r,Function.apply(null,a).apply(null,u)}return Function(r)()}for(var f=new Array(arguments.length-1),h=0;h<f.length;)f[h]=arguments[++h];if(h=0,t=t.replace(/%([%dfijs])/g,(function(t,e){var r=f[h++];switch(e){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),h!==f.length)throw Error("parameter count mismatch");return n.push(t),i}function s(e){return"function "+(e||r||"")+"("+(t&&t.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=s,i}t.exports=e,e.verbose=!1},9211:t=>{"use strict";function e(){this._listeners={}}t.exports=e,e.prototype.on=function(t,e,r){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:r||this}),this},e.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var r=this._listeners[t],n=0;n<r.length;)r[n].fn===e?r.splice(n,1):++n;return this},e.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<e.length;)e[n].fn.apply(e[n++].ctx,r)}return this}},9054:(t,e,r)=>{"use strict";t.exports=s;var n=r(4537),i=r(7199)("fs");function s(t,e,r){return"function"==typeof e?(r=e,e={}):e||(e={}),r?!e.xhr&&i&&i.readFile?i.readFile(t,(function(n,i){return n&&"undefined"!=typeof XMLHttpRequest?s.xhr(t,e,r):n?r(n):r(null,e.binary?i:i.toString("utf8"))})):s.xhr(t,e,r):n(s,this,t,e)}s.xhr=function(t,e,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(e.binary){var t=n.response;if(!t){t=[];for(var i=0;i<n.responseText.length;++i)t.push(255&n.responseText.charCodeAt(i))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(t):t)}return r(null,n.responseText)}},e.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",t),n.send()}},945:t=>{"use strict";function e(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=128===r[3];function i(t,n,i){e[0]=t,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function s(t,n,i){e[0]=t,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function o(t,n){return r[0]=t[n],r[1]=t[n+1],r[2]=t[n+2],r[3]=t[n+3],e[0]}function a(t,n){return r[3]=t[n],r[2]=t[n+1],r[1]=t[n+2],r[0]=t[n+3],e[0]}t.writeFloatLE=n?i:s,t.writeFloatBE=n?s:i,t.readFloatLE=n?o:a,t.readFloatBE=n?a:o}():function(){function e(t,e,r,n){var i=e<0?1:0;if(i&&(e=-e),0===e)t(1/e>0?0:2147483648,r,n);else if(isNaN(e))t(2143289344,r,n);else if(e>34028234663852886e22)t((i<<31|2139095040)>>>0,r,n);else if(e<11754943508222875e-54)t((i<<31|Math.round(e/1401298464324817e-60))>>>0,r,n);else{var s=Math.floor(Math.log(e)/Math.LN2);t((i<<31|s+127<<23|8388607&Math.round(e*Math.pow(2,-s)*8388608))>>>0,r,n)}}function o(t,e,r){var n=t(e,r),i=2*(n>>31)+1,s=n>>>23&255,o=8388607&n;return 255===s?o?NaN:i*(1/0):0===s?1401298464324817e-60*i*o:i*Math.pow(2,s-150)*(o+8388608)}t.writeFloatLE=e.bind(null,r),t.writeFloatBE=e.bind(null,n),t.readFloatLE=o.bind(null,i),t.readFloatBE=o.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=128===r[7];function i(t,n,i){e[0]=t,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function s(t,n,i){e[0]=t,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function o(t,n){return r[0]=t[n],r[1]=t[n+1],r[2]=t[n+2],r[3]=t[n+3],r[4]=t[n+4],r[5]=t[n+5],r[6]=t[n+6],r[7]=t[n+7],e[0]}function a(t,n){return r[7]=t[n],r[6]=t[n+1],r[5]=t[n+2],r[4]=t[n+3],r[3]=t[n+4],r[2]=t[n+5],r[1]=t[n+6],r[0]=t[n+7],e[0]}t.writeDoubleLE=n?i:s,t.writeDoubleBE=n?s:i,t.readDoubleLE=n?o:a,t.readDoubleBE=n?a:o}():function(){function e(t,e,r,n,i,s){var o=n<0?1:0;if(o&&(n=-n),0===n)t(0,i,s+e),t(1/n>0?0:2147483648,i,s+r);else if(isNaN(n))t(0,i,s+e),t(2146959360,i,s+r);else if(n>17976931348623157e292)t(0,i,s+e),t((o<<31|2146435072)>>>0,i,s+r);else{var a;if(n<22250738585072014e-324)t((a=n/5e-324)>>>0,i,s+e),t((o<<31|a/4294967296)>>>0,i,s+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),t(4503599627370496*(a=n*Math.pow(2,-u))>>>0,i,s+e),t((o<<31|u+1023<<20|1048576*a&1048575)>>>0,i,s+r)}}}function o(t,e,r,n,i){var s=t(n,i+e),o=t(n,i+r),a=2*(o>>31)+1,u=o>>>20&2047,c=4294967296*(1048575&o)+s;return 2047===u?c?NaN:a*(1/0):0===u?5e-324*a*c:a*Math.pow(2,u-1075)*(c+4503599627370496)}t.writeDoubleLE=e.bind(null,r,0,4),t.writeDoubleBE=e.bind(null,n,4,0),t.readDoubleLE=o.bind(null,i,0,4),t.readDoubleBE=o.bind(null,s,4,0)}(),t}function r(t,e,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function n(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=255&t}function i(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function s(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=e(e)},7199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},8626:(t,e)=>{"use strict";var r=e,n=r.isAbsolute=function(t){return/^(?:\/|\w+:)/.test(t)},i=r.normalize=function(t){var e=(t=t.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=n(t),i="";r&&(i=e.shift()+"/");for(var s=0;s<e.length;)".."===e[s]?s>0&&".."!==e[s-1]?e.splice(--s,2):r?e.splice(s,1):++s:"."===e[s]?e.splice(s,1):++s;return i+e.join("/")};r.resolve=function(t,e,r){return r||(e=i(e)),n(e)?e:(r||(t=i(t)),(t=t.replace(/(?:\/|^)[^/]+$/,"")).length?i(t+"/"+e):e)}},6662:t=>{"use strict";t.exports=function(t,e,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(r){if(r<1||r>i)return t(r);o+r>n&&(s=t(n),o=0);var a=e.call(s,o,o+=r);return 7&o&&(o=1+(7|o)),a}}},4997:(t,e)=>{"use strict";var r=e;r.length=function(t){for(var e=0,r=0,n=0;n<t.length;++n)(r=t.charCodeAt(n))<128?e+=1:r<2048?e+=2:55296==(64512&r)&&56320==(64512&t.charCodeAt(n+1))?(++n,e+=4):e+=3;return e},r.read=function(t,e,r){if(r-e<1)return"";for(var n,i=null,s=[],o=0;e<r;)(n=t[e++])<128?s[o++]=n:n>191&&n<224?s[o++]=(31&n)<<6|63&t[e++]:n>239&&n<365?(n=((7&n)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,s[o++]=55296+(n>>10),s[o++]=56320+(1023&n)):s[o++]=(15&n)<<12|(63&t[e++])<<6|63&t[e++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))},r.write=function(t,e,r){for(var n,i,s=r,o=0;o<t.length;++o)(n=t.charCodeAt(o))<128?e[r++]=n:n<2048?(e[r++]=n>>6|192,e[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=t.charCodeAt(o+1)))?(n=65536+((1023&n)<<10)+(1023&i),++o,e[r++]=n>>18|240,e[r++]=n>>12&63|128,e[r++]=n>>6&63|128,e[r++]=63&n|128):(e[r++]=n>>12|224,e[r++]=n>>6&63|128,e[r++]=63&n|128);return r-s}},6090:(t,e)=>{"use strict";function r(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}function n(...t){const e=(t,e)=>r=>t(e(r));return{encode:Array.from(t).reverse().reduce(((t,r)=>t?e(t,r.encode):r.encode),void 0),decode:t.reduce(((t,r)=>t?e(t,r.decode):r.decode),void 0)}}function i(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("alphabet.encode input should be an array of numbers");return e.map((e=>{if(r(e),e<0||e>=t.length)throw new Error(`Digit index outside alphabet: ${e} (alphabet: ${t.length})`);return t[e]}))},decode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw new Error("alphabet.decode input should be array of strings");return e.map((e=>{if("string"!=typeof e)throw new Error(`alphabet.decode: not string element=${e}`);const r=t.indexOf(e);if(-1===r)throw new Error(`Unknown letter: "${e}". Allowed: ${t}`);return r}))}}}function s(t=""){if("string"!=typeof t)throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw new Error("join.encode input should be array of strings");for(let t of e)if("string"!=typeof t)throw new Error(`join.encode: non-string input=${t}`);return e.join(t)},decode:e=>{if("string"!=typeof e)throw new Error("join.decode input should be string");return e.split(t)}}}function o(t,e="="){if(r(t),"string"!=typeof e)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let t of r)if("string"!=typeof t)throw new Error(`padding.encode: non-string input=${t}`);for(;r.length*t%8;)r.push(e);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw new Error("padding.encode input should be array of strings");for(let t of r)if("string"!=typeof t)throw new Error(`padding.decode: non-string input=${t}`);let n=r.length;if(n*t%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if(!((n-1)*t%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function a(t){if("function"!=typeof t)throw new Error("normalize fn should be function");return{encode:t=>t,decode:e=>t(e)}}function u(t,e,n){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let i=0;const s=[],o=Array.from(t);for(o.forEach((t=>{if(r(t),t<0||t>=e)throw new Error(`Wrong integer: ${t}`)}));;){let t=0,r=!0;for(let s=i;s<o.length;s++){const a=o[s],u=e*t+a;if(!Number.isSafeInteger(u)||e*t/e!==t||u-a!=e*t)throw new Error("convertRadix: carry overflow");if(t=u%n,o[s]=Math.floor(u/n),!Number.isSafeInteger(o[s])||o[s]*n+t!==u)throw new Error("convertRadix: carry overflow");r&&(o[s]?r=!1:i=s)}if(s.push(t),r)break}for(let e=0;e<t.length-1&&0===t[e];e++)s.push(0);return s.reverse()}Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64url=e.base64=e.base32crockford=e.base32hex=e.base32=e.base16=e.utils=e.assertNumber=void 0,e.assertNumber=r;const c=(t,e)=>e?c(e,t%e):t,f=(t,e)=>t+(e-c(t,e));function h(t,e,n,i){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(f(e,n)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${n} carryBits=${f(e,n)}`);let s=0,o=0;const a=2**n-1,u=[];for(const i of t){if(r(i),i>=2**e)throw new Error(`convertRadix2: invalid data word=${i} from=${e}`);if(s=s<<e|i,o+e>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${e}`);for(o+=e;o>=n;o-=n)u.push((s>>o-n&a)>>>0);s&=2**o-1}if(s=s<<n-o&a,!i&&o>=e)throw new Error("Excess padding");if(!i&&s)throw new Error(`Non-zero padding: ${s}`);return i&&o>0&&u.push(s>>>0),u}function l(t){return r(t),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return u(Array.from(e),256,t)},decode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(u(e,t,256))}}}function d(t,e=!1){if(r(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(f(8,t)>32||f(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(r),8,t,!e)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(h(r,t,8,e))}}}function p(t){if("function"!=typeof t)throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch(t){}}}function g(t,e){if(r(t),"function"!=typeof e)throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-t),i=e(n).slice(0,t),s=r.slice(-t);for(let e=0;e<t;e++)if(i[e]!==s[e])throw new Error("Invalid checksum");return n}}}e.utils={alphabet:i,chain:n,checksum:g,radix:l,radix2:d,join:s,padding:o},e.base16=n(d(4),i("0123456789ABCDEF"),s("")),e.base32=n(d(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o(5),s("")),e.base32hex=n(d(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o(5),s("")),e.base32crockford=n(d(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),s(""),a((t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),e.base64=n(d(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o(6),s("")),e.base64url=n(d(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(6),s(""));const y=t=>n(l(58),i(t),s(""));e.base58=y("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=y("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=y("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const m=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(t){let r="";for(let n=0;n<t.length;n+=8){const i=t.subarray(n,n+8);r+=e.base58.encode(i).padStart(m[i.length],"1")}return r},decode(t){let r=[];for(let n=0;n<t.length;n+=11){const i=t.slice(n,n+11),s=m.indexOf(i.length),o=e.base58.decode(i);for(let t=0;t<o.length-s;t++)if(0!==o[t])throw new Error("base58xmr: wrong padding");r=r.concat(Array.from(o.slice(o.length-s)))}return Uint8Array.from(r)}},e.base58check=t=>n(g(4,(e=>t(t(e)))),e.base58);const b=n(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),s("")),v=[996825010,642813549,513874426,1027748829,705979059];function w(t){const e=t>>25;let r=(33554431&t)<<5;for(let t=0;t<v.length;t++)1==(e>>t&1)&&(r^=v[t]);return r}function S(t,e,r=1){const n=t.length;let i=1;for(let e=0;e<n;e++){const r=t.charCodeAt(e);if(r<33||r>126)throw new Error(`Invalid prefix (${t})`);i=w(i)^r>>5}i=w(i);for(let e=0;e<n;e++)i=w(i)^31&t.charCodeAt(e);for(let t of e)i=w(i)^t;for(let t=0;t<6;t++)i=w(i);return i^=r,b.encode(h([i%2**30],30,5,!1))}function E(t){const e="bech32"===t?1:734539939,r=d(5),n=r.decode,i=r.encode,s=p(n);function o(t,r=90){if("string"!=typeof t)throw new Error("bech32.decode input should be string, not "+typeof t);if(t.length<8||!1!==r&&t.length>r)throw new TypeError(`Wrong string length: ${t.length} (${t}). Expected (8..${r})`);const n=t.toLowerCase();if(t!==n&&t!==t.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(t=n).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const[s,o]=[t.slice(0,i),t.slice(i+1)];if(o.length<6)throw new Error("Data must be at least 6 characters long");const a=b.decode(o).slice(0,-6),u=S(s,a,e);if(!o.endsWith(u))throw new Error(`Invalid checksum in ${t}: expected "${u}"`);return{prefix:s,words:a}}return{encode:function(t,r,n=90){if("string"!=typeof t)throw new Error("bech32.encode prefix should be string, not "+typeof t);if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof r);const i=t.length+7+r.length;if(!1!==n&&i>n)throw new TypeError(`Length ${i} exceeds limit ${n}`);return`${t=t.toLowerCase()}1${b.encode(r)}${S(t,r,e)}`},decode:o,decodeToBytes:function(t){const{prefix:e,words:r}=o(t,!1);return{prefix:e,words:r,bytes:n(r)}},decodeUnsafe:p(o),fromWords:n,fromWordsUnsafe:s,toWords:i}}e.bech32=E("bech32"),e.bech32m=E("bech32m"),e.utf8={encode:t=>(new TextDecoder).decode(t),decode:t=>(new TextEncoder).encode(t)},e.hex=n(d(4),i("0123456789abcdef"),s(""),a((t=>{if("string"!=typeof t||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()})));const x={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},_=`Invalid encoding type. Available types: ${Object.keys(x).join(", ")}`;e.bytesToString=(t,e)=>{if("string"!=typeof t||!x.hasOwnProperty(t))throw new TypeError(_);if(!(e instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return x[t].encode(e)},e.str=e.bytesToString,e.stringToBytes=(t,e)=>{if(!x.hasOwnProperty(t))throw new TypeError(_);if("string"!=typeof e)throw new TypeError("stringToBytes() expects string");return x[t].decode(e)},e.bytes=e.stringToBytes},8162:(t,e,r)=>{"use strict";var n=r(9509).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==e[o])throw new TypeError(s+" is ambiguous");e[o]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,s=0;t[r]===u;)i++,r++;for(var o=(t.length-r)*c+1>>>0,f=new Uint8Array(o);t[r];){var h=e[t.charCodeAt(r)];if(255===h)return;for(var l=0,d=o-1;(0!==h||l<s)&&-1!==d;d--,l++)h+=a*f[d]>>>0,f[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=l,r++}for(var p=o-s;p!==o&&0===f[p];)p++;var g=n.allocUnsafe(i+(o-p));g.fill(0,0,i);for(var y=i;p!==o;)g[y++]=f[p++];return g}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,s=0,o=e.length;s!==o&&0===e[s];)s++,r++;for(var c=(o-s)*f+1>>>0,h=new Uint8Array(c);s!==o;){for(var l=e[s],d=0,p=c-1;(0!==l||d<i)&&-1!==p;p--,d++)l+=256*h[p]>>>0,h[p]=l%a>>>0,l=l/a>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,s++}for(var g=c-i;g!==c&&0===h[g];)g++;for(var y=u.repeat(r);g<c;++g)y+=t.charAt(h[g]);return y},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,s=a(t),o=s[0],u=s[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,u)),f=0,h=u>0?o-4:o;for(r=0;r<h;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],c[f++]=e>>16&255,c[f++]=e>>8&255,c[f++]=255&e;return 2===u&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,c[f++]=255&e),1===u&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,c[f++]=e>>8&255,c[f++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,a=0,c=n-i;a<c;a+=o)s.push(u(t,a,a+o>c?c:a+o));return 1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function u(t,e,n){for(var i,s,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},4736:(t,e,r)=>{var n;t=r.nmd(t);var i=function(t){"use strict";var e=1e7,r=7,n=9007199254740992,s=h(n),o=Math.log(n);function a(t,e){return void 0===t?a[0]:void 0!==e?10==+e?J(t):q(t,e):J(t)}function u(t,e){this.value=t,this.sign=e,this.isSmall=!1}function c(t){this.value=t,this.sign=t<0,this.isSmall=!0}function f(t){return-n<t&&t<n}function h(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function l(t){d(t);var r=t.length;if(r<4&&O(t,s)<0)switch(r){case 0:return 0;case 1:return t[0];case 2:return t[0]+t[1]*e;default:return t[0]+(t[1]+t[2]*e)*e}return t}function d(t){for(var e=t.length;0===t[--e];);t.length=e+1}function p(t){for(var e=new Array(t),r=-1;++r<t;)e[r]=0;return e}function g(t){return t>0?Math.floor(t):Math.ceil(t)}function y(t,r){var n,i,s=t.length,o=r.length,a=new Array(s),u=0,c=e;for(i=0;i<o;i++)u=(n=t[i]+r[i]+u)>=c?1:0,a[i]=n-u*c;for(;i<s;)u=(n=t[i]+u)===c?1:0,a[i++]=n-u*c;return u>0&&a.push(u),a}function m(t,e){return t.length>=e.length?y(t,e):y(e,t)}function b(t,r){var n,i,s=t.length,o=new Array(s),a=e;for(i=0;i<s;i++)n=t[i]-a+r,r=Math.floor(n/a),o[i]=n-r*a,r+=1;for(;r>0;)o[i++]=r%a,r=Math.floor(r/a);return o}function v(t,r){var n,i,s=t.length,o=r.length,a=new Array(s),u=0,c=e;for(n=0;n<o;n++)(i=t[n]-u-r[n])<0?(i+=c,u=1):u=0,a[n]=i;for(n=o;n<s;n++){if(!((i=t[n]-u)<0)){a[n++]=i;break}i+=c,a[n]=i}for(;n<s;n++)a[n]=t[n];return d(a),a}function w(t,r,n){var i,s,o=t.length,a=new Array(o),f=-r,h=e;for(i=0;i<o;i++)s=t[i]+f,f=Math.floor(s/h),s%=h,a[i]=s<0?s+h:s;return"number"==typeof(a=l(a))?(n&&(a=-a),new c(a)):new u(a,n)}function S(t,r){var n,i,s,o,a=t.length,u=r.length,c=p(a+u),f=e;for(s=0;s<a;++s){o=t[s];for(var h=0;h<u;++h)n=o*r[h]+c[s+h],i=Math.floor(n/f),c[s+h]=n-i*f,c[s+h+1]+=i}return d(c),c}function E(t,r){var n,i,s=t.length,o=new Array(s),a=e,u=0;for(i=0;i<s;i++)n=t[i]*r+u,u=Math.floor(n/a),o[i]=n-u*a;for(;u>0;)o[i++]=u%a,u=Math.floor(u/a);return o}function x(t,e){for(var r=[];e-- >0;)r.push(0);return r.concat(t)}function _(t,e){var r=Math.max(t.length,e.length);if(r<=30)return S(t,e);r=Math.ceil(r/2);var n=t.slice(r),i=t.slice(0,r),s=e.slice(r),o=e.slice(0,r),a=_(i,o),u=_(n,s),c=_(m(i,n),m(o,s)),f=m(m(a,x(v(v(c,a),u),r)),x(u,2*r));return d(f),f}function A(t,r,n){return new u(t<e?E(r,t):S(r,h(t)),n)}function P(t){var r,n,i,s,o=t.length,a=p(o+o),u=e;for(i=0;i<o;i++){n=0-(s=t[i])*s;for(var c=i;c<o;c++)r=s*t[c]*2+a[i+c]+n,n=Math.floor(r/u),a[i+c]=r-n*u;a[i+o]=n}return d(a),a}function I(t,r){var n,i,s,o,a=t.length,u=p(a),c=e;for(s=0,n=a-1;n>=0;--n)s=(o=s*c+t[n])-(i=g(o/r))*r,u[n]=0|i;return[u,0|s]}function T(t,r){var n,i,s=J(r),o=t.value,f=s.value;if(0===f)throw new Error("Cannot divide by zero");if(t.isSmall)return s.isSmall?[new c(g(o/f)),new c(o%f)]:[a[0],t];if(s.isSmall){if(1===f)return[t,a[0]];if(-1==f)return[t.negate(),a[0]];var y=Math.abs(f);if(y<e){i=l((n=I(o,y))[0]);var m=n[1];return t.sign&&(m=-m),"number"==typeof i?(t.sign!==s.sign&&(i=-i),[new c(i),new c(m)]):[new u(i,t.sign!==s.sign),new c(m)]}f=h(y)}var b=O(o,f);if(-1===b)return[a[0],t];if(0===b)return[a[t.sign===s.sign?1:-1],a[0]];n=o.length+f.length<=200?function(t,r){var n,i,s,o,a,u,c,f=t.length,h=r.length,d=e,g=p(r.length),y=r[h-1],m=Math.ceil(d/(2*y)),b=E(t,m),v=E(r,m);for(b.length<=f&&b.push(0),v.push(0),y=v[h-1],i=f-h;i>=0;i--){for(n=d-1,b[i+h]!==y&&(n=Math.floor((b[i+h]*d+b[i+h-1])/y)),s=0,o=0,u=v.length,a=0;a<u;a++)s+=n*v[a],c=Math.floor(s/d),o+=b[i+a]-(s-c*d),s=c,o<0?(b[i+a]=o+d,o=-1):(b[i+a]=o,o=0);for(;0!==o;){for(n-=1,s=0,a=0;a<u;a++)(s+=b[i+a]-d+v[a])<0?(b[i+a]=s+d,s=0):(b[i+a]=s,s=1);o+=s}g[i]=n}return b=I(b,m)[0],[l(g),l(b)]}(o,f):function(t,r){for(var n,i,s,o,a,u=t.length,c=r.length,f=[],h=[],p=e;u;)if(h.unshift(t[--u]),d(h),O(h,r)<0)f.push(0);else{s=h[(i=h.length)-1]*p+h[i-2],o=r[c-1]*p+r[c-2],i>c&&(s=(s+1)*p),n=Math.ceil(s/o);do{if(O(a=E(r,n),h)<=0)break;n--}while(n);f.push(n),h=v(h,a)}return f.reverse(),[l(f),l(h)]}(o,f),i=n[0];var w=t.sign!==s.sign,S=n[1],x=t.sign;return"number"==typeof i?(w&&(i=-i),i=new c(i)):i=new u(i,w),"number"==typeof S?(x&&(S=-S),S=new c(S)):S=new u(S,x),[i,S]}function O(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var r=t.length-1;r>=0;r--)if(t[r]!==e[r])return t[r]>e[r]?1:-1;return 0}function B(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(49)||void 0))}function k(t,e){for(var r,n,s,o=t.prev(),u=o,c=0;u.isEven();)u=u.divide(2),c++;t:for(n=0;n<e.length;n++)if(!t.lesser(e[n])&&!(s=i(e[n]).modPow(u,t)).equals(a[1])&&!s.equals(o)){for(r=c-1;0!=r;r--){if((s=s.square().mod(t)).isUnit())return!1;if(s.equals(o))continue t}return!1}return!0}u.prototype=Object.create(a.prototype),c.prototype=Object.create(a.prototype),u.prototype.add=function(t){var e=J(t);if(this.sign!==e.sign)return this.subtract(e.negate());var r=this.value,n=e.value;return e.isSmall?new u(b(r,Math.abs(n)),this.sign):new u(m(r,n),this.sign)},u.prototype.plus=u.prototype.add,c.prototype.add=function(t){var e=J(t),r=this.value;if(r<0!==e.sign)return this.subtract(e.negate());var n=e.value;if(e.isSmall){if(f(r+n))return new c(r+n);n=h(Math.abs(n))}return new u(b(n,Math.abs(r)),r<0)},c.prototype.plus=c.prototype.add,u.prototype.subtract=function(t){var e=J(t);if(this.sign!==e.sign)return this.add(e.negate());var r=this.value,n=e.value;return e.isSmall?w(r,Math.abs(n),this.sign):function(t,e,r){var n;return O(t,e)>=0?n=v(t,e):(n=v(e,t),r=!r),"number"==typeof(n=l(n))?(r&&(n=-n),new c(n)):new u(n,r)}(r,n,this.sign)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(t){var e=J(t),r=this.value;if(r<0!==e.sign)return this.add(e.negate());var n=e.value;return e.isSmall?new c(r-n):w(n,Math.abs(r),r>=0)},c.prototype.minus=c.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},c.prototype.negate=function(){var t=this.sign,e=new c(-this.value);return e.sign=!t,e},u.prototype.abs=function(){return new u(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},u.prototype.multiply=function(t){var r,n,i,s=J(t),o=this.value,c=s.value,f=this.sign!==s.sign;if(s.isSmall){if(0===c)return a[0];if(1===c)return this;if(-1===c)return this.negate();if((r=Math.abs(c))<e)return new u(E(o,r),f);c=h(r)}return new u(-.012*(n=o.length)-.012*(i=c.length)+15e-6*n*i>0?_(o,c):S(o,c),f)},u.prototype.times=u.prototype.multiply,c.prototype._multiplyBySmall=function(t){return f(t.value*this.value)?new c(t.value*this.value):A(Math.abs(t.value),h(Math.abs(this.value)),this.sign!==t.sign)},u.prototype._multiplyBySmall=function(t){return 0===t.value?a[0]:1===t.value?this:-1===t.value?this.negate():A(Math.abs(t.value),this.value,this.sign!==t.sign)},c.prototype.multiply=function(t){return J(t)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,u.prototype.square=function(){return new u(P(this.value),!1)},c.prototype.square=function(){var t=this.value*this.value;return f(t)?new c(t):new u(P(h(Math.abs(this.value))),!1)},u.prototype.divmod=function(t){var e=T(this,t);return{quotient:e[0],remainder:e[1]}},c.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(t){return T(this,t)[0]},c.prototype.over=c.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(t){return T(this,t)[1]},c.prototype.remainder=c.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(t){var e,r,n,i=J(t),s=this.value,o=i.value;if(0===o)return a[1];if(0===s)return a[0];if(1===s)return a[1];if(-1===s)return i.isEven()?a[1]:a[-1];if(i.sign)return a[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&f(e=Math.pow(s,o)))return new c(g(e));for(r=this,n=a[1];!0&o&&(n=n.times(r),--o),0!==o;)o/=2,r=r.square();return n},c.prototype.pow=u.prototype.pow,u.prototype.modPow=function(t,e){if(t=J(t),(e=J(e)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var r=a[1],n=this.mod(e);t.isPositive();){if(n.isZero())return a[0];t.isOdd()&&(r=r.multiply(n).mod(e)),t=t.divide(2),n=n.square().mod(e)}return r},c.prototype.modPow=u.prototype.modPow,u.prototype.compareAbs=function(t){var e=J(t),r=this.value,n=e.value;return e.isSmall?1:O(r,n)},c.prototype.compareAbs=function(t){var e=J(t),r=Math.abs(this.value),n=e.value;return e.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},u.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=J(t),r=this.value,n=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:O(r,n)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,c.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=J(t),r=this.value,n=e.value;return e.isSmall?r==n?0:r>n?1:-1:r<0!==e.sign?r<0?-1:1:r<0?1:-1},c.prototype.compareTo=c.prototype.compare,u.prototype.equals=function(t){return 0===this.compare(t)},c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(t){return 0!==this.compare(t)},c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(t){return this.compare(t)>0},c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(t){return this.compare(t)<0},c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return 0==(1&this.value[0])},c.prototype.isEven=function(){return 0==(1&this.value)},u.prototype.isOdd=function(){return 1==(1&this.value[0])},c.prototype.isOdd=function(){return 1==(1&this.value)},u.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},u.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},u.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return 1===Math.abs(this.value)},u.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return 0===this.value},u.prototype.isDivisibleBy=function(t){var e=J(t),r=e.value;return 0!==r&&(1===r||(2===r?this.isEven():this.mod(e).equals(a[0])))},c.prototype.isDivisibleBy=u.prototype.isDivisibleBy,u.prototype.isPrime=function(e){var r=B(this);if(r!==t)return r;var n=this.abs(),s=n.bitLength();if(s<=64)return k(n,[2,325,9375,28178,450775,9780504,1795265022]);for(var o=Math.log(2)*s,a=Math.ceil(!0===e?2*Math.pow(o,2):o),u=[],c=0;c<a;c++)u.push(i(c+2));return k(n,u)},c.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(e){var r=B(this);if(r!==t)return r;for(var n=this.abs(),s=e===t?5:e,o=[],a=0;a<s;a++)o.push(i.randBetween(2,n.minus(2)));return k(n,o)},c.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(t){for(var e,r,n,s=i.zero,o=i.one,a=J(t),u=this.abs();!u.equals(i.zero);)e=a.divide(u),r=s,n=a,s=o,a=u,o=r.subtract(e.multiply(o)),u=n.subtract(e.multiply(u));if(!a.equals(1))throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===s.compare(0)&&(s=s.add(t)),this.isNegative()?s.negate():s},c.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var t=this.value;return this.sign?w(t,1,this.sign):new u(b(t,1),this.sign)},c.prototype.next=function(){var t=this.value;return t+1<n?new c(t+1):new u(s,!1)},u.prototype.prev=function(){var t=this.value;return this.sign?new u(b(t,1),!0):w(t,1,this.sign)},c.prototype.prev=function(){var t=this.value;return t-1>-n?new c(t-1):new u(s,!0)};for(var F=[1];2*F[F.length-1]<=e;)F.push(2*F[F.length-1]);var R=F.length,N=F[R-1];function C(t){return("number"==typeof t||"string"==typeof t)&&+Math.abs(t)<=e||t instanceof u&&t.value.length<=1}function M(t,e,r){e=J(e);for(var n=t.isNegative(),s=e.isNegative(),o=n?t.not():t,a=s?e.not():e,u=0,c=0,f=null,h=null,l=[];!o.isZero()||!a.isZero();)u=(f=T(o,N))[1].toJSNumber(),n&&(u=N-1-u),c=(h=T(a,N))[1].toJSNumber(),s&&(c=N-1-c),o=f[0],a=h[0],l.push(r(u,c));for(var d=0!==r(n?1:0,s?1:0)?i(-1):i(0),p=l.length-1;p>=0;p-=1)d=d.multiply(N).add(i(l[p]));return d}u.prototype.shiftLeft=function(t){if(!C(t))throw new Error(String(t)+" is too large for shifting.");if((t=+t)<0)return this.shiftRight(-t);var e=this;if(e.isZero())return e;for(;t>=R;)e=e.multiply(N),t-=R-1;return e.multiply(F[t])},c.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(t){var e;if(!C(t))throw new Error(String(t)+" is too large for shifting.");if((t=+t)<0)return this.shiftLeft(-t);for(var r=this;t>=R;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(e=T(r,N))[1].isNegative()?e[0].prev():e[0],t-=R-1}return(e=T(r,F[t]))[1].isNegative()?e[0].prev():e[0]},c.prototype.shiftRight=u.prototype.shiftRight,u.prototype.not=function(){return this.negate().prev()},c.prototype.not=u.prototype.not,u.prototype.and=function(t){return M(this,t,(function(t,e){return t&e}))},c.prototype.and=u.prototype.and,u.prototype.or=function(t){return M(this,t,(function(t,e){return t|e}))},c.prototype.or=u.prototype.or,u.prototype.xor=function(t){return M(this,t,(function(t,e){return t^e}))},c.prototype.xor=u.prototype.xor;var D=1<<30,H=(e&-e)*(e&-e)|D;function j(t){var r=t.value,n="number"==typeof r?r|D:r[0]+r[1]*e|H;return n&-n}function L(t,e){if(e.compareTo(t)<=0){var r=L(t,e.square(e)),n=r.p,s=r.e,o=n.multiply(e);return o.compareTo(t)<=0?{p:o,e:2*s+1}:{p:n,e:2*s}}return{p:i(1),e:0}}function U(t,e){return t=J(t),e=J(e),t.greater(e)?t:e}function K(t,e){return t=J(t),e=J(e),t.lesser(e)?t:e}function V(t,e){if(t=J(t).abs(),e=J(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var r,n,i=a[1];t.isEven()&&e.isEven();)r=Math.min(j(t),j(e)),t=t.divide(r),e=e.divide(r),i=i.multiply(r);for(;t.isEven();)t=t.divide(j(t));do{for(;e.isEven();)e=e.divide(j(e));t.greater(e)&&(n=e,e=t,t=n),e=e.subtract(t)}while(!e.isZero());return i.isUnit()?t:t.multiply(i)}u.prototype.bitLength=function(){var t=this;return t.compareTo(i(0))<0&&(t=t.negate().subtract(i(1))),0===t.compareTo(i(0))?i(0):i(L(t,i(2)).e).add(i(1))},c.prototype.bitLength=u.prototype.bitLength;var q=function(t,e){for(var r=t.length,n=Math.abs(e),i=0;i<r;i++)if("-"!==(f=t[i].toLowerCase())&&/[a-z0-9]/.test(f)){if(/[0-9]/.test(f)&&+f>=n){if("1"===f&&1===n)continue;throw new Error(f+" is not a valid digit in base "+e+".")}if(f.charCodeAt(0)-87>=n)throw new Error(f+" is not a valid digit in base "+e+".")}if(2<=e&&e<=36&&r<=o/Math.log(e)){var s=parseInt(t,e);if(isNaN(s))throw new Error(f+" is not a valid digit in base "+e+".");return new c(parseInt(t,e))}e=J(e);var a=[],u="-"===t[0];for(i=u?1:0;i<t.length;i++){var f,h=(f=t[i].toLowerCase()).charCodeAt(0);if(48<=h&&h<=57)a.push(J(f));else if(97<=h&&h<=122)a.push(J(f.charCodeAt(0)-87));else{if("<"!==f)throw new Error(f+" is not a valid character");var l=i;do{i++}while(">"!==t[i]);a.push(J(t.slice(l+1,i)))}}return z(a,e,u)};function z(t,e,r){var n,i=a[0],s=a[1];for(n=t.length-1;n>=0;n--)i=i.add(t[n].times(s)),s=s.times(e);return r?i.negate():i}function W(t){return t<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t):"<"+t+">"}function G(t,e){if((e=i(e)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(e.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(+t-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var n=!1;if(t.isNegative()&&e.isPositive()&&(n=!0,t=t.abs()),e.equals(1))return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+t)).map(Number.prototype.valueOf,1),isNegative:n};for(var s,o=[],a=t;a.isNegative()||a.compareAbs(e)>=0;){s=a.divmod(e),a=s.quotient;var u=s.remainder;u.isNegative()&&(u=e.minus(u).abs(),a=a.next()),o.push(u.toJSNumber())}return o.push(a.toJSNumber()),{value:o.reverse(),isNegative:n}}function $(t,e){var r=G(t,e);return(r.isNegative?"-":"")+r.value.map(W).join("")}function X(t){if(f(+t)){var e=+t;if(e===g(e))return new c(e);throw new Error("Invalid integer: "+t)}var n="-"===t[0];n&&(t=t.slice(1));var i=t.split(/e/i);if(i.length>2)throw new Error("Invalid integer: "+i.join("e"));if(2===i.length){var s=i[1];if("+"===s[0]&&(s=s.slice(1)),(s=+s)!==g(s)||!f(s))throw new Error("Invalid integer: "+s+" is not a valid exponent.");var o=i[0],a=o.indexOf(".");if(a>=0&&(s-=o.length-a-1,o=o.slice(0,a)+o.slice(a+1)),s<0)throw new Error("Cannot include negative exponent part for integers");t=o+=new Array(s+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);for(var h=[],l=t.length,p=r,y=l-p;l>0;)h.push(+t.slice(y,l)),(y-=p)<0&&(y=0),l-=p;return d(h),new u(h,n)}function J(t){return"number"==typeof t?function(t){if(f(t)){if(t!==g(t))throw new Error(t+" is not an integer.");return new c(t)}return X(t.toString())}(t):"string"==typeof t?X(t):t}u.prototype.toArray=function(t){return G(this,t)},c.prototype.toArray=function(t){return G(this,t)},u.prototype.toString=function(e){if(e===t&&(e=10),10!==e)return $(this,e);for(var r,n=this.value,i=n.length,s=String(n[--i]);--i>=0;)r=String(n[i]),s+="0000000".slice(r.length)+r;return(this.sign?"-":"")+s},c.prototype.toString=function(e){return e===t&&(e=10),10!=e?$(this,e):String(this.value)},u.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf;for(var Z=0;Z<1e3;Z++)a[Z]=new c(Z),Z>0&&(a[-Z]=new c(-Z));return a.one=a[1],a.zero=a[0],a.minusOne=a[-1],a.max=U,a.min=K,a.gcd=V,a.lcm=function(t,e){return t=J(t).abs(),e=J(e).abs(),t.divide(V(t,e)).multiply(e)},a.isInstance=function(t){return t instanceof u||t instanceof c},a.randBetween=function(t,r){var n=K(t=J(t),r=J(r)),i=U(t,r).subtract(n).add(1);if(i.isSmall)return n.add(Math.floor(Math.random()*i));for(var s=[],o=!0,a=i.value.length-1;a>=0;a--){var f=o?i.value[a]:e,h=g(Math.random()*f);s.unshift(h),h<f&&(o=!1)}return s=l(s),n.add("number"==typeof s?new c(s):new u(s,!1))},a.fromArray=function(t,e,r){return z(t.map(J),J(e||10),r)},a}();t.hasOwnProperty("exports")&&(t.exports=i),void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)},4431:function(t,e,r){var n;!function(i){"use strict";var s,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,u=Math.floor,c="[BigNumber Error] ",f=c+"Number primitive has more than 15 significant digits: ",h=1e14,l=14,d=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],g=1e7,y=1e9;function m(t){var e=0|t;return t>0||t===e?e:e-1}function b(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=l-e.length;r--;e="0"+e);s+=e}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function v(t,e){var r,n,i=t.c,s=e.c,o=t.s,a=e.s,u=t.e,c=e.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=u==c,!i||!s)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(a=(u=i.length)<(c=s.length)?u:c,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return u==c?0:u>c^r?1:-1}function w(t,e,r,n){if(t<e||t>r||t!==u(t))throw Error(c+(n||"Argument")+("number"==typeof t?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function S(t){var e=t.c.length-1;return m(t.e/l)==e&&t.c[e]%2!=0}function E(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function x(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(++e>(n=t.length)){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}s=function t(e){var r,n,i,s,_,A,P,I,T,O,B=q.prototype={constructor:q,toString:null,valueOf:null},k=new q(1),F=20,R=4,N=-7,C=21,M=-1e7,D=1e7,H=!1,j=1,L=0,U={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},K="0123456789abcdefghijklmnopqrstuvwxyz",V=!0;function q(t,e){var r,s,a,c,h,p,g,y,m=this;if(!(m instanceof q))return new q(t,e);if(null==e){if(t&&!0===t._isBigNumber)return m.s=t.s,void(!t.c||t.e>D?m.c=m.e=null:t.e<M?m.c=[m.e=0]:(m.e=t.e,m.c=t.c.slice()));if((p="number"==typeof t)&&0*t==0){if(m.s=1/t<0?(t=-t,-1):1,t===~~t){for(c=0,h=t;h>=10;h/=10,c++);return void(c>D?m.c=m.e=null:(m.e=c,m.c=[t]))}y=String(t)}else{if(!o.test(y=String(t)))return i(m,y,p);m.s=45==y.charCodeAt(0)?(y=y.slice(1),-1):1}(c=y.indexOf("."))>-1&&(y=y.replace(".","")),(h=y.search(/e/i))>0?(c<0&&(c=h),c+=+y.slice(h+1),y=y.substring(0,h)):c<0&&(c=y.length)}else{if(w(e,2,K.length,"Base"),10==e&&V)return $(m=new q(t),F+m.e+1,R);if(y=String(t),p="number"==typeof t){if(0*t!=0)return i(m,y,p,e);if(m.s=1/t<0?(y=y.slice(1),-1):1,q.DEBUG&&y.replace(/^0\.0*|\./,"").length>15)throw Error(f+t)}else m.s=45===y.charCodeAt(0)?(y=y.slice(1),-1):1;for(r=K.slice(0,e),c=h=0,g=y.length;h<g;h++)if(r.indexOf(s=y.charAt(h))<0){if("."==s){if(h>c){c=g;continue}}else if(!a&&(y==y.toUpperCase()&&(y=y.toLowerCase())||y==y.toLowerCase()&&(y=y.toUpperCase()))){a=!0,h=-1,c=0;continue}return i(m,String(t),p,e)}p=!1,(c=(y=n(y,e,10,m.s)).indexOf("."))>-1?y=y.replace(".",""):c=y.length}for(h=0;48===y.charCodeAt(h);h++);for(g=y.length;48===y.charCodeAt(--g););if(y=y.slice(h,++g)){if(g-=h,p&&q.DEBUG&&g>15&&(t>d||t!==u(t)))throw Error(f+m.s*t);if((c=c-h-1)>D)m.c=m.e=null;else if(c<M)m.c=[m.e=0];else{if(m.e=c,m.c=[],h=(c+1)%l,c<0&&(h+=l),h<g){for(h&&m.c.push(+y.slice(0,h)),g-=l;h<g;)m.c.push(+y.slice(h,h+=l));h=l-(y=y.slice(h)).length}else h-=g;for(;h--;y+="0");m.c.push(+y)}}else m.c=[m.e=0]}function z(t,e,r,n){var i,s,o,a,u;if(null==r?r=R:w(r,0,8),!t.c)return t.toString();if(i=t.c[0],o=t.e,null==e)u=b(t.c),u=1==n||2==n&&(o<=N||o>=C)?E(u,o):x(u,o,"0");else if(s=(t=$(new q(t),e,r)).e,a=(u=b(t.c)).length,1==n||2==n&&(e<=s||s<=N)){for(;a<e;u+="0",a++);u=E(u,s)}else if(e-=o,u=x(u,s,"0"),s+1>a){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=s-a)>0)for(s+1==a&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function W(t,e){for(var r,n,i=1,s=new q(t[0]);i<t.length;i++)(!(n=new q(t[i])).s||(r=v(s,n))===e||0===r&&s.s===e)&&(s=n);return s}function G(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*l-1)>D?t.c=t.e=null:r<M?t.c=[t.e=0]:(t.e=r,t.c=e),t}function $(t,e,r,n){var i,s,o,c,f,d,g,y=t.c,m=p;if(y){t:{for(i=1,c=y[0];c>=10;c/=10,i++);if((s=e-i)<0)s+=l,o=e,f=y[d=0],g=u(f/m[i-o-1]%10);else if((d=a((s+1)/l))>=y.length){if(!n)break t;for(;y.length<=d;y.push(0));f=g=0,i=1,o=(s%=l)-l+1}else{for(f=c=y[d],i=1;c>=10;c/=10,i++);g=(o=(s%=l)-l+i)<0?0:u(f/m[i-o-1]%10)}if(n=n||e<0||null!=y[d+1]||(o<0?f:f%m[i-o-1]),n=r<4?(g||n)&&(0==r||r==(t.s<0?3:2)):g>5||5==g&&(4==r||n||6==r&&(s>0?o>0?f/m[i-o]:0:y[d-1])%10&1||r==(t.s<0?8:7)),e<1||!y[0])return y.length=0,n?(e-=t.e+1,y[0]=m[(l-e%l)%l],t.e=-e||0):y[0]=t.e=0,t;if(0==s?(y.length=d,c=1,d--):(y.length=d+1,c=m[l-s],y[d]=o>0?u(f/m[i-o]%m[o])*c:0),n)for(;;){if(0==d){for(s=1,o=y[0];o>=10;o/=10,s++);for(o=y[0]+=c,c=1;o>=10;o/=10,c++);s!=c&&(t.e++,y[0]==h&&(y[0]=1));break}if(y[d]+=c,y[d]!=h)break;y[d--]=0,c=1}for(s=y.length;0===y[--s];y.pop());}t.e>D?t.c=t.e=null:t.e<M&&(t.c=[t.e=0])}return t}function X(t){var e,r=t.e;return null===r?t.toString():(e=b(t.c),e=r<=N||r>=C?E(e,r):x(e,r,"0"),t.s<0?"-"+e:e)}return q.clone=t,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(t){var e,r;if(null!=t){if("object"!=typeof t)throw Error(c+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(w(r=t[e],0,y,e),F=r),t.hasOwnProperty(e="ROUNDING_MODE")&&(w(r=t[e],0,8,e),R=r),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((r=t[e])&&r.pop?(w(r[0],-y,0,e),w(r[1],0,y,e),N=r[0],C=r[1]):(w(r,-y,y,e),N=-(C=r<0?-r:r))),t.hasOwnProperty(e="RANGE"))if((r=t[e])&&r.pop)w(r[0],-y,-1,e),w(r[1],1,y,e),M=r[0],D=r[1];else{if(w(r,-y,y,e),!r)throw Error(c+e+" cannot be zero: "+r);M=-(D=r<0?-r:r)}if(t.hasOwnProperty(e="CRYPTO")){if((r=t[e])!==!!r)throw Error(c+e+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw H=!r,Error(c+"crypto unavailable");H=r}else H=r}if(t.hasOwnProperty(e="MODULO_MODE")&&(w(r=t[e],0,9,e),j=r),t.hasOwnProperty(e="POW_PRECISION")&&(w(r=t[e],0,y,e),L=r),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(r=t[e]))throw Error(c+e+" not an object: "+r);U=r}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(r=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(c+e+" invalid: "+r);V="0123456789"==r.slice(0,10),K=r}}return{DECIMAL_PLACES:F,ROUNDING_MODE:R,EXPONENTIAL_AT:[N,C],RANGE:[M,D],CRYPTO:H,MODULO_MODE:j,POW_PRECISION:L,FORMAT:U,ALPHABET:K}},q.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!q.DEBUG)return!0;var e,r,n=t.c,i=t.e,s=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===s||-1===s)&&i>=-y&&i<=y&&i===u(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if((e=(i+1)%l)<1&&(e+=l),String(n[0]).length==e){for(e=0;e<n.length;e++)if((r=n[e])<0||r>=h||r!==u(r))break t;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(c+"Invalid BigNumber: "+t)},q.maximum=q.max=function(){return W(arguments,-1)},q.minimum=q.min=function(){return W(arguments,1)},q.random=(s=9007199254740992,_=Math.random()*s&2097151?function(){return u(Math.random()*s)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,r,n,i,s,o=0,f=[],h=new q(k);if(null==t?t=F:w(t,0,y),i=a(t/l),H)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));o<i;)(s=131072*e[o]+(e[o+1]>>>11))>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),e[o]=r[0],e[o+1]=r[1]):(f.push(s%1e14),o+=2);o=i/2}else{if(!crypto.randomBytes)throw H=!1,Error(c+"crypto unavailable");for(e=crypto.randomBytes(i*=7);o<i;)(s=281474976710656*(31&e[o])+1099511627776*e[o+1]+4294967296*e[o+2]+16777216*e[o+3]+(e[o+4]<<16)+(e[o+5]<<8)+e[o+6])>=9e15?crypto.randomBytes(7).copy(e,o):(f.push(s%1e14),o+=7);o=i/7}if(!H)for(;o<i;)(s=_())<9e15&&(f[o++]=s%1e14);for(i=f[--o],t%=l,i&&t&&(s=p[l-t],f[o]=u(i/s)*s);0===f[o];f.pop(),o--);if(o<0)f=[n=0];else{for(n=-1;0===f[0];f.splice(0,1),n-=l);for(o=1,s=f[0];s>=10;s/=10,o++);o<l&&(n-=l-o)}return h.e=n,h.c=f,h}),q.sum=function(){for(var t=1,e=arguments,r=new q(e[0]);t<e.length;)r=r.plus(e[t++]);return r},n=function(){var t="0123456789";function e(t,e,r,n){for(var i,s,o=[0],a=0,u=t.length;a<u;){for(s=o.length;s--;o[s]*=e);for(o[0]+=n.indexOf(t.charAt(a++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(n,i,s,o,a){var u,c,f,h,l,d,p,g,y=n.indexOf("."),m=F,v=R;for(y>=0&&(h=L,L=0,n=n.replace(".",""),d=(g=new q(i)).pow(n.length-y),L=h,g.c=e(x(b(d.c),d.e,"0"),10,s,t),g.e=g.c.length),f=h=(p=e(n,i,s,a?(u=K,t):(u=t,K))).length;0==p[--h];p.pop());if(!p[0])return u.charAt(0);if(y<0?--f:(d.c=p,d.e=f,d.s=o,p=(d=r(d,g,m,v,s)).c,l=d.r,f=d.e),y=p[c=f+m+1],h=s/2,l=l||c<0||null!=p[c+1],l=v<4?(null!=y||l)&&(0==v||v==(d.s<0?3:2)):y>h||y==h&&(4==v||l||6==v&&1&p[c-1]||v==(d.s<0?8:7)),c<1||!p[0])n=l?x(u.charAt(1),-m,u.charAt(0)):u.charAt(0);else{if(p.length=c,l)for(--s;++p[--c]>s;)p[c]=0,c||(++f,p=[1].concat(p));for(h=p.length;!p[--h];);for(y=0,n="";y<=h;n+=u.charAt(p[y++]));n=x(n,f,u.charAt(0))}return n}}(),r=function(){function t(t,e,r){var n,i,s,o,a=0,u=t.length,c=e%g,f=e/g|0;for(t=t.slice();u--;)a=((i=c*(s=t[u]%g)+(n=f*s+(o=t[u]/g|0)*c)%g*g+a)/r|0)+(n/g|0)+f*o,t[u]=i%r;return a&&(t=[a].concat(t)),t}function e(t,e,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(t[i]!=e[i]){s=t[i]>e[i]?1:-1;break}return s}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,i,s,o,a){var c,f,d,p,g,y,b,v,w,S,E,x,_,A,P,I,T,O=n.s==i.s?1:-1,B=n.c,k=i.c;if(!(B&&B[0]&&k&&k[0]))return new q(n.s&&i.s&&(B?!k||B[0]!=k[0]:k)?B&&0==B[0]||!k?0*O:O/0:NaN);for(w=(v=new q(O)).c=[],O=s+(f=n.e-i.e)+1,a||(a=h,f=m(n.e/l)-m(i.e/l),O=O/l|0),d=0;k[d]==(B[d]||0);d++);if(k[d]>(B[d]||0)&&f--,O<0)w.push(1),p=!0;else{for(A=B.length,I=k.length,d=0,O+=2,(g=u(a/(k[0]+1)))>1&&(k=t(k,g,a),B=t(B,g,a),I=k.length,A=B.length),_=I,E=(S=B.slice(0,I)).length;E<I;S[E++]=0);T=k.slice(),T=[0].concat(T),P=k[0],k[1]>=a/2&&P++;do{if(g=0,(c=e(k,S,I,E))<0){if(x=S[0],I!=E&&(x=x*a+(S[1]||0)),(g=u(x/P))>1)for(g>=a&&(g=a-1),b=(y=t(k,g,a)).length,E=S.length;1==e(y,S,b,E);)g--,r(y,I<b?T:k,b,a),b=y.length,c=1;else 0==g&&(c=g=1),b=(y=k.slice()).length;if(b<E&&(y=[0].concat(y)),r(S,y,E,a),E=S.length,-1==c)for(;e(k,S,I,E)<1;)g++,r(S,I<E?T:k,E,a),E=S.length}else 0===c&&(g++,S=[0]);w[d++]=g,S[0]?S[E++]=B[_]||0:(S=[B[_]],E=1)}while((_++<A||null!=S[0])&&O--);p=null!=S[0],w[0]||w.splice(0,1)}if(a==h){for(d=1,O=w[0];O>=10;O/=10,d++);$(v,s+(v.e=d+f*l-1)+1,o,p)}else v.e=f,v.r=+p;return v}}(),A=/^(-?)0([xbo])(?=\w[\w.]*$)/i,P=/^([^.]+)\.$/,I=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(t,e,r,n){var i,s=r?e:e.replace(O,"");if(T.test(s))t.s=isNaN(s)?null:s<0?-1:1;else{if(!r&&(s=s.replace(A,(function(t,e,r){return i="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=i?t:e})),n&&(i=n,s=s.replace(P,"$1").replace(I,"0.$1")),e!=s))return new q(s,i);if(q.DEBUG)throw Error(c+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},B.absoluteValue=B.abs=function(){var t=new q(this);return t.s<0&&(t.s=1),t},B.comparedTo=function(t,e){return v(this,new q(t,e))},B.decimalPlaces=B.dp=function(t,e){var r,n,i,s=this;if(null!=t)return w(t,0,y),null==e?e=R:w(e,0,8),$(new q(s),t+s.e+1,e);if(!(r=s.c))return null;if(n=((i=r.length-1)-m(this.e/l))*l,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},B.dividedBy=B.div=function(t,e){return r(this,new q(t,e),F,R)},B.dividedToIntegerBy=B.idiv=function(t,e){return r(this,new q(t,e),0,1)},B.exponentiatedBy=B.pow=function(t,e){var r,n,i,s,o,f,h,d,p=this;if((t=new q(t)).c&&!t.isInteger())throw Error(c+"Exponent not an integer: "+X(t));if(null!=e&&(e=new q(e)),o=t.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!t.c||!t.c[0])return d=new q(Math.pow(+X(p),o?t.s*(2-S(t)):+X(t))),e?d.mod(e):d;if(f=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new q(NaN);(n=!f&&p.isInteger()&&e.isInteger())&&(p=p.mod(e))}else{if(t.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||o&&p.c[1]>=24e7:p.c[0]<8e13||o&&p.c[0]<=9999975e7)))return s=p.s<0&&S(t)?-0:0,p.e>-1&&(s=1/s),new q(f?1/s:s);L&&(s=a(L/l+2))}for(o?(r=new q(.5),f&&(t.s=1),h=S(t)):h=(i=Math.abs(+X(t)))%2,d=new q(k);;){if(h){if(!(d=d.times(p)).c)break;s?d.c.length>s&&(d.c.length=s):n&&(d=d.mod(e))}if(i){if(0===(i=u(i/2)))break;h=i%2}else if($(t=t.times(r),t.e+1,1),t.e>14)h=S(t);else{if(0==(i=+X(t)))break;h=i%2}p=p.times(p),s?p.c&&p.c.length>s&&(p.c.length=s):n&&(p=p.mod(e))}return n?d:(f&&(d=k.div(d)),e?d.mod(e):s?$(d,L,R,void 0):d)},B.integerValue=function(t){var e=new q(this);return null==t?t=R:w(t,0,8),$(e,e.e+1,t)},B.isEqualTo=B.eq=function(t,e){return 0===v(this,new q(t,e))},B.isFinite=function(){return!!this.c},B.isGreaterThan=B.gt=function(t,e){return v(this,new q(t,e))>0},B.isGreaterThanOrEqualTo=B.gte=function(t,e){return 1===(e=v(this,new q(t,e)))||0===e},B.isInteger=function(){return!!this.c&&m(this.e/l)>this.c.length-2},B.isLessThan=B.lt=function(t,e){return v(this,new q(t,e))<0},B.isLessThanOrEqualTo=B.lte=function(t,e){return-1===(e=v(this,new q(t,e)))||0===e},B.isNaN=function(){return!this.s},B.isNegative=function(){return this.s<0},B.isPositive=function(){return this.s>0},B.isZero=function(){return!!this.c&&0==this.c[0]},B.minus=function(t,e){var r,n,i,s,o=this,a=o.s;if(e=(t=new q(t,e)).s,!a||!e)return new q(NaN);if(a!=e)return t.s=-e,o.plus(t);var u=o.e/l,c=t.e/l,f=o.c,d=t.c;if(!u||!c){if(!f||!d)return f?(t.s=-e,t):new q(d?o:NaN);if(!f[0]||!d[0])return d[0]?(t.s=-e,t):new q(f[0]?o:3==R?-0:0)}if(u=m(u),c=m(c),f=f.slice(),a=u-c){for((s=a<0)?(a=-a,i=f):(c=u,i=d),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(s=(a=f.length)<(e=d.length))?a:e,a=e=0;e<n;e++)if(f[e]!=d[e]){s=f[e]<d[e];break}if(s&&(i=f,f=d,d=i,t.s=-t.s),(e=(n=d.length)-(r=f.length))>0)for(;e--;f[r++]=0);for(e=h-1;n>a;){if(f[--n]<d[n]){for(r=n;r&&!f[--r];f[r]=e);--f[r],f[n]+=h}f[n]-=d[n]}for(;0==f[0];f.splice(0,1),--c);return f[0]?G(t,f,c):(t.s=3==R?-1:1,t.c=[t.e=0],t)},B.modulo=B.mod=function(t,e){var n,i,s=this;return t=new q(t,e),!s.c||!t.s||t.c&&!t.c[0]?new q(NaN):!t.c||s.c&&!s.c[0]?new q(s):(9==j?(i=t.s,t.s=1,n=r(s,t,0,3),t.s=i,n.s*=i):n=r(s,t,0,j),(t=s.minus(n.times(t))).c[0]||1!=j||(t.s=s.s),t)},B.multipliedBy=B.times=function(t,e){var r,n,i,s,o,a,u,c,f,d,p,y,b,v,w,S=this,E=S.c,x=(t=new q(t,e)).c;if(!(E&&x&&E[0]&&x[0]))return!S.s||!t.s||E&&!E[0]&&!x||x&&!x[0]&&!E?t.c=t.e=t.s=null:(t.s*=S.s,E&&x?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=m(S.e/l)+m(t.e/l),t.s*=S.s,(u=E.length)<(d=x.length)&&(b=E,E=x,x=b,i=u,u=d,d=i),i=u+d,b=[];i--;b.push(0));for(v=h,w=g,i=d;--i>=0;){for(r=0,p=x[i]%w,y=x[i]/w|0,s=i+(o=u);s>i;)r=((c=p*(c=E[--o]%w)+(a=y*c+(f=E[o]/w|0)*p)%w*w+b[s]+r)/v|0)+(a/w|0)+y*f,b[s--]=c%v;b[s]=r}return r?++n:b.splice(0,1),G(t,b,n)},B.negated=function(){var t=new q(this);return t.s=-t.s||null,t},B.plus=function(t,e){var r,n=this,i=n.s;if(e=(t=new q(t,e)).s,!i||!e)return new q(NaN);if(i!=e)return t.s=-e,n.minus(t);var s=n.e/l,o=t.e/l,a=n.c,u=t.c;if(!s||!o){if(!a||!u)return new q(i/0);if(!a[0]||!u[0])return u[0]?t:new q(a[0]?n:0*i)}if(s=m(s),o=m(o),a=a.slice(),i=s-o){for(i>0?(o=s,r=u):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(e=u.length)<0&&(r=u,u=a,a=r,e=i),i=0;e;)i=(a[--e]=a[e]+u[e]+i)/h|0,a[e]=h===a[e]?0:a[e]%h;return i&&(a=[i].concat(a),++o),G(t,a,o)},B.precision=B.sd=function(t,e){var r,n,i,s=this;if(null!=t&&t!==!!t)return w(t,1,y),null==e?e=R:w(e,0,8),$(new q(s),t,e);if(!(r=s.c))return null;if(n=(i=r.length-1)*l+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return t&&s.e+1>n&&(n=s.e+1),n},B.shiftedBy=function(t){return w(t,-9007199254740991,d),this.times("1e"+t)},B.squareRoot=B.sqrt=function(){var t,e,n,i,s,o=this,a=o.c,u=o.s,c=o.e,f=F+4,h=new q("0.5");if(1!==u||!a||!a[0])return new q(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);if(0==(u=Math.sqrt(+X(o)))||u==1/0?(((e=b(a)).length+c)%2==0&&(e+="0"),u=Math.sqrt(+e),c=m((c+1)/2)-(c<0||c%2),n=new q(e=u==1/0?"5e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):n=new q(u+""),n.c[0])for((u=(c=n.e)+f)<3&&(u=0);;)if(s=n,n=h.times(s.plus(r(o,s,f,1))),b(s.c).slice(0,u)===(e=b(n.c)).slice(0,u)){if(n.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||($(n,n.e+F+2,1),t=!n.times(n).eq(o));break}if(!i&&($(s,s.e+F+2,0),s.times(s).eq(o))){n=s;break}f+=4,u+=4,i=1}return $(n,n.e+F+1,R,t)},B.toExponential=function(t,e){return null!=t&&(w(t,0,y),t++),z(this,t,e,1)},B.toFixed=function(t,e){return null!=t&&(w(t,0,y),t=t+this.e+1),z(this,t,e)},B.toFormat=function(t,e,r){var n,i=this;if(null==r)null!=t&&e&&"object"==typeof e?(r=e,e=null):t&&"object"==typeof t?(r=t,t=e=null):r=U;else if("object"!=typeof r)throw Error(c+"Argument not an object: "+r);if(n=i.toFixed(t,e),i.c){var s,o=n.split("."),a=+r.groupSize,u=+r.secondaryGroupSize,f=r.groupSeparator||"",h=o[0],l=o[1],d=i.s<0,p=d?h.slice(1):h,g=p.length;if(u&&(s=a,a=u,u=s,g-=s),a>0&&g>0){for(s=g%a||a,h=p.substr(0,s);s<g;s+=a)h+=f+p.substr(s,a);u>0&&(h+=f+p.slice(s)),d&&(h="-"+h)}n=l?h+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?l.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):l):h}return(r.prefix||"")+n+(r.suffix||"")},B.toFraction=function(t){var e,n,i,s,o,a,u,f,h,d,g,y,m=this,v=m.c;if(null!=t&&(!(u=new q(t)).isInteger()&&(u.c||1!==u.s)||u.lt(k)))throw Error(c+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+X(u));if(!v)return new q(m);for(e=new q(k),h=n=new q(k),i=f=new q(k),y=b(v),o=e.e=y.length-m.e-1,e.c[0]=p[(a=o%l)<0?l+a:a],t=!t||u.comparedTo(e)>0?o>0?e:h:u,a=D,D=1/0,u=new q(y),f.c[0]=0;d=r(u,e,0,1),1!=(s=n.plus(d.times(i))).comparedTo(t);)n=i,i=s,h=f.plus(d.times(s=h)),f=s,e=u.minus(d.times(s=e)),u=s;return s=r(t.minus(n),i,0,1),f=f.plus(s.times(h)),n=n.plus(s.times(i)),f.s=h.s=m.s,g=r(h,i,o*=2,R).minus(m).abs().comparedTo(r(f,n,o,R).minus(m).abs())<1?[h,i]:[f,n],D=a,g},B.toNumber=function(){return+X(this)},B.toPrecision=function(t,e){return null!=t&&w(t,1,y),z(this,t,e,2)},B.toString=function(t){var e,r=this,i=r.s,s=r.e;return null===s?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=s<=N||s>=C?E(b(r.c),s):x(b(r.c),s,"0"):10===t&&V?e=x(b((r=$(new q(r),F+s+1,R)).c),r.e,"0"):(w(t,2,K.length,"Base"),e=n(x(b(r.c),s,"0"),10,t,i,!0)),i<0&&r.c[0]&&(e="-"+e)),e},B.valueOf=B.toJSON=function(){return X(this)},B._isBigNumber=!0,null!=e&&q.set(e),q}(),s.default=s.BigNumber=s,void 0===(n=function(){return s}.call(e,r,e,t))||(t.exports=n)}()},3550:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(6601).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function c(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,f=r;f<a;f+=n)u=c(t,f,f+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=c(t,f,t.length,e),f=0;f<o;f++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,u=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,h=67108863&u,l=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=l;d++){var p=c-d|0;f+=(o=(i=0|t.words[p])*(s=0|e.words[d])+h)/67108864|0,h=67108863&o}r.words[c]=0|h,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],u=(16777215&(a<<i|s)).toString(16);r=0!=(s=a>>>24-i&16777215)||o!==this.length-1?f[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=h[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?g+r:f[c-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,u="le"===e,c=new t(s),f=this.clone();if(u){for(a=0;!f.isZero();a++)o=f.andln(255),f.iushrn(8),c[a]=o;for(;a<s;a++)c[a]=0}else{for(a=0;a<s-i;a++)c[a]=0;for(a=0;!f.isZero();a++)o=f.andln(255),f.iushrn(8),c[s-a-1]=o}return c},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,s,o=t.words,a=e.words,u=r.words,c=0,f=0|o[0],h=8191&f,l=f>>>13,d=0|o[1],p=8191&d,g=d>>>13,y=0|o[2],m=8191&y,b=y>>>13,v=0|o[3],w=8191&v,S=v>>>13,E=0|o[4],x=8191&E,_=E>>>13,A=0|o[5],P=8191&A,I=A>>>13,T=0|o[6],O=8191&T,B=T>>>13,k=0|o[7],F=8191&k,R=k>>>13,N=0|o[8],C=8191&N,M=N>>>13,D=0|o[9],H=8191&D,j=D>>>13,L=0|a[0],U=8191&L,K=L>>>13,V=0|a[1],q=8191&V,z=V>>>13,W=0|a[2],G=8191&W,$=W>>>13,X=0|a[3],J=8191&X,Z=X>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ut=8191&at,ct=at>>>13,ft=0|a[8],ht=8191&ft,lt=ft>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(c+(n=Math.imul(h,U))|0)+((8191&(i=(i=Math.imul(h,K))+Math.imul(l,U)|0))<<13)|0;c=((s=Math.imul(l,K))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(p,U),i=(i=Math.imul(p,K))+Math.imul(g,U)|0,s=Math.imul(g,K);var mt=(c+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,z)|0)+Math.imul(l,q)|0))<<13)|0;c=((s=s+Math.imul(l,z)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(m,U),i=(i=Math.imul(m,K))+Math.imul(b,U)|0,s=Math.imul(b,K),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(g,q)|0,s=s+Math.imul(g,z)|0;var bt=(c+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,$)|0)+Math.imul(l,G)|0))<<13)|0;c=((s=s+Math.imul(l,$)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(w,U),i=(i=Math.imul(w,K))+Math.imul(S,U)|0,s=Math.imul(S,K),n=n+Math.imul(m,q)|0,i=(i=i+Math.imul(m,z)|0)+Math.imul(b,q)|0,s=s+Math.imul(b,z)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(g,G)|0,s=s+Math.imul(g,$)|0;var vt=(c+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(l,J)|0))<<13)|0;c=((s=s+Math.imul(l,Z)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(x,U),i=(i=Math.imul(x,K))+Math.imul(_,U)|0,s=Math.imul(_,K),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,z)|0)+Math.imul(S,q)|0,s=s+Math.imul(S,z)|0,n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,$)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,$)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(g,J)|0,s=s+Math.imul(g,Z)|0;var wt=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(l,Q)|0))<<13)|0;c=((s=s+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(P,U),i=(i=Math.imul(P,K))+Math.imul(I,U)|0,s=Math.imul(I,K),n=n+Math.imul(x,q)|0,i=(i=i+Math.imul(x,z)|0)+Math.imul(_,q)|0,s=s+Math.imul(_,z)|0,n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,$)|0,n=n+Math.imul(m,J)|0,i=(i=i+Math.imul(m,Z)|0)+Math.imul(b,J)|0,s=s+Math.imul(b,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,Q)|0,s=s+Math.imul(g,tt)|0;var St=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(l,rt)|0))<<13)|0;c=((s=s+Math.imul(l,nt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(O,U),i=(i=Math.imul(O,K))+Math.imul(B,U)|0,s=Math.imul(B,K),n=n+Math.imul(P,q)|0,i=(i=i+Math.imul(P,z)|0)+Math.imul(I,q)|0,s=s+Math.imul(I,z)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,$)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,$)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,Z)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(g,rt)|0,s=s+Math.imul(g,nt)|0;var Et=(c+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(l,st)|0))<<13)|0;c=((s=s+Math.imul(l,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(F,U),i=(i=Math.imul(F,K))+Math.imul(R,U)|0,s=Math.imul(R,K),n=n+Math.imul(O,q)|0,i=(i=i+Math.imul(O,z)|0)+Math.imul(B,q)|0,s=s+Math.imul(B,z)|0,n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(I,G)|0,s=s+Math.imul(I,$)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,Z)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(m,rt)|0,i=(i=i+Math.imul(m,nt)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(g,st)|0,s=s+Math.imul(g,ot)|0;var xt=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(l,ut)|0))<<13)|0;c=((s=s+Math.imul(l,ct)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(C,U),i=(i=Math.imul(C,K))+Math.imul(M,U)|0,s=Math.imul(M,K),n=n+Math.imul(F,q)|0,i=(i=i+Math.imul(F,z)|0)+Math.imul(R,q)|0,s=s+Math.imul(R,z)|0,n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,$)|0)+Math.imul(B,G)|0,s=s+Math.imul(B,$)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(I,J)|0,s=s+Math.imul(I,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(_,Q)|0,s=s+Math.imul(_,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(S,rt)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(m,st)|0,i=(i=i+Math.imul(m,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(g,ut)|0,s=s+Math.imul(g,ct)|0;var _t=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,lt)|0)+Math.imul(l,ht)|0))<<13)|0;c=((s=s+Math.imul(l,lt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(H,U),i=(i=Math.imul(H,K))+Math.imul(j,U)|0,s=Math.imul(j,K),n=n+Math.imul(C,q)|0,i=(i=i+Math.imul(C,z)|0)+Math.imul(M,q)|0,s=s+Math.imul(M,z)|0,n=n+Math.imul(F,G)|0,i=(i=i+Math.imul(F,$)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,$)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(B,J)|0,s=s+Math.imul(B,Z)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(_,rt)|0,s=s+Math.imul(_,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(m,ut)|0,i=(i=i+Math.imul(m,ct)|0)+Math.imul(b,ut)|0,s=s+Math.imul(b,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(g,ht)|0,s=s+Math.imul(g,lt)|0;var At=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,gt)|0)+Math.imul(l,pt)|0))<<13)|0;c=((s=s+Math.imul(l,gt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(H,q),i=(i=Math.imul(H,z))+Math.imul(j,q)|0,s=Math.imul(j,z),n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,$)|0)+Math.imul(M,G)|0,s=s+Math.imul(M,$)|0,n=n+Math.imul(F,J)|0,i=(i=i+Math.imul(F,Z)|0)+Math.imul(R,J)|0,s=s+Math.imul(R,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(B,Q)|0,s=s+Math.imul(B,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,nt)|0,n=n+Math.imul(x,st)|0,i=(i=i+Math.imul(x,ot)|0)+Math.imul(_,st)|0,s=s+Math.imul(_,ot)|0,n=n+Math.imul(w,ut)|0,i=(i=i+Math.imul(w,ct)|0)+Math.imul(S,ut)|0,s=s+Math.imul(S,ct)|0,n=n+Math.imul(m,ht)|0,i=(i=i+Math.imul(m,lt)|0)+Math.imul(b,ht)|0,s=s+Math.imul(b,lt)|0;var Pt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;c=((s=s+Math.imul(g,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(H,G),i=(i=Math.imul(H,$))+Math.imul(j,G)|0,s=Math.imul(j,$),n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,Z)|0)+Math.imul(M,J)|0,s=s+Math.imul(M,Z)|0,n=n+Math.imul(F,Q)|0,i=(i=i+Math.imul(F,tt)|0)+Math.imul(R,Q)|0,s=s+Math.imul(R,tt)|0,n=n+Math.imul(O,rt)|0,i=(i=i+Math.imul(O,nt)|0)+Math.imul(B,rt)|0,s=s+Math.imul(B,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(_,ut)|0,s=s+Math.imul(_,ct)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,lt)|0;var It=(c+(n=n+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,gt)|0)+Math.imul(b,pt)|0))<<13)|0;c=((s=s+Math.imul(b,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(H,J),i=(i=Math.imul(H,Z))+Math.imul(j,J)|0,s=Math.imul(j,Z),n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,tt)|0,n=n+Math.imul(F,rt)|0,i=(i=i+Math.imul(F,nt)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,nt)|0,n=n+Math.imul(O,st)|0,i=(i=i+Math.imul(O,ot)|0)+Math.imul(B,st)|0,s=s+Math.imul(B,ot)|0,n=n+Math.imul(P,ut)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(I,ut)|0,s=s+Math.imul(I,ct)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,lt)|0)+Math.imul(_,ht)|0,s=s+Math.imul(_,lt)|0;var Tt=(c+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,gt)|0)+Math.imul(S,pt)|0))<<13)|0;c=((s=s+Math.imul(S,gt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(H,Q),i=(i=Math.imul(H,tt))+Math.imul(j,Q)|0,s=Math.imul(j,tt),n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(M,rt)|0,s=s+Math.imul(M,nt)|0,n=n+Math.imul(F,st)|0,i=(i=i+Math.imul(F,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,n=n+Math.imul(O,ut)|0,i=(i=i+Math.imul(O,ct)|0)+Math.imul(B,ut)|0,s=s+Math.imul(B,ct)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,lt)|0;var Ot=(c+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,gt)|0)+Math.imul(_,pt)|0))<<13)|0;c=((s=s+Math.imul(_,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(H,rt),i=(i=Math.imul(H,nt))+Math.imul(j,rt)|0,s=Math.imul(j,nt),n=n+Math.imul(C,st)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(M,st)|0,s=s+Math.imul(M,ot)|0,n=n+Math.imul(F,ut)|0,i=(i=i+Math.imul(F,ct)|0)+Math.imul(R,ut)|0,s=s+Math.imul(R,ct)|0,n=n+Math.imul(O,ht)|0,i=(i=i+Math.imul(O,lt)|0)+Math.imul(B,ht)|0,s=s+Math.imul(B,lt)|0;var Bt=(c+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(I,pt)|0))<<13)|0;c=((s=s+Math.imul(I,gt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(H,st),i=(i=Math.imul(H,ot))+Math.imul(j,st)|0,s=Math.imul(j,ot),n=n+Math.imul(C,ut)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(M,ut)|0,s=s+Math.imul(M,ct)|0,n=n+Math.imul(F,ht)|0,i=(i=i+Math.imul(F,lt)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,lt)|0;var kt=(c+(n=n+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,gt)|0)+Math.imul(B,pt)|0))<<13)|0;c=((s=s+Math.imul(B,gt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(H,ut),i=(i=Math.imul(H,ct))+Math.imul(j,ut)|0,s=Math.imul(j,ct),n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,lt)|0)+Math.imul(M,ht)|0,s=s+Math.imul(M,lt)|0;var Ft=(c+(n=n+Math.imul(F,pt)|0)|0)+((8191&(i=(i=i+Math.imul(F,gt)|0)+Math.imul(R,pt)|0))<<13)|0;c=((s=s+Math.imul(R,gt)|0)+(i>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,n=Math.imul(H,ht),i=(i=Math.imul(H,lt))+Math.imul(j,ht)|0,s=Math.imul(j,lt);var Rt=(c+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,gt)|0)+Math.imul(M,pt)|0))<<13)|0;c=((s=s+Math.imul(M,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var Nt=(c+(n=Math.imul(H,pt))|0)+((8191&(i=(i=Math.imul(H,gt))+Math.imul(j,pt)|0))<<13)|0;return c=((s=Math.imul(j,gt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=yt,u[1]=mt,u[2]=bt,u[3]=vt,u[4]=wt,u[5]=St,u[6]=Et,u[7]=xt,u[8]=_t,u[9]=At,u[10]=Pt,u[11]=It,u[12]=Tt,u[13]=Ot,u[14]=Bt,u[15]=kt,u[16]=Ft,u[17]=Rt,u[18]=Nt,0!==c&&(u[19]=c,r.length++),r};function g(t,e,r){return(new y).mulp(t,e,r)}function y(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,u=Math.min(s,e.length-1),c=Math.max(0,s-t.length+1);c<=u;c++){var f=s-c,h=(0|t.words[f])*(0|e.words[c]),l=67108863&h;a=67108863&(l=l+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):g(this,t,e),r},y.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},y.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},y.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},y.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var h=u,l=c,d=0;d<o;d++){var p=r[f+d],g=n[f+d],y=r[f+d+o],m=n[f+d+o],b=h*y-l*m;m=h*m+l*y,y=b,r[f+d]=p+y,n[f+d]=g+m,r[f+d+o]=p-y,n[f+d+o]=g-m,d!==a&&(b=u*h-c*l,l=u*l+c*h,h=b)}},y.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},y.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},y.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(0==(-8192&s))},y.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},y.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),h=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,s,a,u,n,i),this.transform(c,s,f,h,n,i);for(var d=0;d<n;d++){var p=a[d]*f[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*f[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,l,s,n,i),this.conjugate(l,s,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),g(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,u=(0|this.words[e])-a<<r;this.words[e]=u|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,u=r;if(i-=o,i=Math.max(0,i),u){for(var c=0;c<o;c++)u.words[c]=this.words[c];u.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var h=0|this.words[c];this.words[c]=f<<26-s|h>>>s,f=h&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var u=(0|t.words[i])*e;a=((s-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!=(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==e){(a=new s(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var l=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(l=Math.min(l/o|0,67108863),n._ishlnsubmul(i,l,h);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=l)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),u=new s(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),h=e.clone();!e.isZero();){for(var l=0,d=1;0==(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(f),o.isub(h)),i.iushrn(1),o.iushrn(1);for(var p=0,g=1;0==(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(h)),a.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(u)):(r.isub(e),a.isub(i),u.isub(o))}return{a,b:u,gcd:r.iushln(c)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0==(e.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(e.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(u),o.iushrn(1);for(var h=0,l=1;0==(r.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return 0==(1&this.words[0])},s.prototype.isOdd=function(){return 1==(1&this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new x(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function _(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},i(v,b),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,b),i(S,b),i(E,b),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new w;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return m[t]=e,e},x.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var h=this.pow(f,i),l=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var g=d,y=0;0!==g.cmp(a);y++)g=g.redSqr();n(y<p);var m=this.pow(h,new s(1).iushln(p-y-1));l=l.redMul(m),h=m.redSqr(),d=d.redMul(h),p=y}return l},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],f=u-1;f>=0;f--){var h=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==o?(o<<=1,o|=h,(4==++a||0===n&&0===f)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}u=26}return i},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new _(t)},i(_,x),_.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},_.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},_.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},_.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},9931:(t,e,r)=>{var n;function i(t){this.rand=t}if(t.exports=function(t){return n||(n=new i(null)),n.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=r(9214);if("function"!=typeof s.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return s.randomBytes(t)}}catch(t){}},7191:(t,e,r)=>{var n=r(8162);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},3310:(t,e,r)=>{"use strict";var n=r(7191),i=r(9509).Buffer;t.exports=function(t){function e(e){var r=e.slice(0,-4),n=e.slice(-4),i=t(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(e){var r=t(e);return n.encode(i.concat([e,r],e.length+4))},decode:function(t){var r=e(n.decode(t));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(t){var r=n.decodeUnsafe(t);if(r)return e(r)}}}},8334:(t,e,r)=>{"use strict";var n=r(3482),i=r(3310);t.exports=i((function(t){var e=n("sha256").update(t).digest();return n("sha256").update(e).digest()}))},8764:(t,e,r)=>{"use strict";const n=r(9742),i=r(645),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=function(t){return+t!=t&&(t=0),u.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,u.prototype),e}function u(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,r)}function c(t,e,r){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|g(t,e);let n=a(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(X(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(X(t,ArrayBuffer)||t&&X(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(X(t,SharedArrayBuffer)||t&&X(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return u.from(n,e,r);const i=function(t){if(u.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}return void 0!==t.length?"number"!=typeof t.length||J(t.length)?a(0):l(t):"Buffer"===t.type&&Array.isArray(t.data)?l(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return u.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return f(t),a(t<0?0:0|p(t))}function l(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,u.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function g(t,e){if(u.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||X(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(t).length;default:if(i)return n?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,r);case"utf8":case"utf-8":return P(this,e,r);case"ascii":return T(this,e,r);case"latin1":case"binary":return O(this,e,r);case"base64":return A(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){let s,o=1,a=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(t,s)===c(e,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(t,s+n)!==c(e,n)){r=!1;break}if(r)return s}return-1}function w(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=e.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if(J(n))return o;t[r+o]=n}return o}function S(t,e,r,n){return $(W(e,t.length-r),t,r,n)}function E(t,e,r,n){return $(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return $(G(e),t,r,n)}function _(t,e,r,n){return $(function(t,e){let r,n,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function A(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function P(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[i+1],128==(192&r)&&(u=(31&e)<<6|63&r,u>127&&(s=u));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(u=(15&e)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(u=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=I));return r}(n)}e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(t,e,r){return c(t,e,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(t,e,r){return function(t,e,r){return f(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},u.allocUnsafe=function(t){return h(t)},u.allocUnsafeSlow=function(t){return h(t)},u.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==u.prototype},u.compare=function(t,e){if(X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=u.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(X(e,Uint8Array))i+e.length>n.length?(u.isBuffer(e)||(e=u.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!u.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?P(this,0,t):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(t,e,r,n,i){if(X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const a=Math.min(s,o),c=this.slice(n,i),f=t.slice(e,r);for(let t=0;t<a;++t)if(c[t]!==f[t]){s=c[t],o=f[t];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return S(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return x(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function T(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function O(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function B(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=Z[t[n]];return i}function k(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function F(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,r,n,i,s){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function N(t,e,r,n,i){K(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function C(t,e,r,n,i){K(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function M(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,n,s){return e=+e,r>>>=0,s||M(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function H(t,e,r,n,s){return e=+e,r>>>=0,s||M(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(t,e){return t>>>=0,e||F(t,1,this.length),this[t]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(t,e){return t>>>=0,e||F(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(t,e){return t>>>=0,e||F(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(t,e){return t>>>=0,e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(t,e){return t>>>=0,e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readBigUInt64LE=Y((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||F(t,e,this.length);let n=e,i=1,s=this[t+--n];for(;n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},u.prototype.readInt8=function(t,e){return t>>>=0,e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){t>>>=0,e||F(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){t>>>=0,e||F(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return t>>>=0,e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return t>>>=0,e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readBigInt64LE=Y((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),u.prototype.readBigInt64BE=Y((function(t){V(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||q(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),u.prototype.readFloatLE=function(t,e){return t>>>=0,e||F(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return t>>>=0,e||F(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return t>>>=0,e||F(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return t>>>=0,e||F(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||R(this,t,e,r,Math.pow(2,8*r)-1,0);let i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||R(this,t,e,r,Math.pow(2,8*r)-1,0);let i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,255,0),this[e]=255&t,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigUInt64LE=Y((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(t,e=0){return C(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s>>0)-o&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},u.prototype.writeBigInt64LE=Y((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(t,e=0){return C(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return H(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return H(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(!u.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const s=u.isBuffer(t)?t:u.from(t,n),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=s[i%o]}return this};const j={};function L(t,e,r){j[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function U(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function K(t,e,r,n,i,s){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new j.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){V(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||q(e,t.length-(r+1))}(n,i,s)}function V(t,e){if("number"!=typeof t)throw new j.ERR_INVALID_ARG_TYPE(e,"number",t)}function q(t,e,r){if(Math.floor(t)!==t)throw V(t,r),new j.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}L("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),L("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),L("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=U(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=U(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const z=/[^+/0-9A-Za-z-_]/g;function W(t,e){let r;e=e||1/0;const n=t.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function G(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function $(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function X(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const Z=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Y(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},1027:(t,e,r)=>{var n=r(9509).Buffer,i=r(2830).Transform,s=r(2553).s;function o(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(5717)(o,i),o.prototype.update=function(t,e,r){"string"==typeof t&&(t=n.from(t,e));var i=this._update(t);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},o.prototype.setAutoPadding=function(){},o.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},o.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},o.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},o.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){n=t}finally{r(n)}},o.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},o.prototype._finalOrDigest=function(t){var e=this.__final()||n.alloc(0);return t&&(e=this._toString(e,t,!0)),e},o.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new s(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n},t.exports=o},3482:(t,e,r)=>{"use strict";var n=r(5717),i=r(2318),s=r(9785),o=r(9072),a=r(1027);function u(t){a.call(this,"digest"),this._hash=t}n(u,a),u.prototype._update=function(t){this._hash.update(t)},u.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new s:new u(o(t))}},452:function(t,e,r){var n;t.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var t=n,e=t.lib.BlockCipher,r=t.algo,i=[],s=[],o=[],a=[],u=[],c=[],f=[],h=[],l=[],d=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var r=0,n=0;for(e=0;e<256;e++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,i[r]=p,s[p]=r;var g=t[r],y=t[g],m=t[y],b=257*t[p]^16843008*p;o[r]=b<<24|b>>>8,a[r]=b<<16|b>>>16,u[r]=b<<8|b>>>24,c[r]=b,b=16843009*m^65537*y^257*g^16843008*r,f[p]=b<<24|b>>>8,h[p]=b<<16|b>>>16,l[p]=b<<8|b>>>24,d[p]=b,r?(r=g^t[t[t[m^g]]],n^=t[t[n]]):r=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],g=r.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,n=4*((this._nRounds=r+6)+1),s=this._keySchedule=[],o=0;o<n;o++)if(o<r)s[o]=e[o];else{var a=s[o-1];o%r?r>6&&o%r==4&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=i[(a=a<<8|a>>>24)>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=p[o/r|0]<<24),s[o]=s[o-r]^a}for(var u=this._invKeySchedule=[],c=0;c<n;c++)o=n-c,a=c%4?s[o]:s[o-4],u[c]=c<4||o<=4?a:f[i[a>>>24]]^h[i[a>>>16&255]]^l[i[a>>>8&255]]^d[i[255&a]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,o,a,u,c,i)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,f,h,l,d,s),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,i,s,o,a){for(var u=this._nRounds,c=t[e]^r[0],f=t[e+1]^r[1],h=t[e+2]^r[2],l=t[e+3]^r[3],d=4,p=1;p<u;p++){var g=n[c>>>24]^i[f>>>16&255]^s[h>>>8&255]^o[255&l]^r[d++],y=n[f>>>24]^i[h>>>16&255]^s[l>>>8&255]^o[255&c]^r[d++],m=n[h>>>24]^i[l>>>16&255]^s[c>>>8&255]^o[255&f]^r[d++],b=n[l>>>24]^i[c>>>16&255]^s[f>>>8&255]^o[255&h]^r[d++];c=g,f=y,h=m,l=b}g=(a[c>>>24]<<24|a[f>>>16&255]<<16|a[h>>>8&255]<<8|a[255&l])^r[d++],y=(a[f>>>24]<<24|a[h>>>16&255]<<16|a[l>>>8&255]<<8|a[255&c])^r[d++],m=(a[h>>>24]<<24|a[l>>>16&255]<<16|a[c>>>8&255]<<8|a[255&f])^r[d++],b=(a[l>>>24]<<24|a[c>>>16&255]<<16|a[f>>>8&255]<<8|a[255&h])^r[d++],t[e]=g,t[e+1]=y,t[e+2]=m,t[e+3]=b},keySize:8});t.AES=e._createHelper(g)}(),n.AES)},5109:function(t,e,r){var n,i,s,o,a,u,c,f,h,l,d,p,g,y,m,b,v,w,S;t.exports=(n=r(8249),r(888),void(n.lib.Cipher||(i=n,s=i.lib,o=s.Base,a=s.WordArray,u=s.BufferedBlockAlgorithm,c=i.enc,c.Utf8,f=c.Base64,h=i.algo.EvpKDF,l=s.Cipher=u.extend({cfg:o.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?S:v}return function(e){return{encrypt:function(r,n,i){return t(n).encrypt(e,r,n,i)},decrypt:function(r,n,i){return t(n).decrypt(e,r,n,i)}}}}()}),s.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),d=i.mode={},p=s.BlockCipherMode=o.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),g=d.CBC=function(){var t=p.extend();function e(t,e,r){var n=this._iv;if(n){var i=n;this._iv=void 0}else i=this._prevBlock;for(var s=0;s<r;s++)t[e+s]^=i[s]}return t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize;e.call(this,t,r,i),n.encryptBlock(t,r),this._prevBlock=t.slice(r,r+i)}}),t.Decryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize,s=t.slice(r,r+i);n.decryptBlock(t,r),e.call(this,t,r,i),this._prevBlock=s}}),t}(),y=(i.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,n=r-t.sigBytes%r,i=n<<24|n<<16|n<<8|n,s=[],o=0;o<n;o+=4)s.push(i);var u=a.create(s,n);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},s.BlockCipher=l.extend({cfg:l.cfg.extend({mode:g,padding:y}),reset:function(){l.reset.call(this);var t=this.cfg,e=t.iv,r=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else n=r.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==n?this._mode.init(this,e&&e.words):(this._mode=n.call(r,this,e&&e.words),this._mode.__creator=n)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4}),m=s.CipherParams=o.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),b=(i.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,r=t.salt;if(r)var n=a.create([1398893684,1701076831]).concat(r).concat(e);else n=e;return n.toString(f)},parse:function(t){var e=f.parse(t),r=e.words;if(1398893684==r[0]&&1701076831==r[1]){var n=a.create(r.slice(2,4));r.splice(0,4),e.sigBytes-=16}return m.create({ciphertext:e,salt:n})}},v=s.SerializableCipher=o.extend({cfg:o.extend({format:b}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var i=t.createEncryptor(r,n),s=i.finalize(e),o=i.cfg;return m.create({ciphertext:s,key:r,iv:o.iv,algorithm:t,mode:o.mode,padding:o.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),w=(i.kdf={}).OpenSSL={execute:function(t,e,r,n){n||(n=a.random(8));var i=h.create({keySize:e+r}).compute(t,n),s=a.create(i.words.slice(e),4*r);return i.sigBytes=4*e,m.create({key:i,iv:s,salt:n})}},S=s.PasswordBasedCipher=v.extend({cfg:v.cfg.extend({kdf:w}),encrypt:function(t,e,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize);n.iv=i.iv;var s=v.encrypt.call(this,t,e,i.key,n);return s.mixIn(i),s},decrypt:function(t,e,r,n){n=this.cfg.extend(n),e=this._parse(e,n.format);var i=n.kdf.execute(r,t.keySize,t.ivSize,e.salt);return n.iv=i.iv,v.decrypt.call(this,t,e,i.key,n)}}))))},8249:function(t,e){var r;t.exports=(r=r||function(t,e){var r=Object.create||function(){function t(){}return function(e){var r;return t.prototype=e,r=new t,t.prototype=null,r}}(),n={},i=n.lib={},s=i.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=i.WordArray=s.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var s=0;s<i;s++){var o=r[s>>>2]>>>24-s%4*8&255;e[n+s>>>2]|=o<<24-(n+s)%4*8}else for(s=0;s<i;s+=4)e[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-r%4*8,e.length=t.ceil(r/4)},clone:function(){var t=s.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r,n=[],i=function(e){var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},s=0;s<e;s+=4){var a=i(4294967296*(r||t.random()));r=987654071*a(),n.push(4294967296*a()|0)}return new o.init(n,e)}}),a=n.enc={},u=a.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var s=e[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new o.init(r,e/2)}},c=a.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var s=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new o.init(r,e)}},f=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},h=i.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,n=r.words,i=r.sigBytes,s=this.blockSize,a=i/(4*s),u=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*s,c=t.min(4*u,i);if(u){for(var f=0;f<u;f+=s)this._doProcessBlock(n,f);var h=n.splice(0,u);r.sigBytes-=c}return new o.init(h,c)},clone:function(){var t=s.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),l=(i.Hasher=h.extend({cfg:s.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new l.HMAC.init(t,r).finalize(e)}}}),n.algo={});return n}(Math),r)},8269:function(t,e,r){var n,i,s;t.exports=(n=r(8249),s=(i=n).lib.WordArray,i.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp();for(var i=[],s=0;s<r;s+=3)for(var o=(e[s>>>2]>>>24-s%4*8&255)<<16|(e[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|e[s+2>>>2]>>>24-(s+2)%4*8&255,a=0;a<4&&s+.75*a<r;a++)i.push(n.charAt(o>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(t){var e=t.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var i=0;i<r.length;i++)n[r.charCodeAt(i)]=i}var o=r.charAt(64);if(o){var a=t.indexOf(o);-1!==a&&(e=a)}return function(t,e,r){for(var n=[],i=0,o=0;o<e;o++)if(o%4){var a=r[t.charCodeAt(o-1)]<<o%4*2,u=r[t.charCodeAt(o)]>>>6-o%4*2;n[i>>>2]|=(a|u)<<24-i%4*8,i++}return s.create(n,i)}(t,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},n.enc.Base64)},298:function(t,e,r){var n;t.exports=(n=r(8249),function(){var t=n,e=t.lib.WordArray,r=t.enc;function i(t){return t<<8&4278255360|t>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i+=2){var s=e[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(s))}return n.join("")},parse:function(t){for(var r=t.length,n=[],i=0;i<r;i++)n[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return e.create(n,2*r)}},r.Utf16LE={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],s=0;s<r;s+=2){var o=i(e[s>>>2]>>>16-s%4*8&65535);n.push(String.fromCharCode(o))}return n.join("")},parse:function(t){for(var r=t.length,n=[],s=0;s<r;s++)n[s>>>1]|=i(t.charCodeAt(s)<<16-s%2*16);return e.create(n,2*r)}}}(),n.enc.Utf16)},888:function(t,e,r){var n,i,s,o,a,u,c,f;t.exports=(f=r(8249),r(2783),r(9824),s=(i=(n=f).lib).Base,o=i.WordArray,u=(a=n.algo).MD5,c=a.EvpKDF=s.extend({cfg:s.extend({keySize:4,hasher:u,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=r.hasher.create(),i=o.create(),s=i.words,a=r.keySize,u=r.iterations;s.length<a;){c&&n.update(c);var c=n.update(t).finalize(e);n.reset();for(var f=1;f<u;f++)c=n.finalize(c),n.reset();i.concat(c)}return i.sigBytes=4*a,i}}),n.EvpKDF=function(t,e,r){return c.create(r).compute(t,e)},f.EvpKDF)},2209:function(t,e,r){var n,i,s,o;t.exports=(o=r(8249),r(5109),i=(n=o).lib.CipherParams,s=n.enc.Hex,n.format.Hex={stringify:function(t){return t.ciphertext.toString(s)},parse:function(t){var e=s.parse(t);return i.create({ciphertext:e})}},o.format.Hex)},9824:function(t,e,r){var n,i,s;t.exports=(i=(n=r(8249)).lib.Base,s=n.enc.Utf8,void(n.algo.HMAC=i.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=s.parse(e));var r=t.blockSize,n=4*r;e.sigBytes>n&&(e=t.finalize(e)),e.clamp();for(var i=this._oKey=e.clone(),o=this._iKey=e.clone(),a=i.words,u=o.words,c=0;c<r;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,r=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(r))}})))},1354:function(t,e,r){var n;t.exports=(n=r(8249),r(4938),r(4433),r(298),r(8269),r(8214),r(2783),r(2153),r(7792),r(34),r(7460),r(3327),r(706),r(9824),r(2112),r(888),r(5109),r(8568),r(4242),r(9968),r(7660),r(1148),r(3615),r(2807),r(1077),r(6475),r(6991),r(2209),r(452),r(4253),r(1857),r(4454),r(3974),n)},4433:function(t,e,r){var n;t.exports=(n=r(8249),function(){if("function"==typeof ArrayBuffer){var t=n.lib.WordArray,e=t.init,r=t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var r=t.byteLength,n=[],i=0;i<r;i++)n[i>>>2]|=t[i]<<24-i%4*8;e.call(this,n,r)}else e.apply(this,arguments)};r.prototype=t}}(),n.lib.WordArray)},8214:function(t,e,r){var n;t.exports=(n=r(8249),function(t){var e=n,r=e.lib,i=r.WordArray,s=r.Hasher,o=e.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var u=o.MD5=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var s=this._hash.words,o=t[e+0],u=t[e+1],d=t[e+2],p=t[e+3],g=t[e+4],y=t[e+5],m=t[e+6],b=t[e+7],v=t[e+8],w=t[e+9],S=t[e+10],E=t[e+11],x=t[e+12],_=t[e+13],A=t[e+14],P=t[e+15],I=s[0],T=s[1],O=s[2],B=s[3];I=c(I,T,O,B,o,7,a[0]),B=c(B,I,T,O,u,12,a[1]),O=c(O,B,I,T,d,17,a[2]),T=c(T,O,B,I,p,22,a[3]),I=c(I,T,O,B,g,7,a[4]),B=c(B,I,T,O,y,12,a[5]),O=c(O,B,I,T,m,17,a[6]),T=c(T,O,B,I,b,22,a[7]),I=c(I,T,O,B,v,7,a[8]),B=c(B,I,T,O,w,12,a[9]),O=c(O,B,I,T,S,17,a[10]),T=c(T,O,B,I,E,22,a[11]),I=c(I,T,O,B,x,7,a[12]),B=c(B,I,T,O,_,12,a[13]),O=c(O,B,I,T,A,17,a[14]),I=f(I,T=c(T,O,B,I,P,22,a[15]),O,B,u,5,a[16]),B=f(B,I,T,O,m,9,a[17]),O=f(O,B,I,T,E,14,a[18]),T=f(T,O,B,I,o,20,a[19]),I=f(I,T,O,B,y,5,a[20]),B=f(B,I,T,O,S,9,a[21]),O=f(O,B,I,T,P,14,a[22]),T=f(T,O,B,I,g,20,a[23]),I=f(I,T,O,B,w,5,a[24]),B=f(B,I,T,O,A,9,a[25]),O=f(O,B,I,T,p,14,a[26]),T=f(T,O,B,I,v,20,a[27]),I=f(I,T,O,B,_,5,a[28]),B=f(B,I,T,O,d,9,a[29]),O=f(O,B,I,T,b,14,a[30]),I=h(I,T=f(T,O,B,I,x,20,a[31]),O,B,y,4,a[32]),B=h(B,I,T,O,v,11,a[33]),O=h(O,B,I,T,E,16,a[34]),T=h(T,O,B,I,A,23,a[35]),I=h(I,T,O,B,u,4,a[36]),B=h(B,I,T,O,g,11,a[37]),O=h(O,B,I,T,b,16,a[38]),T=h(T,O,B,I,S,23,a[39]),I=h(I,T,O,B,_,4,a[40]),B=h(B,I,T,O,o,11,a[41]),O=h(O,B,I,T,p,16,a[42]),T=h(T,O,B,I,m,23,a[43]),I=h(I,T,O,B,w,4,a[44]),B=h(B,I,T,O,x,11,a[45]),O=h(O,B,I,T,P,16,a[46]),I=l(I,T=h(T,O,B,I,d,23,a[47]),O,B,o,6,a[48]),B=l(B,I,T,O,b,10,a[49]),O=l(O,B,I,T,A,15,a[50]),T=l(T,O,B,I,y,21,a[51]),I=l(I,T,O,B,x,6,a[52]),B=l(B,I,T,O,p,10,a[53]),O=l(O,B,I,T,S,15,a[54]),T=l(T,O,B,I,u,21,a[55]),I=l(I,T,O,B,v,6,a[56]),B=l(B,I,T,O,P,10,a[57]),O=l(O,B,I,T,m,15,a[58]),T=l(T,O,B,I,_,21,a[59]),I=l(I,T,O,B,g,6,a[60]),B=l(B,I,T,O,E,10,a[61]),O=l(O,B,I,T,d,15,a[62]),T=l(T,O,B,I,w,21,a[63]),s[0]=s[0]+I|0,s[1]=s[1]+T|0,s[2]=s[2]+O|0,s[3]=s[3]+B|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var s=t.floor(n/4294967296),o=n;r[15+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),r[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,u=a.words,c=0;c<4;c++){var f=u[c];u[c]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return a},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}});function c(t,e,r,n,i,s,o){var a=t+(e&r|~e&n)+i+o;return(a<<s|a>>>32-s)+e}function f(t,e,r,n,i,s,o){var a=t+(e&n|r&~n)+i+o;return(a<<s|a>>>32-s)+e}function h(t,e,r,n,i,s,o){var a=t+(e^r^n)+i+o;return(a<<s|a>>>32-s)+e}function l(t,e,r,n,i,s,o){var a=t+(r^(e|~n))+i+o;return(a<<s|a>>>32-s)+e}e.MD5=s._createHelper(u),e.HmacMD5=s._createHmacHelper(u)}(Math),n.MD5)},8568:function(t,e,r){var n;t.exports=(n=r(8249),r(5109),n.mode.CFB=function(){var t=n.lib.BlockCipherMode.extend();function e(t,e,r,n){var i=this._iv;if(i){var s=i.slice(0);this._iv=void 0}else s=this._prevBlock;n.encryptBlock(s,0);for(var o=0;o<r;o++)t[e+o]^=s[o]}return t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize;e.call(this,t,r,i,n),this._prevBlock=t.slice(r,r+i)}}),t.Decryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize,s=t.slice(r,r+i);e.call(this,t,r,i,n),this._prevBlock=s}}),t}(),n.mode.CFB)},9968:function(t,e,r){var n;t.exports=(n=r(8249),r(5109),n.mode.CTRGladman=function(){var t=n.lib.BlockCipherMode.extend();function e(t){if(255==(t>>24&255)){var e=t>>16&255,r=t>>8&255,n=255&t;255===e?(e=0,255===r?(r=0,255===n?n=0:++n):++r):++e,t=0,t+=e<<16,t+=r<<8,t+=n}else t+=1<<24;return t}var r=t.Encryptor=t.extend({processBlock:function(t,r){var n=this._cipher,i=n.blockSize,s=this._iv,o=this._counter;s&&(o=this._counter=s.slice(0),this._iv=void 0),function(t){0===(t[0]=e(t[0]))&&(t[1]=e(t[1]))}(o);var a=o.slice(0);n.encryptBlock(a,0);for(var u=0;u<i;u++)t[r+u]^=a[u]}});return t.Decryptor=r,t}(),n.mode.CTRGladman)},4242:function(t,e,r){var n,i,s;t.exports=(s=r(8249),r(5109),s.mode.CTR=(i=(n=s.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=void 0);var o=s.slice(0);r.encryptBlock(o,0),s[n-1]=s[n-1]+1|0;for(var a=0;a<n;a++)t[e+a]^=o[a]}}),n.Decryptor=i,n),s.mode.CTR)},1148:function(t,e,r){var n,i;t.exports=(i=r(8249),r(5109),i.mode.ECB=((n=i.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),n.Decryptor=n.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),n),i.mode.ECB)},7660:function(t,e,r){var n,i,s;t.exports=(s=r(8249),r(5109),s.mode.OFB=(i=(n=s.lib.BlockCipherMode.extend()).Encryptor=n.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=this._iv,s=this._keystream;i&&(s=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(s,0);for(var o=0;o<n;o++)t[e+o]^=s[o]}}),n.Decryptor=i,n),s.mode.OFB)},3615:function(t,e,r){var n;t.exports=(n=r(8249),r(5109),n.pad.AnsiX923={pad:function(t,e){var r=t.sigBytes,n=4*e,i=n-r%n,s=r+i-1;t.clamp(),t.words[s>>>2]|=i<<24-s%4*8,t.sigBytes+=i},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Ansix923)},2807:function(t,e,r){var n;t.exports=(n=r(8249),r(5109),n.pad.Iso10126={pad:function(t,e){var r=4*e,i=r-t.sigBytes%r;t.concat(n.lib.WordArray.random(i-1)).concat(n.lib.WordArray.create([i<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},n.pad.Iso10126)},1077:function(t,e,r){var n;t.exports=(n=r(8249),r(5109),n.pad.Iso97971={pad:function(t,e){t.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(t,e)},unpad:function(t){n.pad.ZeroPadding.unpad(t),t.sigBytes--}},n.pad.Iso97971)},6991:function(t,e,r){var n;t.exports=(n=r(8249),r(5109),n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding)},6475:function(t,e,r){var n;t.exports=(n=r(8249),r(5109),n.pad.ZeroPadding={pad:function(t,e){var r=4*e;t.clamp(),t.sigBytes+=r-(t.sigBytes%r||r)},unpad:function(t){for(var e=t.words,r=t.sigBytes-1;!(e[r>>>2]>>>24-r%4*8&255);)r--;t.sigBytes=r+1}},n.pad.ZeroPadding)},2112:function(t,e,r){var n,i,s,o,a,u,c,f,h;t.exports=(h=r(8249),r(2783),r(9824),s=(i=(n=h).lib).Base,o=i.WordArray,u=(a=n.algo).SHA1,c=a.HMAC,f=a.PBKDF2=s.extend({cfg:s.extend({keySize:4,hasher:u,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=c.create(r.hasher,t),i=o.create(),s=o.create([1]),a=i.words,u=s.words,f=r.keySize,h=r.iterations;a.length<f;){var l=n.update(e).finalize(s);n.reset();for(var d=l.words,p=d.length,g=l,y=1;y<h;y++){g=n.finalize(g),n.reset();for(var m=g.words,b=0;b<p;b++)d[b]^=m[b]}i.concat(l),u[0]++}return i.sigBytes=4*f,i}}),n.PBKDF2=function(t,e,r){return f.create(r).compute(t,e)},h.PBKDF2)},3974:function(t,e,r){var n;t.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=[],s=[],o=[],a=r.RabbitLegacy=e.extend({_doReset:function(){var t=this._key.words,e=this.cfg.iv,r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];this._b=0;for(var i=0;i<4;i++)u.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(e){var s=e.words,o=s[0],a=s[1],c=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),f=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=c>>>16|4294901760&f,l=f<<16|65535&c;for(n[0]^=c,n[1]^=h,n[2]^=f,n[3]^=l,n[4]^=c,n[5]^=h,n[6]^=f,n[7]^=l,i=0;i<4;i++)u.call(this)}},_doProcessBlock:function(t,e){var r=this._X;u.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),t[e+n]^=i[n]},blockSize:4,ivSize:2});function u(){for(var t=this._X,e=this._C,r=0;r<8;r++)s[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<s[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<s[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<s[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<s[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<s[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<s[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<s[6]>>>0?1:0)|0,this._b=e[7]>>>0<s[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],i=65535&n,a=n>>>16,u=((i*i>>>17)+i*a>>>15)+a*a,c=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=u^c}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.RabbitLegacy=e._createHelper(a)}(),n.RabbitLegacy)},4454:function(t,e,r){var n;t.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=[],s=[],o=[],a=r.Rabbit=e.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,r=0;r<4;r++)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);var n=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]];for(this._b=0,r=0;r<4;r++)u.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(e){var s=e.words,o=s[0],a=s[1],c=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),f=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),h=c>>>16|4294901760&f,l=f<<16|65535&c;for(i[0]^=c,i[1]^=h,i[2]^=f,i[3]^=l,i[4]^=c,i[5]^=h,i[6]^=f,i[7]^=l,r=0;r<4;r++)u.call(this)}},_doProcessBlock:function(t,e){var r=this._X;u.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),t[e+n]^=i[n]},blockSize:4,ivSize:2});function u(){for(var t=this._X,e=this._C,r=0;r<8;r++)s[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<s[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<s[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<s[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<s[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<s[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<s[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<s[6]>>>0?1:0)|0,this._b=e[7]>>>0<s[7]>>>0?1:0,r=0;r<8;r++){var n=t[r]+e[r],i=65535&n,a=n>>>16,u=((i*i>>>17)+i*a>>>15)+a*a,c=((4294901760&n)*n|0)+((65535&n)*n|0);o[r]=u^c}t[0]=o[0]+(o[7]<<16|o[7]>>>16)+(o[6]<<16|o[6]>>>16)|0,t[1]=o[1]+(o[0]<<8|o[0]>>>24)+o[7]|0,t[2]=o[2]+(o[1]<<16|o[1]>>>16)+(o[0]<<16|o[0]>>>16)|0,t[3]=o[3]+(o[2]<<8|o[2]>>>24)+o[1]|0,t[4]=o[4]+(o[3]<<16|o[3]>>>16)+(o[2]<<16|o[2]>>>16)|0,t[5]=o[5]+(o[4]<<8|o[4]>>>24)+o[3]|0,t[6]=o[6]+(o[5]<<16|o[5]>>>16)+(o[4]<<16|o[4]>>>16)|0,t[7]=o[7]+(o[6]<<8|o[6]>>>24)+o[5]|0}t.Rabbit=e._createHelper(a)}(),n.Rabbit)},1857:function(t,e,r){var n;t.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var t=n,e=t.lib.StreamCipher,r=t.algo,i=r.RC4=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var s=0;i<256;i++){var o=i%r,a=e[o>>>2]>>>24-o%4*8&255;s=(s+n[i]+a)%256;var u=n[i];n[i]=n[s],n[s]=u}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=s.call(this)},keySize:8,ivSize:0});function s(){for(var t=this._S,e=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+t[e=(e+1)%256])%256;var s=t[e];t[e]=t[r],t[r]=s,n|=t[(t[e]+t[r])%256]<<24-8*i}return this._i=e,this._j=r,n}t.RC4=e._createHelper(i);var o=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var t=this.cfg.drop;t>0;t--)s.call(this)}});t.RC4Drop=e._createHelper(o)}(),n.RC4)},706:function(t,e,r){var n;t.exports=(n=r(8249),function(t){var e=n,r=e.lib,i=r.WordArray,s=r.Hasher,o=e.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=i.create([0,1518500249,1859775393,2400959708,2840853838]),l=i.create([1352829926,1548603684,1836072691,2053994217,0]),d=o.RIPEMD160=s.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var n=e+r,i=t[n];t[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var s,o,d,w,S,E,x,_,A,P,I,T=this._hash.words,O=h.words,B=l.words,k=a.words,F=u.words,R=c.words,N=f.words;for(E=s=T[0],x=o=T[1],_=d=T[2],A=w=T[3],P=S=T[4],r=0;r<80;r+=1)I=s+t[e+k[r]]|0,I+=r<16?p(o,d,w)+O[0]:r<32?g(o,d,w)+O[1]:r<48?y(o,d,w)+O[2]:r<64?m(o,d,w)+O[3]:b(o,d,w)+O[4],I=(I=v(I|=0,R[r]))+S|0,s=S,S=w,w=v(d,10),d=o,o=I,I=E+t[e+F[r]]|0,I+=r<16?b(x,_,A)+B[0]:r<32?m(x,_,A)+B[1]:r<48?y(x,_,A)+B[2]:r<64?g(x,_,A)+B[3]:p(x,_,A)+B[4],I=(I=v(I|=0,N[r]))+P|0,E=P,P=A,A=v(_,10),_=x,x=I;I=T[1]+d+A|0,T[1]=T[2]+w+P|0,T[2]=T[3]+S+E|0,T[3]=T[4]+s+x|0,T[4]=T[0]+o+_|0,T[0]=I},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,s=i.words,o=0;o<5;o++){var a=s[o];s[o]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}});function p(t,e,r){return t^e^r}function g(t,e,r){return t&e|~t&r}function y(t,e,r){return(t|~e)^r}function m(t,e,r){return t&r|e&~r}function b(t,e,r){return t^(e|~r)}function v(t,e){return t<<e|t>>>32-e}e.RIPEMD160=s._createHelper(d),e.HmacRIPEMD160=s._createHmacHelper(d)}(Math),n.RIPEMD160)},2783:function(t,e,r){var n,i,s,o,a,u,c,f;t.exports=(i=(n=f=r(8249)).lib,s=i.WordArray,o=i.Hasher,a=n.algo,u=[],c=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],o=r[3],a=r[4],c=0;c<80;c++){if(c<16)u[c]=0|t[e+c];else{var f=u[c-3]^u[c-8]^u[c-14]^u[c-16];u[c]=f<<1|f>>>31}var h=(n<<5|n>>>27)+a+u[c];h+=c<20?1518500249+(i&s|~i&o):c<40?1859775393+(i^s^o):c<60?(i&s|i&o|s&o)-1894007588:(i^s^o)-899497514,a=o,o=s,s=i<<30|i>>>2,i=n,n=h}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+o|0,r[4]=r[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}}),n.SHA1=o._createHelper(c),n.HmacSHA1=o._createHmacHelper(c),f.SHA1)},7792:function(t,e,r){var n,i,s,o,a,u;t.exports=(u=r(8249),r(2153),i=(n=u).lib.WordArray,s=n.algo,o=s.SHA256,a=s.SHA224=o.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=o._doFinalize.call(this);return t.sigBytes-=4,t}}),n.SHA224=o._createHelper(a),n.HmacSHA224=o._createHmacHelper(a),u.SHA224)},2153:function(t,e,r){var n;t.exports=(n=r(8249),function(t){var e=n,r=e.lib,i=r.WordArray,s=r.Hasher,o=e.algo,a=[],u=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(t){return 4294967296*(t-(0|t))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(a[i]=r(t.pow(n,.5))),u[i]=r(t.pow(n,1/3)),i++),n++}();var c=[],f=o.SHA256=s.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],o=r[3],a=r[4],f=r[5],h=r[6],l=r[7],d=0;d<64;d++){if(d<16)c[d]=0|t[e+d];else{var p=c[d-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,y=c[d-2],m=(y<<15|y>>>17)^(y<<13|y>>>19)^y>>>10;c[d]=g+c[d-7]+m+c[d-16]}var b=n&i^n&s^i&s,v=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=l+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&f^~a&h)+u[d]+c[d];l=h,h=f,f=a,a=o+w|0,o=s,s=i,i=n,n=w+(v+b)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+o|0,r[4]=r[4]+a|0,r[5]=r[5]+f|0,r[6]=r[6]+h|0,r[7]=r[7]+l|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=s._createHelper(f),e.HmacSHA256=s._createHmacHelper(f)}(Math),n.SHA256)},3327:function(t,e,r){var n;t.exports=(n=r(8249),r(4938),function(t){var e=n,r=e.lib,i=r.WordArray,s=r.Hasher,o=e.x64.Word,a=e.algo,u=[],c=[],f=[];!function(){for(var t=1,e=0,r=0;r<24;r++){u[t+5*e]=(r+1)*(r+2)/2%64;var n=(2*t+3*e)%5;t=e%5,e=n}for(t=0;t<5;t++)for(e=0;e<5;e++)c[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,s=0;s<24;s++){for(var a=0,h=0,l=0;l<7;l++){if(1&i){var d=(1<<l)-1;d<32?h^=1<<d:a^=1<<d-32}128&i?i=i<<1^113:i<<=1}f[s]=o.create(a,h)}}();var h=[];!function(){for(var t=0;t<25;t++)h[t]=o.create()}();var l=a.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var s=t[e+2*i],o=t[e+2*i+1];s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),(T=r[i]).high^=o,T.low^=s}for(var a=0;a<24;a++){for(var l=0;l<5;l++){for(var d=0,p=0,g=0;g<5;g++)d^=(T=r[l+5*g]).high,p^=T.low;var y=h[l];y.high=d,y.low=p}for(l=0;l<5;l++){var m=h[(l+4)%5],b=h[(l+1)%5],v=b.high,w=b.low;for(d=m.high^(v<<1|w>>>31),p=m.low^(w<<1|v>>>31),g=0;g<5;g++)(T=r[l+5*g]).high^=d,T.low^=p}for(var S=1;S<25;S++){var E=(T=r[S]).high,x=T.low,_=u[S];_<32?(d=E<<_|x>>>32-_,p=x<<_|E>>>32-_):(d=x<<_-32|E>>>64-_,p=E<<_-32|x>>>64-_);var A=h[c[S]];A.high=d,A.low=p}var P=h[0],I=r[0];for(P.high=I.high,P.low=I.low,l=0;l<5;l++)for(g=0;g<5;g++){var T=r[S=l+5*g],O=h[S],B=h[(l+1)%5+5*g],k=h[(l+2)%5+5*g];T.high=O.high^~B.high&k.high,T.low=O.low^~B.low&k.low}T=r[0];var F=f[a];T.high^=F.high,T.low^=F.low}},_doFinalize:function(){var e=this._data,r=e.words,n=(this._nDataBytes,8*e.sigBytes),s=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(t.ceil((n+1)/s)*s>>>5)-1]|=128,e.sigBytes=4*r.length,this._process();for(var o=this._state,a=this.cfg.outputLength/8,u=a/8,c=[],f=0;f<u;f++){var h=o[f],l=h.high,d=h.low;l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),c.push(d),c.push(l)}return new i.init(c,a)},clone:function(){for(var t=s.clone.call(this),e=t._state=this._state.slice(0),r=0;r<25;r++)e[r]=e[r].clone();return t}});e.SHA3=s._createHelper(l),e.HmacSHA3=s._createHmacHelper(l)}(Math),n.SHA3)},7460:function(t,e,r){var n,i,s,o,a,u,c,f;t.exports=(f=r(8249),r(4938),r(34),i=(n=f).x64,s=i.Word,o=i.WordArray,a=n.algo,u=a.SHA512,c=a.SHA384=u.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var t=u._doFinalize.call(this);return t.sigBytes-=16,t}}),n.SHA384=u._createHelper(c),n.HmacSHA384=u._createHmacHelper(c),f.SHA384)},34:function(t,e,r){var n;t.exports=(n=r(8249),r(4938),function(){var t=n,e=t.lib.Hasher,r=t.x64,i=r.Word,s=r.WordArray,o=t.algo;function a(){return i.create.apply(i,arguments)}var u=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],c=[];!function(){for(var t=0;t<80;t++)c[t]=a()}();var f=o.SHA512=e.extend({_doReset:function(){this._hash=new s.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],o=r[3],a=r[4],f=r[5],h=r[6],l=r[7],d=n.high,p=n.low,g=i.high,y=i.low,m=s.high,b=s.low,v=o.high,w=o.low,S=a.high,E=a.low,x=f.high,_=f.low,A=h.high,P=h.low,I=l.high,T=l.low,O=d,B=p,k=g,F=y,R=m,N=b,C=v,M=w,D=S,H=E,j=x,L=_,U=A,K=P,V=I,q=T,z=0;z<80;z++){var W=c[z];if(z<16)var G=W.high=0|t[e+2*z],$=W.low=0|t[e+2*z+1];else{var X=c[z-15],J=X.high,Z=X.low,Y=(J>>>1|Z<<31)^(J>>>8|Z<<24)^J>>>7,Q=(Z>>>1|J<<31)^(Z>>>8|J<<24)^(Z>>>7|J<<25),tt=c[z-2],et=tt.high,rt=tt.low,nt=(et>>>19|rt<<13)^(et<<3|rt>>>29)^et>>>6,it=(rt>>>19|et<<13)^(rt<<3|et>>>29)^(rt>>>6|et<<26),st=c[z-7],ot=st.high,at=st.low,ut=c[z-16],ct=ut.high,ft=ut.low;G=(G=(G=Y+ot+(($=Q+at)>>>0<Q>>>0?1:0))+nt+(($+=it)>>>0<it>>>0?1:0))+ct+(($+=ft)>>>0<ft>>>0?1:0),W.high=G,W.low=$}var ht,lt=D&j^~D&U,dt=H&L^~H&K,pt=O&k^O&R^k&R,gt=B&F^B&N^F&N,yt=(O>>>28|B<<4)^(O<<30|B>>>2)^(O<<25|B>>>7),mt=(B>>>28|O<<4)^(B<<30|O>>>2)^(B<<25|O>>>7),bt=(D>>>14|H<<18)^(D>>>18|H<<14)^(D<<23|H>>>9),vt=(H>>>14|D<<18)^(H>>>18|D<<14)^(H<<23|D>>>9),wt=u[z],St=wt.high,Et=wt.low,xt=V+bt+((ht=q+vt)>>>0<q>>>0?1:0),_t=mt+gt;V=U,q=K,U=j,K=L,j=D,L=H,D=C+(xt=(xt=(xt=xt+lt+((ht+=dt)>>>0<dt>>>0?1:0))+St+((ht+=Et)>>>0<Et>>>0?1:0))+G+((ht+=$)>>>0<$>>>0?1:0))+((H=M+ht|0)>>>0<M>>>0?1:0)|0,C=R,M=N,R=k,N=F,k=O,F=B,O=xt+(yt+pt+(_t>>>0<mt>>>0?1:0))+((B=ht+_t|0)>>>0<ht>>>0?1:0)|0}p=n.low=p+B,n.high=d+O+(p>>>0<B>>>0?1:0),y=i.low=y+F,i.high=g+k+(y>>>0<F>>>0?1:0),b=s.low=b+N,s.high=m+R+(b>>>0<N>>>0?1:0),w=o.low=w+M,o.high=v+C+(w>>>0<M>>>0?1:0),E=a.low=E+H,a.high=S+D+(E>>>0<H>>>0?1:0),_=f.low=_+L,f.high=x+j+(_>>>0<L>>>0?1:0),P=h.low=P+K,h.high=A+U+(P>>>0<K>>>0?1:0),T=l.low=T+q,l.high=I+V+(T>>>0<q>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(n+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=e.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});t.SHA512=e._createHelper(f),t.HmacSHA512=e._createHmacHelper(f)}(),n.SHA512)},4253:function(t,e,r){var n;t.exports=(n=r(8249),r(8269),r(8214),r(888),r(5109),function(){var t=n,e=t.lib,r=e.WordArray,i=e.BlockCipher,s=t.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=s.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;r<56;r++){var n=o[r]-1;e[r]=t[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],s=0;s<16;s++){var c=i[s]=[],f=u[s];for(r=0;r<24;r++)c[r/6|0]|=e[(a[r]-1+f)%28]<<31-r%6,c[4+(r/6|0)]|=e[28+(a[r+24]-1+f)%28]<<31-r%6;for(c[0]=c[0]<<1|c[0]>>>31,r=1;r<7;r++)c[r]=c[r]>>>4*(r-1)+3;c[7]=c[7]<<5|c[7]>>>27}var h=this._invSubKeys=[];for(r=0;r<16;r++)h[r]=i[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,r){this._lBlock=t[e],this._rBlock=t[e+1],l.call(this,4,252645135),l.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),l.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],s=this._lBlock,o=this._rBlock,a=0,u=0;u<8;u++)a|=c[u][((o^i[u])&f[u])>>>0];this._lBlock=o,this._rBlock=s^a}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,l.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),l.call(this,16,65535),l.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function l(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function d(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}t.DES=i._createHelper(h);var p=s.TripleDES=i.extend({_doReset:function(){var t=this._key.words;this._des1=h.createEncryptor(r.create(t.slice(0,2))),this._des2=h.createEncryptor(r.create(t.slice(2,4))),this._des3=h.createEncryptor(r.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(p)}(),n.TripleDES)},4938:function(t,e,r){var n,i,s,o,a,u;t.exports=(n=r(8249),s=(i=n).lib,o=s.Base,a=s.WordArray,(u=i.x64={}).Word=o.extend({init:function(t,e){this.high=t,this.low=e}}),u.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,r=[],n=0;n<e;n++){var i=t[n];r.push(i.high),r.push(i.low)}return a.create(r,this.sigBytes)},clone:function(){for(var t=o.clone.call(this),e=t.words=this.words.slice(0),r=e.length,n=0;n<r;n++)e[n]=e[n].clone();return t}}),n)},7187:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,s),n(r)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}g(t,e,s,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function c(t,e,r,n){var i,s,o,c;if(a(r),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),void 0===o)o=s[e]=r,++t._eventsCount;else if("function"==typeof o?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=u(t))>0&&o.length>i&&!o.warned){o.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=t,f.type=e,f.count=o.length,c=f,console&&console.warn&&console.warn(c)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function l(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function g(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(s){n.once&&t.removeEventListener(e,i),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[t];if(void 0===u)return!1;if("function"==typeof u)n(u,this,e);else{var c=u.length,f=p(u,c);for(r=0;r<c;++r)n(f[r],this,e)}return!0},s.prototype.addListener=function(t,e){return c(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return c(this,t,e,!0)},s.prototype.once=function(t,e){return a(e),this.on(t,h(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,h(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,n,i,s,o;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return l(this,t,!0)},s.prototype.rawListeners=function(t){return l(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},3349:(t,e,r)=>{"use strict";var n=r(9509).Buffer,i=r(8473).Transform;function s(t){i.call(this),this._block=n.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(5717)(s,i),s.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(t){n=t}r(n)},s.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},s.prototype.update=function(t,e){if(function(t,e){if(!n.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer")}(t),this._finalized)throw new Error("Digest already called");n.isBuffer(t)||(t=n.from(t,e));for(var r=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)r[this._blockOffset++]=t[i++];for(var o=0,a=8*t.length;a>0;++o)this._length[o]+=a,(a=this._length[o]/4294967296|0)>0&&(this._length[o]-=4294967296*a);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e},s.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=s},3715:(t,e,r)=>{var n=e;n.utils=r(6436),n.common=r(5772),n.sha=r(9041),n.ripemd=r(2949),n.hmac=r(2344),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},5772:(t,e,r)=>{"use strict";var n=r(6436),i=r(9746);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=s,s.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},s.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},s.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n}},2344:(t,e,r)=>{"use strict";var n=r(6436),i=r(9746);function s(t,e,r){if(!(this instanceof s))return new s(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=s,s.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},s.prototype.update=function(t,e){return this.inner.update(t,e),this},s.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},2949:(t,e,r)=>{"use strict";var n=r(6436),i=r(5772),s=n.rotl32,o=n.sum32,a=n.sum32_3,u=n.sum32_4,c=i.BlockHash;function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function l(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function d(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}n.inherits(f,c),e.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],f=this.h[4],b=r,v=n,w=i,S=c,E=f,x=0;x<80;x++){var _=o(s(u(r,h(x,n,i,c),t[p[x]+e],l(x)),y[x]),f);r=f,f=c,c=s(i,10),i=n,n=_,_=o(s(u(b,h(79-x,v,w,S),t[g[x]+e],d(x)),m[x]),E),b=E,E=S,S=s(w,10),w=v,v=_}_=a(this.h[1],i,S),this.h[1]=a(this.h[2],c,E),this.h[2]=a(this.h[3],f,b),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],n,w),this.h[0]=_},f.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9041:(t,e,r)=>{"use strict";e.sha1=r(4761),e.sha224=r(799),e.sha256=r(9344),e.sha384=r(772),e.sha512=r(5900)},4761:(t,e,r)=>{"use strict";var n=r(6436),i=r(5772),s=r(7038),o=n.rotl32,a=n.sum32,u=n.sum32_5,c=s.ft_1,f=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(l,f),t.exports=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=o(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],f=this.h[2],l=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),g=u(o(i,5),c(p,s,f,l),d,r[n],h[p]);d=l,l=f,f=o(s,30),s=i,i=g}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],f),this.h[3]=a(this.h[3],l),this.h[4]=a(this.h[4],d)},l.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},799:(t,e,r)=>{"use strict";var n=r(6436),i=r(9344);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),t.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},9344:(t,e,r)=>{"use strict";var n=r(6436),i=r(5772),s=r(7038),o=r(9746),a=n.sum32,u=n.sum32_4,c=n.sum32_5,f=s.ch32,h=s.maj32,l=s.s0_256,d=s.s1_256,p=s.g0_256,g=s.g1_256,y=i.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}n.inherits(b,y),t.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=u(g(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],y=this.h[2],m=this.h[3],b=this.h[4],v=this.h[5],w=this.h[6],S=this.h[7];for(o(this.k.length===r.length),n=0;n<r.length;n++){var E=c(S,d(b),f(b,v,w),this.k[n],r[n]),x=a(l(i),h(i,s,y));S=w,w=v,v=b,b=a(m,E),m=y,y=s,s=i,i=a(E,x)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],y),this.h[3]=a(this.h[3],m),this.h[4]=a(this.h[4],b),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],S)},b.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},772:(t,e,r)=>{"use strict";var n=r(6436),i=r(5900);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),t.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},5900:(t,e,r)=>{"use strict";var n=r(6436),i=r(5772),s=r(9746),o=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,c=n.shr64_lo,f=n.sum64,h=n.sum64_hi,l=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,g=n.sum64_5_hi,y=n.sum64_5_lo,m=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function w(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function S(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function E(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function x(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function _(t,e){var r=o(t,e,28)^o(e,t,2)^o(e,t,7);return r<0&&(r+=4294967296),r}function A(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function P(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function I(t,e){var r=o(t,e,1)^o(t,e,8)^u(t,e,7);return r<0&&(r+=4294967296),r}function T(t,e){var r=a(t,e,1)^a(t,e,8)^c(t,e,7);return r<0&&(r+=4294967296),r}function O(t,e){var r=a(t,e,19)^a(e,t,29)^c(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(v,m),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=(y=r[n-4],m=r[n-3],b=void 0,(b=o(y,m,19)^o(m,y,29)^u(y,m,6))<0&&(b+=4294967296),b),s=O(r[n-4],r[n-3]),a=r[n-14],c=r[n-13],f=I(r[n-30],r[n-29]),h=T(r[n-30],r[n-29]),l=r[n-32],g=r[n-31];r[n]=d(i,s,a,c,f,h,l,g),r[n+1]=p(i,s,a,c,f,h,l,g)}var y,m,b},v.prototype._update=function(t,e){this._prepareBlock(t,e);var r,n,i,a=this.W,u=this.h[0],c=this.h[1],d=this.h[2],p=this.h[3],m=this.h[4],b=this.h[5],v=this.h[6],I=this.h[7],T=this.h[8],O=this.h[9],B=this.h[10],k=this.h[11],F=this.h[12],R=this.h[13],N=this.h[14],C=this.h[15];s(this.k.length===a.length);for(var M=0;M<a.length;M+=2){var D=N,H=C,j=(i=void 0,(i=o(r=T,n=O,14)^o(r,n,18)^o(n,r,9))<0&&(i+=4294967296),i),L=P(T,O),U=w(T,0,B,0,F),K=S(0,O,0,k,0,R),V=this.k[M],q=this.k[M+1],z=a[M],W=a[M+1],G=g(D,H,j,L,U,K,V,q,z,W),$=y(D,H,j,L,U,K,V,q,z,W);D=_(u,c),H=A(u,c),j=E(u,0,d,0,m),L=x(0,c,0,p,0,b);var X=h(D,H,j,L),J=l(D,H,j,L);N=F,C=R,F=B,R=k,B=T,k=O,T=h(v,I,G,$),O=l(I,I,G,$),v=m,I=b,m=d,b=p,d=u,p=c,u=h(G,$,X,J),c=l(G,$,X,J)}f(this.h,0,u,c),f(this.h,2,d,p),f(this.h,4,m,b),f(this.h,6,v,I),f(this.h,8,T,O),f(this.h,10,B,k),f(this.h,12,F,R),f(this.h,14,N,C)},v.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},7038:(t,e,r)=>{"use strict";var n=r(6436).rotr32;function i(t,e,r){return t&e^~t&r}function s(t,e,r){return t&e^t&r^e&r}function o(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?o(e,r,n):2===t?s(e,r,n):void 0},e.ch32=i,e.maj32=s,e.p32=o,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},6436:(t,e,r)=>{"use strict";var n=r(9746),i=r(5717);function s(t,e){return 55296==(64512&t.charCodeAt(e))&&!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function u(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):s(t,i)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=a(t[r].toString(16));return e},e.htonl=o,e.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=o(i)),r+=u(i.toString(16))}return r},e.zero2=a,e.zero8=u,e.join32=function(t,e,r,i){var s=r-e;n(s%4==0);for(var o=new Array(s/4),a=0,u=e;a<o.length;a++,u+=4){var c;c="big"===i?t[u]<<24|t[u+1]<<16|t[u+2]<<8|t[u+3]:t[u+3]<<24|t[u+2]<<16|t[u+1]<<8|t[u],o[a]=c>>>0}return o},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];"big"===e?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=t[e],s=n+t[e+1]>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,s,o,a){var u=0,c=e;return u+=(c=c+n>>>0)<e?1:0,u+=(c=c+s>>>0)<s?1:0,t+r+i+o+(u+=(c=c+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,s,o,a){return e+n+s+a>>>0},e.sum64_5_hi=function(t,e,r,n,i,s,o,a,u,c){var f=0,h=e;return f+=(h=h+n>>>0)<e?1:0,f+=(h=h+s>>>0)<s?1:0,f+=(h=h+a>>>0)<a?1:0,t+r+i+o+u+(f+=(h=h+c>>>0)<c?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,s,o,a,u,c){return e+n+s+a+c>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},2156:(t,e,r)=>{"use strict";var n=r(3715),i=r(4504),s=r(9746);function o(t){if(!(this instanceof o))return new o(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),r=i.toArray(t.nonce,t.nonceEnc||"hex"),n=i.toArray(t.pers,t.persEnc||"hex");s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}t.exports=o,o.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},o.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=i.toArray(t,e),r=i.toArray(r,n),s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},o.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(r),this._reseed++,i.encode(o,e)}},645:(t,e)=>{e.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,h=r?i-1:0,l=r?-1:1,d=t[e+h];for(h+=l,s=d&(1<<-f)-1,d>>=-f,f+=a;f>0;s=256*s+t[e+h],h+=l,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=256*o+t[e+h],h+=l,f-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=c}return(d?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,a,u,c=8*s-i-1,f=(1<<c)-1,h=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+h>=1?l/u:l*Math.pow(2,1-h))*u>=2&&(o++,u/=2),o+h>=f?(a=0,o=f):o+h>=1?(a=(e*u-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[r+d]=255&o,d+=p,o/=256,c-=8);t[r+d-p]|=128*g}},5717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},1166:(t,e,r)=>{var n,i,s,o,a,u,c,f,h,l,d,p=r(8764).Buffer,g={userAgent:!1},y={},m=m||(n=Math,s=(i={}).lib={},o=s.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var r=new t;return e&&r.mixIn(e),r.hasOwnProperty("init")||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=s.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,r=t.words,n=this.sigBytes,i=t.sigBytes;if(this.clamp(),n%4)for(var s=0;s<i;s++){var o=r[s>>>2]>>>24-s%4*8&255;e[n+s>>>2]|=o<<24-(n+s)%4*8}else for(s=0;s<i;s+=4)e[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=n.ceil(e/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(4294967296*n.random()|0);return new a.init(e,t)}}),u=i.enc={},c=u.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var s=e[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new a.init(r,e/2)}},f=u.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,n=[],i=0;i<r;i++){var s=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(s))}return n.join("")},parse:function(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new a.init(r,e)}},h=u.Utf8={stringify:function(t){try{return decodeURIComponent(escape(f.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return f.parse(unescape(encodeURIComponent(t)))}},l=s.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,r=e.words,i=e.sigBytes,s=this.blockSize,o=i/(4*s),u=(o=t?n.ceil(o):n.max((0|o)-this._minBufferSize,0))*s,c=n.min(4*u,i);if(u){for(var f=0;f<u;f+=s)this._doProcessBlock(r,f);var h=r.splice(0,u);e.sigBytes-=c}return new a.init(h,c)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),s.Hasher=l.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new d.HMAC.init(t,r).finalize(e)}}}),d=i.algo={},i);!function(t){var e,r=(e=m).lib,n=r.Base,i=r.WordArray;(e=e.x64={}).Word=n.extend({init:function(t,e){this.high=t,this.low=e}}),e.WordArray=n.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,r=[],n=0;n<e;n++){var s=t[n];r.push(s.high),r.push(s.low)}return i.create(r,this.sigBytes)},clone:function(){for(var t=n.clone.call(this),e=t.words=this.words.slice(0),r=e.length,i=0;i<r;i++)e[i]=e[i].clone();return t}})}(),m.lib.Cipher||function(t){var e=(d=m).lib,r=e.Base,n=e.WordArray,i=e.BufferedBlockAlgorithm,s=d.enc.Base64,o=d.algo.EvpKDF,a=e.Cipher=i.extend({cfg:r.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,r,n){return("string"==typeof r?p:l).encrypt(t,e,r,n)},decrypt:function(e,r,n){return("string"==typeof r?p:l).decrypt(t,e,r,n)}}}});e.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=d.mode={},c=function(t,e,r){var n=this._iv;n?this._iv=void 0:n=this._prevBlock;for(var i=0;i<r;i++)t[e+i]^=n[i]},f=(e.BlockCipherMode=r.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();f.Encryptor=f.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize;c.call(this,t,e,n),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+n)}}),f.Decryptor=f.extend({processBlock:function(t,e){var r=this._cipher,n=r.blockSize,i=t.slice(e,e+n);r.decryptBlock(t,e),c.call(this,t,e,n),this._prevBlock=i}}),u=u.CBC=f,f=(d.pad={}).Pkcs7={pad:function(t,e){for(var r,i=(r=(r=4*e)-t.sigBytes%r)<<24|r<<16|r<<8|r,s=[],o=0;o<r;o+=4)s.push(i);r=n.create(s,r),t.concat(r)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},e.BlockCipher=a.extend({cfg:a.cfg.extend({mode:u,padding:f}),reset:function(){a.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=e.createEncryptor;else r=e.createDecryptor,this._minBufferSize=1;this._mode=r.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var h=e.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),l=(u=(d.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?n.create([1398893684,1701076831]).concat(t).concat(e):e).toString(s)},parse:function(t){var e=(t=s.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var r=n.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return h.create({ciphertext:t,salt:r})}},e.SerializableCipher=r.extend({cfg:r.extend({format:u}),encrypt:function(t,e,r,n){n=this.cfg.extend(n);var i=t.createEncryptor(r,n);return e=i.finalize(e),i=i.cfg,h.create({ciphertext:e,key:r,iv:i.iv,algorithm:t,mode:i.mode,padding:i.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(r,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),d=(d.kdf={}).OpenSSL={execute:function(t,e,r,i){return i||(i=n.random(8)),t=o.create({keySize:e+r}).compute(t,i),r=n.create(t.words.slice(e),4*r),t.sigBytes=4*e,h.create({key:t,iv:r,salt:i})}},p=e.PasswordBasedCipher=l.extend({cfg:l.cfg.extend({kdf:d}),encrypt:function(t,e,r,n){return r=(n=this.cfg.extend(n)).kdf.execute(r,t.keySize,t.ivSize),n.iv=r.iv,(t=l.encrypt.call(this,t,e,r.key,n)).mixIn(r),t},decrypt:function(t,e,r,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),r=n.kdf.execute(r,t.keySize,t.ivSize,e.salt),n.iv=r.iv,l.decrypt.call(this,t,e,r.key,n)}})}(),function(){for(var t=m,e=t.lib.BlockCipher,r=t.algo,n=[],i=[],s=[],o=[],a=[],u=[],c=[],f=[],h=[],l=[],d=[],p=0;256>p;p++)d[p]=128>p?p<<1:p<<1^283;var g=0,y=0;for(p=0;256>p;p++){var b=(b=y^y<<1^y<<2^y<<3^y<<4)>>>8^255&b^99;n[g]=b,i[b]=g;var v=d[g],w=d[v],S=d[w],E=257*d[b]^16843008*b;s[g]=E<<24|E>>>8,o[g]=E<<16|E>>>16,a[g]=E<<8|E>>>24,u[g]=E,E=16843009*S^65537*w^257*v^16843008*g,c[b]=E<<24|E>>>8,f[b]=E<<16|E>>>16,h[b]=E<<8|E>>>24,l[b]=E,g?(g=v^d[d[d[S^v]]],y^=d[d[y]]):g=y=1}var x=[0,1,2,4,8,16,32,64,128,27,54];r=r.AES=e.extend({_doReset:function(){for(var t=(r=this._key).words,e=r.sigBytes/4,r=4*((this._nRounds=e+6)+1),i=this._keySchedule=[],s=0;s<r;s++)if(s<e)i[s]=t[s];else{var o=i[s-1];s%e?6<e&&4==s%e&&(o=n[o>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o]):(o=n[(o=o<<8|o>>>24)>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o],o^=x[s/e|0]<<24),i[s]=i[s-e]^o}for(t=this._invKeySchedule=[],e=0;e<r;e++)s=r-e,o=e%4?i[s]:i[s-4],t[e]=4>e||4>=s?o:c[n[o>>>24]]^f[n[o>>>16&255]]^h[n[o>>>8&255]]^l[n[255&o]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,o,a,u,n)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,c,f,h,l,i),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,n,i,s,o,a){for(var u=this._nRounds,c=t[e]^r[0],f=t[e+1]^r[1],h=t[e+2]^r[2],l=t[e+3]^r[3],d=4,p=1;p<u;p++){var g=n[c>>>24]^i[f>>>16&255]^s[h>>>8&255]^o[255&l]^r[d++],y=n[f>>>24]^i[h>>>16&255]^s[l>>>8&255]^o[255&c]^r[d++],m=n[h>>>24]^i[l>>>16&255]^s[c>>>8&255]^o[255&f]^r[d++];l=n[l>>>24]^i[c>>>16&255]^s[f>>>8&255]^o[255&h]^r[d++],c=g,f=y,h=m}g=(a[c>>>24]<<24|a[f>>>16&255]<<16|a[h>>>8&255]<<8|a[255&l])^r[d++],y=(a[f>>>24]<<24|a[h>>>16&255]<<16|a[l>>>8&255]<<8|a[255&c])^r[d++],m=(a[h>>>24]<<24|a[l>>>16&255]<<16|a[c>>>8&255]<<8|a[255&f])^r[d++],l=(a[l>>>24]<<24|a[c>>>16&255]<<16|a[f>>>8&255]<<8|a[255&h])^r[d++],t[e]=g,t[e+1]=y,t[e+2]=m,t[e+3]=l},keySize:8}),t.AES=e._createHelper(r)}(),function(){function t(t,e){var r=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=r,this._lBlock^=r<<t}function e(t,e){var r=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=r,this._rBlock^=r<<t}var r=m,n=(i=r.lib).WordArray,i=i.BlockCipher,s=r.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=s.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;56>r;r++){var n=o[r]-1;e[r]=t[n>>>5]>>>31-n%32&1}for(t=this._subKeys=[],n=0;16>n;n++){var i=t[n]=[],s=u[n];for(r=0;24>r;r++)i[r/6|0]|=e[(a[r]-1+s)%28]<<31-r%6,i[4+(r/6|0)]|=e[28+(a[r+24]-1+s)%28]<<31-r%6;for(i[0]=i[0]<<1|i[0]>>>31,r=1;7>r;r++)i[r]>>>=4*(r-1)+3;i[7]=i[7]<<5|i[7]>>>27}for(e=this._invSubKeys=[],r=0;16>r;r++)e[r]=t[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(r,n,i){this._lBlock=r[n],this._rBlock=r[n+1],t.call(this,4,252645135),t.call(this,16,65535),e.call(this,2,858993459),e.call(this,8,16711935),t.call(this,1,1431655765);for(var s=0;16>s;s++){for(var o=i[s],a=this._lBlock,u=this._rBlock,h=0,l=0;8>l;l++)h|=c[l][((u^o[l])&f[l])>>>0];this._lBlock=u,this._rBlock=a^h}i=this._lBlock,this._lBlock=this._rBlock,this._rBlock=i,t.call(this,1,1431655765),e.call(this,8,16711935),e.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),r[n]=this._lBlock,r[n+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});r.DES=i._createHelper(h),s=s.TripleDES=i.extend({_doReset:function(){var t=this._key.words;this._des1=h.createEncryptor(n.create(t.slice(0,2))),this._des2=h.createEncryptor(n.create(t.slice(2,4))),this._des3=h.createEncryptor(n.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2}),r.TripleDES=i._createHelper(s)}(),function(){var t=m,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,n=this._map;t.clamp(),t=[];for(var i=0;i<r;i+=3)for(var s=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;4>o&&i+.75*o<r;o++)t.push(n.charAt(s>>>6*(3-o)&63));if(e=n.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var r=t.length,n=this._map;(i=n.charAt(64))&&-1!=(i=t.indexOf(i))&&(r=i);for(var i=[],s=0,o=0;o<r;o++)if(o%4){var a=n.indexOf(t.charAt(o-1))<<o%4*2,u=n.indexOf(t.charAt(o))>>>6-o%4*2;i[s>>>2]|=(a|u)<<24-s%4*8,s++}return e.create(i,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,r,n,i,s,o){return((t=t+(e&r|~e&n)+i+o)<<s|t>>>32-s)+e}function r(t,e,r,n,i,s,o){return((t=t+(e&n|r&~n)+i+o)<<s|t>>>32-s)+e}function n(t,e,r,n,i,s,o){return((t=t+(e^r^n)+i+o)<<s|t>>>32-s)+e}function i(t,e,r,n,i,s,o){return((t=t+(r^(e|~n))+i+o)<<s|t>>>32-s)+e}for(var s=m,o=(u=s.lib).WordArray,a=u.Hasher,u=s.algo,c=[],f=0;64>f;f++)c[f]=4294967296*t.abs(t.sin(f+1))|0;u=u.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,s){for(var o=0;16>o;o++){var a=t[u=s+o];t[u]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}o=this._hash.words;var u=t[s+0],f=(a=t[s+1],t[s+2]),h=t[s+3],l=t[s+4],d=t[s+5],p=t[s+6],g=t[s+7],y=t[s+8],m=t[s+9],b=t[s+10],v=t[s+11],w=t[s+12],S=t[s+13],E=t[s+14],x=t[s+15],_=e(_=o[0],I=o[1],P=o[2],A=o[3],u,7,c[0]),A=e(A,_,I,P,a,12,c[1]),P=e(P,A,_,I,f,17,c[2]),I=e(I,P,A,_,h,22,c[3]);_=e(_,I,P,A,l,7,c[4]),A=e(A,_,I,P,d,12,c[5]),P=e(P,A,_,I,p,17,c[6]),I=e(I,P,A,_,g,22,c[7]),_=e(_,I,P,A,y,7,c[8]),A=e(A,_,I,P,m,12,c[9]),P=e(P,A,_,I,b,17,c[10]),I=e(I,P,A,_,v,22,c[11]),_=e(_,I,P,A,w,7,c[12]),A=e(A,_,I,P,S,12,c[13]),P=e(P,A,_,I,E,17,c[14]),_=r(_,I=e(I,P,A,_,x,22,c[15]),P,A,a,5,c[16]),A=r(A,_,I,P,p,9,c[17]),P=r(P,A,_,I,v,14,c[18]),I=r(I,P,A,_,u,20,c[19]),_=r(_,I,P,A,d,5,c[20]),A=r(A,_,I,P,b,9,c[21]),P=r(P,A,_,I,x,14,c[22]),I=r(I,P,A,_,l,20,c[23]),_=r(_,I,P,A,m,5,c[24]),A=r(A,_,I,P,E,9,c[25]),P=r(P,A,_,I,h,14,c[26]),I=r(I,P,A,_,y,20,c[27]),_=r(_,I,P,A,S,5,c[28]),A=r(A,_,I,P,f,9,c[29]),P=r(P,A,_,I,g,14,c[30]),_=n(_,I=r(I,P,A,_,w,20,c[31]),P,A,d,4,c[32]),A=n(A,_,I,P,y,11,c[33]),P=n(P,A,_,I,v,16,c[34]),I=n(I,P,A,_,E,23,c[35]),_=n(_,I,P,A,a,4,c[36]),A=n(A,_,I,P,l,11,c[37]),P=n(P,A,_,I,g,16,c[38]),I=n(I,P,A,_,b,23,c[39]),_=n(_,I,P,A,S,4,c[40]),A=n(A,_,I,P,u,11,c[41]),P=n(P,A,_,I,h,16,c[42]),I=n(I,P,A,_,p,23,c[43]),_=n(_,I,P,A,m,4,c[44]),A=n(A,_,I,P,w,11,c[45]),P=n(P,A,_,I,x,16,c[46]),_=i(_,I=n(I,P,A,_,f,23,c[47]),P,A,u,6,c[48]),A=i(A,_,I,P,g,10,c[49]),P=i(P,A,_,I,E,15,c[50]),I=i(I,P,A,_,d,21,c[51]),_=i(_,I,P,A,w,6,c[52]),A=i(A,_,I,P,h,10,c[53]),P=i(P,A,_,I,b,15,c[54]),I=i(I,P,A,_,a,21,c[55]),_=i(_,I,P,A,y,6,c[56]),A=i(A,_,I,P,x,10,c[57]),P=i(P,A,_,I,p,15,c[58]),I=i(I,P,A,_,S,21,c[59]),_=i(_,I,P,A,l,6,c[60]),A=i(A,_,I,P,v,10,c[61]),P=i(P,A,_,I,f,15,c[62]),I=i(I,P,A,_,m,21,c[63]),o[0]=o[0]+_|0,o[1]=o[1]+I|0,o[2]=o[2]+P|0,o[3]=o[3]+A|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var s=t.floor(n/4294967296);for(r[15+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),r[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(r.length+1),this._process(),r=(e=this._hash).words,n=0;4>n;n++)i=r[n],r[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return e},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),s.MD5=a._createHelper(u),s.HmacMD5=a._createHmacHelper(u)}(Math),function(){var t=m,e=(i=t.lib).WordArray,r=i.Hasher,n=[],i=t.algo.SHA1=r.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,i=r[0],s=r[1],o=r[2],a=r[3],u=r[4],c=0;80>c;c++){if(16>c)n[c]=0|t[e+c];else{var f=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=f<<1|f>>>31}f=(i<<5|i>>>27)+u+n[c],f=20>c?f+(1518500249+(s&o|~s&a)):40>c?f+(1859775393+(s^o^a)):60>c?f+((s&o|s&a|o&a)-1894007588):f+((s^o^a)-899497514),u=a,a=o,o=s<<30|s>>>2,s=i,i=f}r[0]=r[0]+i|0,r[1]=r[1]+s|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),e[15+(n+64>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=r._createHelper(i),t.HmacSHA1=r._createHmacHelper(i)}(),function(t){for(var e=m,r=(i=e.lib).WordArray,n=i.Hasher,i=e.algo,s=[],o=[],a=function(t){return 4294967296*(t-(0|t))|0},u=2,c=0;64>c;){var f;t:{f=u;for(var h=t.sqrt(f),l=2;l<=h;l++)if(!(f%l)){f=!1;break t}f=!0}f&&(8>c&&(s[c]=a(t.pow(u,.5))),o[c]=a(t.pow(u,1/3)),c++),u++}var d=[];i=i.SHA256=n.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,n=r[0],i=r[1],s=r[2],a=r[3],u=r[4],c=r[5],f=r[6],h=r[7],l=0;64>l;l++){if(16>l)d[l]=0|t[e+l];else{var p=d[l-15],g=d[l-2];d[l]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+d[l-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+d[l-16]}p=h+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&f)+o[l]+d[l],g=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&i^n&s^i&s),h=f,f=c,c=u,u=a+p|0,a=s,s=i,i=n,n=p+g|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+s|0,r[3]=r[3]+a|0,r[4]=r[4]+u|0,r[5]=r[5]+c|0,r[6]=r[6]+f|0,r[7]=r[7]+h|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}}),e.SHA256=n._createHelper(i),e.HmacSHA256=n._createHmacHelper(i)}(Math),function(){var t=m,e=t.lib.WordArray,r=(n=t.algo).SHA256,n=n.SHA224=r.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=r._doFinalize.call(this);return t.sigBytes-=4,t}});t.SHA224=r._createHelper(n),t.HmacSHA224=r._createHmacHelper(n)}(),function(){function t(){return n.create.apply(n,arguments)}for(var e=m,r=e.lib.Hasher,n=(s=e.x64).Word,i=s.WordArray,s=e.algo,o=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],a=[],u=0;80>u;u++)a[u]=t();s=s.SHA512=r.extend({_doReset:function(){this._hash=new i.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var r=(h=this._hash.words)[0],n=h[1],i=h[2],s=h[3],u=h[4],c=h[5],f=h[6],h=h[7],l=r.high,d=r.low,p=n.high,g=n.low,y=i.high,m=i.low,b=s.high,v=s.low,w=u.high,S=u.low,E=c.high,x=c.low,_=f.high,A=f.low,P=h.high,I=h.low,T=l,O=d,B=p,k=g,F=y,R=m,N=b,C=v,M=w,D=S,H=E,j=x,L=_,U=A,K=P,V=I,q=0;80>q;q++){var z=a[q];if(16>q)var W=z.high=0|t[e+2*q],G=z.low=0|t[e+2*q+1];else{W=((G=(W=a[q-15]).high)>>>1|($=W.low)<<31)^(G>>>8|$<<24)^G>>>7;var $=($>>>1|G<<31)^($>>>8|G<<24)^($>>>7|G<<25),X=((G=(X=a[q-2]).high)>>>19|(J=X.low)<<13)^(G<<3|J>>>29)^G>>>6,J=(J>>>19|G<<13)^(J<<3|G>>>29)^(J>>>6|G<<26),Z=(G=a[q-7]).high,Y=(Q=a[q-16]).high,Q=Q.low;W=(W=(W=W+Z+((G=$+G.low)>>>0<$>>>0?1:0))+X+((G+=J)>>>0<J>>>0?1:0))+Y+((G+=Q)>>>0<Q>>>0?1:0),z.high=W,z.low=G}Z=M&H^~M&L,Q=D&j^~D&U,z=T&B^T&F^B&F;var tt=O&k^O&R^k&R,et=($=(T>>>28|O<<4)^(T<<30|O>>>2)^(T<<25|O>>>7),X=(O>>>28|T<<4)^(O<<30|T>>>2)^(O<<25|T>>>7),(J=o[q]).high),rt=J.low;Y=K+((M>>>14|D<<18)^(M>>>18|D<<14)^(M<<23|D>>>9))+((J=V+((D>>>14|M<<18)^(D>>>18|M<<14)^(D<<23|M>>>9)))>>>0<V>>>0?1:0),K=L,V=U,L=H,U=j,H=M,j=D,M=N+(Y=(Y=(Y=Y+Z+((J+=Q)>>>0<Q>>>0?1:0))+et+((J+=rt)>>>0<rt>>>0?1:0))+W+((J+=G)>>>0<G>>>0?1:0))+((D=C+J|0)>>>0<C>>>0?1:0)|0,N=F,C=R,F=B,R=k,B=T,k=O,T=Y+(z=$+z+((G=X+tt)>>>0<X>>>0?1:0))+((O=J+G|0)>>>0<J>>>0?1:0)|0}d=r.low=d+O,r.high=l+T+(d>>>0<O>>>0?1:0),g=n.low=g+k,n.high=p+B+(g>>>0<k>>>0?1:0),m=i.low=m+R,i.high=y+F+(m>>>0<R>>>0?1:0),v=s.low=v+C,s.high=b+N+(v>>>0<C>>>0?1:0),S=u.low=S+D,u.high=w+M+(S>>>0<D>>>0?1:0),x=c.low=x+j,c.high=E+H+(x>>>0<j>>>0?1:0),A=f.low=A+U,f.high=_+L+(A>>>0<U>>>0?1:0),I=h.low=I+V,h.high=P+K+(I>>>0<V>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),e[31+(n+128>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32}),e.SHA512=r._createHelper(s),e.HmacSHA512=r._createHmacHelper(s)}(),function(){var t=m,e=(i=t.x64).Word,r=i.WordArray,n=(i=t.algo).SHA512,i=i.SHA384=n.extend({_doReset:function(){this._hash=new r.init([new e.init(3418070365,3238371032),new e.init(1654270250,914150663),new e.init(2438529370,812702999),new e.init(355462360,4144912697),new e.init(1731405415,4290775857),new e.init(2394180231,1750603025),new e.init(3675008525,1694076839),new e.init(1203062813,3204075428)])},_doFinalize:function(){var t=n._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=n._createHelper(i),t.HmacSHA384=n._createHmacHelper(i)}(),function(){var t=m,e=(n=t.lib).WordArray,r=n.Hasher,n=t.algo,i=e.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=e.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),o=e.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),a=e.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=e.create([0,1518500249,1859775393,2400959708,2840853838]),c=e.create([1352829926,1548603684,1836072691,2053994217,0]);n=n.RIPEMD160=r.extend({_doReset:function(){this._hash=e.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;16>r;r++){var n=t[S=e+r];t[S]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var f,h,l,d,p,g,y,m,b,v,w,S=this._hash.words,E=(n=u.words,c.words),x=i.words,_=s.words,A=o.words,P=a.words;for(g=f=S[0],y=h=S[1],m=l=S[2],b=d=S[3],v=p=S[4],r=0;80>r;r+=1)w=f+t[e+x[r]]|0,w=16>r?w+((h^l^d)+n[0]):32>r?w+((h&l|~h&d)+n[1]):48>r?w+(((h|~l)^d)+n[2]):64>r?w+((h&d|l&~d)+n[3]):w+((h^(l|~d))+n[4]),w=(w=(w|=0)<<A[r]|w>>>32-A[r])+p|0,f=p,p=d,d=l<<10|l>>>22,l=h,h=w,w=g+t[e+_[r]]|0,w=16>r?w+((y^(m|~b))+E[0]):32>r?w+((y&b|m&~b)+E[1]):48>r?w+(((y|~m)^b)+E[2]):64>r?w+((y&m|~y&b)+E[3]):w+((y^m^b)+E[4]),w=(w=(w|=0)<<P[r]|w>>>32-P[r])+v|0,g=v,v=b,b=m<<10|m>>>22,m=y,y=w;w=S[1]+l+b|0,S[1]=S[2]+d+v|0,S[2]=S[3]+p+g|0,S[3]=S[4]+f+y|0,S[4]=S[0]+h+m|0,S[0]=w},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,n=8*t.sigBytes;for(e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process(),e=(t=this._hash).words,r=0;5>r;r++)n=e[r],e[r]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return t},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}}),t.RIPEMD160=r._createHelper(n),t.HmacRIPEMD160=r._createHmacHelper(n)}(Math),function(){var t=m,e=t.enc.Utf8;t.algo.HMAC=t.lib.Base.extend({init:function(t,r){t=this._hasher=new t.init,"string"==typeof r&&(r=e.parse(r));var n=t.blockSize,i=4*n;r.sigBytes>i&&(r=t.finalize(r)),r.clamp();for(var s=this._oKey=r.clone(),o=this._iKey=r.clone(),a=s.words,u=o.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;s.sigBytes=o.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}})}(),function(){var t,e=m,r=(t=e.lib).Base,n=t.WordArray,i=(t=e.algo).HMAC,s=t.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:t.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){var r=this.cfg,s=i.create(r.hasher,t),o=n.create(),a=n.create([1]),u=o.words,c=a.words,f=r.keySize;for(r=r.iterations;u.length<f;){var h=s.update(e).finalize(a);s.reset();for(var l=h.words,d=l.length,p=h,g=1;g<r;g++){p=s.finalize(p),s.reset();for(var y=p.words,m=0;m<d;m++)l[m]^=y[m]}o.concat(h),c[0]++}return o.sigBytes=4*f,o}});e.PBKDF2=function(t,e,r){return s.create(r).compute(t,e)}}();var b,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w="=";function S(t){var e,r,n="";for(e=0;e+3<=t.length;e+=3)r=parseInt(t.substring(e,e+3),16),n+=v.charAt(r>>6)+v.charAt(63&r);if(e+1==t.length?(r=parseInt(t.substring(e,e+1),16),n+=v.charAt(r<<2)):e+2==t.length&&(r=parseInt(t.substring(e,e+2),16),n+=v.charAt(r>>2)+v.charAt((3&r)<<4)),w)for(;(3&n.length)>0;)n+=w;return n}function E(t){var e,r,n,i="",s=0;for(e=0;e<t.length&&t.charAt(e)!=w;++e)(n=v.indexOf(t.charAt(e)))<0||(0==s?(i+=B(n>>2),r=3&n,s=1):1==s?(i+=B(r<<2|n>>4),r=15&n,s=2):2==s?(i+=B(r),i+=B(n>>2),r=3&n,s=3):(i+=B(r<<2|n>>4),i+=B(15&n),s=0));return 1==s&&(i+=B(r<<2)),i}function x(t){var e,r=E(t),n=new Array;for(e=0;2*e<r.length;++e)n[e]=parseInt(r.substring(2*e,2*e+2),16);return n}function _(t,e,r){null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function A(){return new _(null)}"Microsoft Internet Explorer"==g.appName?(_.prototype.am=function(t,e,r,n,i,s){for(var o=32767&e,a=e>>15;--s>=0;){var u=32767&this[t],c=this[t++]>>15,f=a*u+c*o;i=((u=o*u+((32767&f)<<15)+r[n]+(1073741823&i))>>>30)+(f>>>15)+a*c+(i>>>30),r[n++]=1073741823&u}return i},b=30):"Netscape"!=g.appName?(_.prototype.am=function(t,e,r,n,i,s){for(;--s>=0;){var o=e*this[t++]+r[n]+i;i=Math.floor(o/67108864),r[n++]=67108863&o}return i},b=26):(_.prototype.am=function(t,e,r,n,i,s){for(var o=16383&e,a=e>>14;--s>=0;){var u=16383&this[t],c=this[t++]>>14,f=a*u+c*o;i=((u=o*u+((16383&f)<<14)+r[n]+i)>>28)+(f>>14)+a*c,r[n++]=268435455&u}return i},b=28),_.prototype.DB=b,_.prototype.DM=(1<<b)-1,_.prototype.DV=1<<b,_.prototype.FV=Math.pow(2,52),_.prototype.F1=52-b,_.prototype.F2=2*b-52;var P,I,T="0123456789abcdefghijklmnopqrstuvwxyz",O=new Array;for(P="0".charCodeAt(0),I=0;I<=9;++I)O[P++]=I;for(P="a".charCodeAt(0),I=10;I<36;++I)O[P++]=I;for(P="A".charCodeAt(0),I=10;I<36;++I)O[P++]=I;function B(t){return T.charAt(t)}function k(t,e){var r=O[t.charCodeAt(e)];return null==r?-1:r}function F(t){var e=A();return e.fromInt(t),e}function R(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function N(t){this.m=t}function C(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function M(t,e){return t&e}function D(t,e){return t|e}function H(t,e){return t^e}function j(t,e){return t&~e}function L(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function U(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function K(){}function V(t){return t}function q(t){this.r2=A(),this.q3=A(),_.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}N.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},N.prototype.revert=function(t){return t},N.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},N.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},N.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},C.prototype.convert=function(t){var e=A();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(_.ZERO)>0&&this.m.subTo(e,e),e},C.prototype.revert=function(t){var e=A();return t.copyTo(e),this.reduce(e),e},C.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[r=e+this.m.t]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},C.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},C.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},_.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},_.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},_.prototype.fromString=function(t,e){var r;if(16==e)r=4;else if(8==e)r=3;else if(256==e)r=8;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return void this.fromRadix(t,e);r=2}this.t=0,this.s=0;for(var n=t.length,i=!1,s=0;--n>=0;){var o=8==r?255&t[n]:k(t,n);o<0?"-"==t.charAt(n)&&(i=!0):(i=!1,0==s?this[this.t++]=o:s+r>this.DB?(this[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this[this.t++]=o>>this.DB-s):this[this.t-1]|=o<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&_.ZERO.subTo(this,this)},_.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},_.prototype.dlShiftTo=function(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s},_.prototype.drShiftTo=function(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s},_.prototype.lShiftTo=function(t,e){var r,n=t%this.DB,i=this.DB-n,s=(1<<i)-1,o=Math.floor(t/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e[r+o+1]=this[r]>>i|a,a=(this[r]&s)<<n;for(r=o-1;r>=0;--r)e[r]=0;e[o]=a,e.t=this.t+o+1,e.s=this.s,e.clamp()},_.prototype.rShiftTo=function(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)e.t=0;else{var n=t%this.DB,i=this.DB-n,s=(1<<n)-1;e[0]=this[r]>>n;for(var o=r+1;o<this.t;++o)e[o-r-1]|=(this[o]&s)<<i,e[o-r]=this[o]>>n;n>0&&(e[this.t-r-1]|=(this.s&s)<<i),e.t=this.t-r,e.clamp()}},_.prototype.subTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()},_.prototype.multiplyTo=function(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e[i]=0;for(i=0;i<n.t;++i)e[i+r.t]=r.am(0,n[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&_.ZERO.subTo(e,e)},_.prototype.squareTo=function(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()},_.prototype.divRemTo=function(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=e&&e.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=A());var s=A(),o=this.s,a=t.s,u=this.DB-R(n[n.t-1]);u>0?(n.lShiftTo(u,s),i.lShiftTo(u,r)):(n.copyTo(s),i.copyTo(r));var c=s.t,f=s[c-1];if(0!=f){var h=f*(1<<this.F1)+(c>1?s[c-2]>>this.F2:0),l=this.FV/h,d=(1<<this.F1)/h,p=1<<this.F2,g=r.t,y=g-c,m=null==e?A():e;for(s.dlShiftTo(y,m),r.compareTo(m)>=0&&(r[r.t++]=1,r.subTo(m,r)),_.ONE.dlShiftTo(c,m),m.subTo(s,s);s.t<c;)s[s.t++]=0;for(;--y>=0;){var b=r[--g]==f?this.DM:Math.floor(r[g]*l+(r[g-1]+p)*d);if((r[g]+=s.am(0,b,r,y,0,c))<b)for(s.dlShiftTo(y,m),r.subTo(m,r);r[g]<--b;)r.subTo(m,r)}null!=e&&(r.drShiftTo(c,e),o!=a&&_.ZERO.subTo(e,e)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),o<0&&_.ZERO.subTo(r,r)}}},_.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},_.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},_.prototype.exp=function(t,e){if(t>4294967295||t<1)return _.ONE;var r=A(),n=A(),i=e.convert(this),s=R(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var o=r;r=n,n=o}return e.revert(r)},_.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,s="",o=this.t,a=this.DB-o*this.DB%e;if(o-- >0)for(a<this.DB&&(r=this[o]>>a)>0&&(i=!0,s=B(r));o>=0;)a<e?(r=(this[o]&(1<<a)-1)<<e-a,r|=this[--o]>>(a+=this.DB-e)):(r=this[o]>>(a-=e)&n,a<=0&&(a+=this.DB,--o)),r>0&&(i=!0),i&&(s+=B(r));return i?s:"0"},_.prototype.negate=function(){var t=A();return _.ZERO.subTo(this,t),t},_.prototype.abs=function(){return this.s<0?this.negate():this},_.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(0!=(e=r-t.t))return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0},_.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+R(this[this.t-1]^this.s&this.DM)},_.prototype.mod=function(t){var e=A();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(_.ZERO)>0&&t.subTo(e,e),e},_.prototype.modPowInt=function(t,e){var r;return r=t<256||e.isEven()?new N(e):new C(e),this.exp(t,r)},_.ZERO=F(0),_.ONE=F(1),K.prototype.convert=V,K.prototype.revert=V,K.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r)},K.prototype.sqrTo=function(t,e){t.squareTo(e)},q.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=A();return t.copyTo(e),this.reduce(e),e},q.prototype.revert=function(t){return t},q.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},q.prototype.mulTo=function(t,e,r){t.multiplyTo(e,r),this.reduce(r)},q.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var z=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],W=(1<<26)/z[z.length-1];function G(){this.i=0,this.j=0,this.S=new Array}_.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},_.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=F(r),i=A(),s=A(),o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(t).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(t)+o},_.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,s=0,o=0,a=0;a<t.length;++a){var u=k(t,a);u<0?"-"==t.charAt(a)&&0==this.signum()&&(i=!0):(o=e*o+u,++s>=r&&(this.dMultiply(n),this.dAddOffset(o,0),s=0,o=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(o,0)),i&&_.ZERO.subTo(this,this)},_.prototype.fromNumber=function(t,e,r){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(_.ONE.shiftLeft(t-1),D,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(_.ONE.shiftLeft(t-1),this);else{var n=new Array,i=7&t;n.length=1+(t>>3),e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},_.prototype.bitwiseTo=function(t,e,r){var n,i,s=Math.min(t.t,this.t);for(n=0;n<s;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=s;n<this.t;++n)r[n]=e(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=s;n<t.t;++n)r[n]=e(i,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()},_.prototype.changeBit=function(t,e){var r=_.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r},_.prototype.addTo=function(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()},_.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},_.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},_.prototype.multiplyLowerTo=function(t,e,r){var n,i=Math.min(this.t+t.t,e);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,t[i],r,i,0,this.t);for(n=Math.min(t.t,e);i<n;++i)this.am(0,t[i],r,i,0,e-i);r.clamp()},_.prototype.multiplyUpperTo=function(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)},_.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r},_.prototype.millerRabin=function(t){var e=this.subtract(_.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var n=e.shiftRight(r);(t=t+1>>1)>z.length&&(t=z.length);for(var i=A(),s=0;s<t;++s){i.fromInt(z[Math.floor(Math.random()*z.length)]);var o=i.modPow(n,this);if(0!=o.compareTo(_.ONE)&&0!=o.compareTo(e)){for(var a=1;a++<r&&0!=o.compareTo(e);)if(0==(o=o.modPowInt(2,this)).compareTo(_.ONE))return!1;if(0!=o.compareTo(e))return!1}}return!0},_.prototype.clone=function(){var t=A();return this.copyTo(t),t},_.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},_.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},_.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},_.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},_.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e},_.prototype.equals=function(t){return 0==this.compareTo(t)},_.prototype.min=function(t){return this.compareTo(t)<0?this:t},_.prototype.max=function(t){return this.compareTo(t)>0?this:t},_.prototype.and=function(t){var e=A();return this.bitwiseTo(t,M,e),e},_.prototype.or=function(t){var e=A();return this.bitwiseTo(t,D,e),e},_.prototype.xor=function(t){var e=A();return this.bitwiseTo(t,H,e),e},_.prototype.andNot=function(t){var e=A();return this.bitwiseTo(t,j,e),e},_.prototype.not=function(){for(var t=A(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},_.prototype.shiftLeft=function(t){var e=A();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},_.prototype.shiftRight=function(t){var e=A();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},_.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+L(this[t]);return this.s<0?this.t*this.DB:-1},_.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=U(this[r]^e);return t},_.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},_.prototype.setBit=function(t){return this.changeBit(t,D)},_.prototype.clearBit=function(t){return this.changeBit(t,j)},_.prototype.flipBit=function(t){return this.changeBit(t,H)},_.prototype.add=function(t){var e=A();return this.addTo(t,e),e},_.prototype.subtract=function(t){var e=A();return this.subTo(t,e),e},_.prototype.multiply=function(t){var e=A();return this.multiplyTo(t,e),e},_.prototype.divide=function(t){var e=A();return this.divRemTo(t,e,null),e},_.prototype.remainder=function(t){var e=A();return this.divRemTo(t,null,e),e},_.prototype.divideAndRemainder=function(t){var e=A(),r=A();return this.divRemTo(t,e,r),new Array(e,r)},_.prototype.modPow=function(t,e){var r,n,i=t.bitLength(),s=F(1);if(i<=0)return s;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new N(e):e.isEven()?new q(e):new C(e);var o=new Array,a=3,u=r-1,c=(1<<r)-1;if(o[1]=n.convert(this),r>1){var f=A();for(n.sqrTo(o[1],f);a<=c;)o[a]=A(),n.mulTo(f,o[a-2],o[a]),a+=2}var h,l,d=t.t-1,p=!0,g=A();for(i=R(t[d])-1;d>=0;){for(i>=u?h=t[d]>>i-u&c:(h=(t[d]&(1<<i+1)-1)<<u-i,d>0&&(h|=t[d-1]>>this.DB+i-u)),a=r;0==(1&h);)h>>=1,--a;if((i-=a)<0&&(i+=this.DB,--d),p)o[h].copyTo(s),p=!1;else{for(;a>1;)n.sqrTo(s,g),n.sqrTo(g,s),a-=2;a>0?n.sqrTo(s,g):(l=s,s=g,g=l),n.mulTo(g,o[h],s)}for(;d>=0&&0==(t[d]&1<<i);)n.sqrTo(s,g),l=s,s=g,g=l,--i<0&&(i=this.DB-1,--d)}return n.revert(s)},_.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return _.ZERO;for(var r=t.clone(),n=this.clone(),i=F(1),s=F(0),o=F(0),a=F(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),e?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(o,i),s.subTo(a,s)):(n.subTo(r,n),e&&o.subTo(i,o),a.subTo(s,a))}return 0!=n.compareTo(_.ONE)?_.ZERO:a.compareTo(t)>=0?a.subtract(t):a.signum()<0?(a.addTo(t,a),a.signum()<0?a.add(t):a):a},_.prototype.pow=function(t){return this.exp(t,new K)},_.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r},_.prototype.isProbablePrime=function(t){var e,r=this.abs();if(1==r.t&&r[0]<=z[z.length-1]){for(e=0;e<z.length;++e)if(r[0]==z[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<z.length;){for(var n=z[e],i=e+1;i<z.length&&n<W;)n*=z[i++];for(n=r.modInt(n);e<i;)if(n%z[e++]==0)return!1}return r.millerRabin(t)},_.prototype.square=function(){var t=A();return this.squareTo(t),t},G.prototype.init=function(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)r=r+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[r],this.S[r]=n;this.i=0,this.j=0},G.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var $,X,J,Z=256;function Y(){!function(t){X[J++]^=255&t,X[J++]^=t>>8&255,X[J++]^=t>>16&255,X[J++]^=t>>24&255,J>=Z&&(J-=Z)}((new Date).getTime())}if(null==X){var Q;if(X=new Array,J=0,void 0!==y&&(void 0!==y.crypto||void 0!==y.msCrypto)){var tt=y.crypto||y.msCrypto;if(tt.getRandomValues){var et=new Uint8Array(32);for(tt.getRandomValues(et),Q=0;Q<32;++Q)X[J++]=et[Q]}else if("Netscape"==g.appName&&g.appVersion<"5"){var rt=y.crypto.random(32);for(Q=0;Q<rt.length;++Q)X[J++]=255&rt.charCodeAt(Q)}}for(;J<Z;)Q=Math.floor(65536*Math.random()),X[J++]=Q>>>8,X[J++]=255&Q;J=0,Y()}function nt(){if(null==$){for(Y(),($=new G).init(X),J=0;J<X.length;++J)X[J]=0;J=0}return $.next()}function it(){}function st(t,e){return new _(t,e)}function ot(t,e,r){for(var n="",i=0;n.length<e;)n+=r(String.fromCharCode.apply(String,t.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return n}function at(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ut(t,e,r){for(var n="",i=0;n.length<e;)n+=r(t+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])),i+=1;return n}function ct(t,e){this.x=e,this.q=t}function ft(t,e,r,n){this.curve=t,this.x=e,this.y=r,this.z=null==n?_.ONE:n,this.zinv=null}function ht(t,e,r){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(r),this.infinity=new ft(this,null,null)}it.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=nt()},at.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},at.prototype.setPublic=function(t,e){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof t)this.n=t,this.e=e;else{if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA public key";this.n=st(t,16),this.e=parseInt(e,16)}},at.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)throw"Message too long for RSA";for(var r=new Array,n=t.length-1;n>=0&&e>0;){var i=t.charCodeAt(n--);i<128?r[--e]=i:i>127&&i<2048?(r[--e]=63&i|128,r[--e]=i>>6|192):(r[--e]=63&i|128,r[--e]=i>>6&63|128,r[--e]=i>>12|224)}r[--e]=0;for(var s=new it,o=new Array;e>2;){for(o[0]=0;0==o[0];)s.nextBytes(o);r[--e]=o[0]}return r[--e]=2,r[--e]=0,new _(r)}(t,this.n.bitLength()+7>>3);if(null==e)return null;var r=this.doPublic(e);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n},at.prototype.encryptOAEP=function(t,e,r){var n=this.n.bitLength()+7>>3,i=function(t,e,r,n){var i=dt.crypto.MessageDigest,s=dt.crypto.Util,o=null;if(r||(r="sha1"),"string"==typeof r&&(o=i.getCanonicalAlgName(r),n=i.getHashLength(o),r=function(t){return Tt(s.hashHex(Ot(t),o))}),t.length+2*n+2>e)throw"Message too long for RSA";var a,u="";for(a=0;a<e-t.length-2*n-2;a+=1)u+="\0";var c=r("")+u+""+t,f=new Array(n);(new it).nextBytes(f);var h=ot(f,c.length,r),l=[];for(a=0;a<c.length;a+=1)l[a]=c.charCodeAt(a)^h.charCodeAt(a);var d=ot(l,f.length,r),p=[0];for(a=0;a<f.length;a+=1)p[a+1]=f[a]^d.charCodeAt(a);return new _(p.concat(l))}(t,n,e,r);if(null==i)return null;var s=this.doPublic(i);if(null==s)return null;for(var o=s.toString(16);o.length<2*n;)o="0"+o;return o},at.prototype.type="RSA",at.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),r=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(r)<0;)e=e.add(this.p);return e.subtract(r).multiply(this.coeff).mod(this.p).multiply(this.q).add(r)},at.prototype.setPrivate=function(t,e,r){if(this.isPrivate=!0,"string"!=typeof t)this.n=t,this.e=e,this.d=r;else{if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA private key";this.n=st(t,16),this.e=parseInt(e,16),this.d=st(r,16)}},at.prototype.setPrivateEx=function(t,e,r,n,i,s,o,a){if(this.isPrivate=!0,this.isPublic=!1,null==t)throw"RSASetPrivateEx N == null";if(null==e)throw"RSASetPrivateEx E == null";if(0==t.length)throw"RSASetPrivateEx N.length == 0";if(0==e.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=st(t,16),this.e=parseInt(e,16),this.d=st(r,16),this.p=st(n,16),this.q=st(i,16),this.dmp1=st(s,16),this.dmq1=st(o,16),this.coeff=st(a,16)},at.prototype.generate=function(t,e){var r=new it,n=t>>1;this.e=parseInt(e,16);for(var i=new _(e,16),s=t/2-100,o=_.ONE.shiftLeft(s);;){for(;this.p=new _(t-n,1,r),0!=this.p.subtract(_.ONE).gcd(i).compareTo(_.ONE)||!this.p.isProbablePrime(10););for(;this.q=new _(n,1,r),0!=this.q.subtract(_.ONE).gcd(i).compareTo(_.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var a=this.p;this.p=this.q,this.q=a}var u=this.q.subtract(this.p).abs();if(!(u.bitLength()<s||u.compareTo(o)<=0)){var c=this.p.subtract(_.ONE),f=this.q.subtract(_.ONE),h=c.multiply(f);if(0==h.gcd(i).compareTo(_.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==t)){this.d=i.modInverse(h),this.dmp1=this.d.mod(c),this.dmq1=this.d.mod(f),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},at.prototype.decrypt=function(t){if(t.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var e=st(t,16),r=this.doPrivate(e);return null==r?null:function(t,e){for(var r=t.toByteArray(),n=0;n<r.length&&0==r[n];)++n;if(r.length-n!=e-1||2!=r[n])return null;for(++n;0!=r[n];)if(++n>=r.length)return null;for(var i="";++n<r.length;){var s=255&r[n];s<128?i+=String.fromCharCode(s):s>191&&s<224?(i+=String.fromCharCode((31&s)<<6|63&r[n+1]),++n):(i+=String.fromCharCode((15&s)<<12|(63&r[n+1])<<6|63&r[n+2]),n+=2)}return i}(r,this.n.bitLength()+7>>3)},at.prototype.decryptOAEP=function(t,e,r){if(t.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var n=st(t,16),i=this.doPrivate(n);return null==i?null:function(t,e,r,n){var i=dt.crypto.MessageDigest,s=dt.crypto.Util,o=null;for(r||(r="sha1"),"string"==typeof r&&(o=i.getCanonicalAlgName(r),n=i.getHashLength(o),r=function(t){return Tt(s.hashHex(Ot(t),o))}),t=t.toByteArray(),a=0;a<t.length;a+=1)t[a]&=255;for(;t.length<e;)t.unshift(0);if((t=String.fromCharCode.apply(String,t)).length<2*n+2)throw"Cipher too short";var a,u=t.substr(1,n),c=t.substr(n+1),f=ut(c,n,r),h=[];for(a=0;a<u.length;a+=1)h[a]=u.charCodeAt(a)^f.charCodeAt(a);var l=ut(String.fromCharCode.apply(String,h),t.length-n,r),d=[];for(a=0;a<c.length;a+=1)d[a]=c.charCodeAt(a)^l.charCodeAt(a);if((d=String.fromCharCode.apply(String,d)).substr(0,n)!==r(""))throw"Hash mismatch";var p=(d=d.substr(n)).indexOf("");if((-1!=p?d.substr(0,p).lastIndexOf("\0"):-1)+1!=p)throw"Malformed data";return d.substr(p+1)}(i,this.n.bitLength()+7>>3,e,r)},ct.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)},ct.prototype.toBigInteger=function(){return this.x},ct.prototype.negate=function(){return new ct(this.q,this.x.negate().mod(this.q))},ct.prototype.add=function(t){return new ct(this.q,this.x.add(t.toBigInteger()).mod(this.q))},ct.prototype.subtract=function(t){return new ct(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))},ct.prototype.multiply=function(t){return new ct(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))},ct.prototype.square=function(){return new ct(this.q,this.x.square().mod(this.q))},ct.prototype.divide=function(t){return new ct(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))},ct.prototype.sqrt=function(){return new ct(this.q,this.x.sqrt().mod(this.q))},ft.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ft.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ft.prototype.equals=function(t){return t==this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(_.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(_.ZERO))},ft.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(_.ZERO)&&!this.y.toBigInteger().equals(_.ZERO)},ft.prototype.negate=function(){return new ft(this.curve,this.x,this.y.negate(),this.z)},ft.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),r=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(_.ZERO.equals(r))return _.ZERO.equals(e)?this.twice():this.curve.getInfinity();var n=new _("3"),i=this.x.toBigInteger(),s=this.y.toBigInteger(),o=(t.x.toBigInteger(),t.y.toBigInteger(),r.square()),a=o.multiply(r),u=i.multiply(o),c=e.square().multiply(this.z),f=c.subtract(u.shiftLeft(1)).multiply(t.z).subtract(a).multiply(r).mod(this.curve.q),h=u.multiply(n).multiply(e).subtract(s.multiply(a)).subtract(c.multiply(e)).multiply(t.z).add(e.multiply(a)).mod(this.curve.q),l=a.multiply(this.z).multiply(t.z).mod(this.curve.q);return new ft(this.curve,this.curve.fromBigInteger(f),this.curve.fromBigInteger(h),l)},ft.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new _("3"),e=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),i=n.multiply(r).mod(this.curve.q),s=this.curve.a.toBigInteger(),o=e.square().multiply(t);_.ZERO.equals(s)||(o=o.add(this.z.square().multiply(s)));var a=(o=o.mod(this.curve.q)).square().subtract(e.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.q),u=o.multiply(t).multiply(e).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(o.square().multiply(o)).mod(this.curve.q),c=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new ft(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(u),c)},ft.prototype.multiply=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,r=t,n=r.multiply(new _("3")),i=this.negate(),s=this,o=this.curve.q.subtract(t),a=o.multiply(new _("3")),u=new ft(this.curve,this.x,this.y),c=u.negate();for(e=n.bitLength()-2;e>0;--e){s=s.twice();var f=n.testBit(e);f!=r.testBit(e)&&(s=s.add(f?this:i))}for(e=a.bitLength()-2;e>0;--e){u=u.twice();var h=a.testBit(e);h!=o.testBit(e)&&(u=u.add(h?u:c))}return s},ft.prototype.multiplyTwo=function(t,e,r){var n;n=t.bitLength()>r.bitLength()?t.bitLength()-1:r.bitLength()-1;for(var i=this.curve.getInfinity(),s=this.add(e);n>=0;)i=i.twice(),t.testBit(n)?i=r.testBit(n)?i.add(s):i.add(this):r.testBit(n)&&(i=i.add(e)),--n;return i},ht.prototype.getQ=function(){return this.q},ht.prototype.getA=function(){return this.a},ht.prototype.getB=function(){return this.b},ht.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)},ht.prototype.getInfinity=function(){return this.infinity},ht.prototype.fromBigInteger=function(t){return new ct(this.q,t)},ht.prototype.decodePointHex=function(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var e=t.substr(0,2),r=(t.substr(2),this.fromBigInteger(new _(a,16))),n=this.getA(),i=this.getB(),s=r.square().add(n).multiply(r).add(i).sqrt();return"03"==e&&(s=s.negate()),new ft(this,r,s);case 4:case 6:case 7:var o=(t.length-2)/2,a=t.substr(2,o),u=t.substr(o+2,o);return new ft(this,this.fromBigInteger(new _(a,16)),this.fromBigInteger(new _(u,16)));default:return null}},ct.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ft.prototype.getEncoded=function(t){var e=function(t,e){var r=t.toByteArrayUnsigned();if(e<r.length)r=r.slice(r.length-e);else for(;e>r.length;)r.unshift(0);return r},r=this.getX().toBigInteger(),n=this.getY().toBigInteger(),i=e(r,32);return t?n.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(e(n,32))),i},ft.decodeFrom=function(t,e){e[0];var r=e.length-1,n=e.slice(1,1+r/2),i=e.slice(1+r/2,1+r);n.unshift(0),i.unshift(0);var s=new _(n),o=new _(i);return new ft(t,t.fromBigInteger(s),t.fromBigInteger(o))},ft.decodeFromHex=function(t,e){e.substr(0,2);var r=e.length-2,n=e.substr(2,r/2),i=e.substr(2+r/2,r/2),s=new _(n,16),o=new _(i,16);return new ft(t,t.fromBigInteger(s),t.fromBigInteger(o))},ft.prototype.add2D=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;if(this.x.equals(t.x))return this.y.equals(t.y)?this.twice():this.curve.getInfinity();var e=t.x.subtract(this.x),r=t.y.subtract(this.y).divide(e),n=r.square().subtract(this.x).subtract(t.x),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new ft(this.curve,n,i)},ft.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=this.curve.fromBigInteger(_.valueOf(2)),e=this.curve.fromBigInteger(_.valueOf(3)),r=this.x.square().multiply(e).add(this.curve.a).divide(this.y.multiply(t)),n=r.square().subtract(this.x.multiply(t)),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new ft(this.curve,n,i)},ft.prototype.multiply2D=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,r=t,n=r.multiply(new _("3")),i=this.negate(),s=this;for(e=n.bitLength()-2;e>0;--e){s=s.twice();var o=n.testBit(e);o!=r.testBit(e)&&(s=s.add2D(o?this:i))}return s},ft.prototype.isOnCurve=function(){var t=this.getX().toBigInteger(),e=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),i=this.curve.getQ(),s=e.multiply(e).mod(i),o=t.multiply(t).multiply(t).add(r.multiply(t)).add(n).mod(i);return s.equals(o)},ft.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ft.prototype.validate=function(){var t=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var e=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(e.compareTo(_.ONE)<0||e.compareTo(t.subtract(_.ONE))>0)throw new Error("x coordinate out of bounds");if(r.compareTo(_.ONE)<0||r.compareTo(t.subtract(_.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(t).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var lt=function(){var t=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),e=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function n(t,e,n){return e?r[e]:String.fromCharCode(parseInt(n,16))}var i=new String(""),s=Object.hasOwnProperty;return function(r,o){var a,u,c=r.match(t),f=c[0],h=!1;"{"===f?a={}:"["===f?a=[]:(a=[],h=!0);for(var l=[a],d=1-h,p=c.length;d<p;++d){var g;switch((f=c[d]).charCodeAt(0)){default:(g=l[0])[u||g.length]=+f,u=void 0;break;case 34:if(-1!==(f=f.substring(1,f.length-1)).indexOf("\\")&&(f=f.replace(e,n)),g=l[0],!u){if(!(g instanceof Array)){u=f||i;break}u=g.length}g[u]=f,u=void 0;break;case 91:g=l[0],l.unshift(g[u||g.length]=[]),u=void 0;break;case 93:case 125:l.shift();break;case 102:(g=l[0])[u||g.length]=!1,u=void 0;break;case 110:(g=l[0])[u||g.length]=null,u=void 0;break;case 116:(g=l[0])[u||g.length]=!0,u=void 0;break;case 123:g=l[0],l.unshift(g[u||g.length]={}),u=void 0}}if(h){if(1!==l.length)throw new Error;a=a[0]}else if(l.length)throw new Error;if(o){var y=function(t,e){var r=t[e];if(r&&"object"==typeof r){var n=null;for(var i in r)if(s.call(r,i)&&r!==t){var a=y(r,i);void 0!==a?r[i]=a:(n||(n=[]),n.push(i))}if(n)for(var u=n.length;--u>=0;)delete r[n[u]]}return o.call(t,e,r)};a=y({"":a},"")}return a}}();void 0!==dt&&dt||(dt={}),void 0!==dt.asn1&&dt.asn1||(dt.asn1={}),dt.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){return te(t)},this.getPEMStringFromHex=function(t,e){return Rt(t,e)},this.newObject=function(t){var e=dt.asn1,r=e.ASN1Object,n=e.DERBoolean,i=e.DERInteger,s=e.DERBitString,o=e.DEROctetString,a=e.DERNull,u=e.DERObjectIdentifier,c=e.DEREnumerated,f=e.DERUTF8String,h=e.DERNumericString,l=e.DERPrintableString,d=e.DERTeletexString,p=e.DERIA5String,g=e.DERUTCTime,y=e.DERGeneralizedTime,m=e.DERVisibleString,b=e.DERBMPString,v=e.DERSequence,w=e.DERSet,S=e.DERTaggedObject,E=e.ASN1Util.newObject;if(t instanceof e.ASN1Object)return t;var x=Object.keys(t);if(1!=x.length)throw new Error("key of param shall be only one.");var _=x[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+_+":"))throw new Error("undefined key: "+_);if("bool"==_)return new n(t[_]);if("int"==_)return new i(t[_]);if("bitstr"==_)return new s(t[_]);if("octstr"==_)return new o(t[_]);if("null"==_)return new a(t[_]);if("oid"==_)return new u(t[_]);if("enum"==_)return new c(t[_]);if("utf8str"==_)return new f(t[_]);if("numstr"==_)return new h(t[_]);if("prnstr"==_)return new l(t[_]);if("telstr"==_)return new d(t[_]);if("ia5str"==_)return new p(t[_]);if("utctime"==_)return new g(t[_]);if("gentime"==_)return new y(t[_]);if("visstr"==_)return new m(t[_]);if("bmpstr"==_)return new b(t[_]);if("asn1"==_)return new r(t[_]);if("seq"==_){for(var A=t[_],P=[],I=0;I<A.length;I++){var T=E(A[I]);P.push(T)}return new v({array:P})}if("set"==_){for(A=t[_],P=[],I=0;I<A.length;I++)T=E(A[I]),P.push(T);return new w({array:P})}if("tag"==_){var O=t[_];if("[object Array]"===Object.prototype.toString.call(O)&&3==O.length){var B=E(O[2]);return new S({tag:O[0],explicit:O[1],obj:B})}return new S(O)}},this.jsonToASN1HEX=function(t){return this.newObject(t).tohex()}},dt.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",r=parseInt(t.substr(0,2),16),n=(e=Math.floor(r/40)+"."+r%40,""),i=2;i<t.length;i+=2){var s=("00000000"+parseInt(t.substr(i,2),16).toString(2)).slice(-8);n+=s.substr(1,7),"0"==s.substr(0,1)&&(e=e+"."+new _(n,2).toString(10),n="")}return e},dt.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=new _(t,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var s="",o=0;o<i;o++)s+="0";for(n=s+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),r+=e(parseInt(a,2))}return r};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var n="",i=t.split("."),s=40*parseInt(i[0])+parseInt(i[1]);n+=e(s),i.splice(0,2);for(var o=0;o<i.length;o++)n+=r(i[o]);return n},dt.asn1.ASN1Object=function(t){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var r=e.length/2;if(r>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+t.toString(16));return(128+r).toString(16)+e},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(t){this.params=t},null!=t&&null!=t.tlv&&(this.hTLV=t.tlv,this.isModified=!1)},dt.asn1.DERAbstractString=function(t){dt.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=At(this.s).toLowerCase()},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},ae(dt.asn1.DERAbstractString,dt.asn1.ASN1Object),dt.asn1.DERAbstractTime=function(t){dt.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){var e=t.getTime()+6e4*t.getTimezoneOffset();return new Date(e)},this.formatDate=function(t,e,r){var n=this.zeroPadding,i=this.localDateToUTC(t),s=String(i.getFullYear());"utc"==e&&(s=s.substr(2,2));var o=s+n(String(i.getMonth()+1),2)+n(String(i.getDate()),2)+n(String(i.getHours()),2)+n(String(i.getMinutes()),2)+n(String(i.getSeconds()),2);if(!0===r){var a=i.getMilliseconds();if(0!=a){var u=n(String(a),3);o=o+"."+(u=u.replace(/[0]+$/,""))}}return o+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.setByParam=function(t){this.hV=null,this.hTLV=null,this.params=t},this.getString=function(){},this.setString=function(t){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=t},this.setByDate=function(t){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=t},this.setByDateValue=function(t,e,r,n,i,s){var o=new Date(Date.UTC(t,e-1,r,n,i,s,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},ae(dt.asn1.DERAbstractTime,dt.asn1.ASN1Object),dt.asn1.DERAbstractStructured=function(t){dt.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},ae(dt.asn1.DERAbstractStructured,dt.asn1.ASN1Object),dt.asn1.DERBoolean=function(t){dt.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==t?"010100":"0101ff"},ae(dt.asn1.DERBoolean,dt.asn1.ASN1Object),dt.asn1.DERInteger=function(t){dt.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.params=null;var e=te;this.setByBigInteger=function(t){this.isModified=!0,this.params={bigint:t}},this.setByInteger=function(t){this.isModified=!0,this.params=t},this.setValueHex=function(t){this.isModified=!0,this.params={hex:t}},this.getFreshValueHex=function(){var t=this.params,r=null;if(null==t)throw new Error("value not set");if("object"==typeof t&&null!=t.hex)return this.hV=t.hex,this.hV;if("number"==typeof t)r=new _(String(t),10);else if(null!=t.int)r=new _(String(t.int),10);else{if(null==t.bigint)throw new Error("wrong parameter");r=t.bigint}return this.hV=e(r),this.hV},null!=t&&(this.params=t)},ae(dt.asn1.DERInteger,dt.asn1.ASN1Object),dt.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=dt.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.tohex()}dt.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var r="0"+t;this.hTLV=null,this.isModified=!0,this.hV=r+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0),t+="0000000".substr(0,e);for(var r="",n=0;n<t.length-1;n+=8){var i=t.substr(n,8),s=parseInt(i,2).toString(16);1==s.length&&(s="0"+s),r+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+e+r},this.setByBooleanArray=function(t){for(var e="",r=0;r<t.length;r++)1==t[r]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},ae(dt.asn1.DERBitString,dt.asn1.ASN1Object),dt.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=dt.asn1.ASN1Util.newObject(t.obj);t.hex=e.tohex()}dt.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},ae(dt.asn1.DEROctetString,dt.asn1.DERAbstractString),dt.asn1.DERNull=function(){dt.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},ae(dt.asn1.DERNull,dt.asn1.ASN1Object),dt.asn1.DERObjectIdentifier=function(t){dt.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){var e=Zt(t);if(null==e)throw new Error("malformed oid string: "+t);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueName=function(t){var e=dt.asn1.x509.OID.name2oid(t);if(""===e)throw new Error("DERObjectIdentifier oidName undefined: "+t);this.setValueOidString(e)},this.setValueNameOrOid=function(t){t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(t){"string"==typeof t?this.setValueNameOrOid(t):void 0!==t.oid?this.setValueNameOrOid(t.oid):void 0!==t.name?this.setValueNameOrOid(t.name):void 0!==t.hex&&this.setValueHex(t.hex)},void 0!==t&&this.setByParam(t)},ae(dt.asn1.DERObjectIdentifier,dt.asn1.ASN1Object),dt.asn1.DEREnumerated=function(t){dt.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=te(t)},this.setByInteger=function(t){var e=new _(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},ae(dt.asn1.DEREnumerated,dt.asn1.ASN1Object),dt.asn1.DERUTF8String=function(t){dt.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},ae(dt.asn1.DERUTF8String,dt.asn1.DERAbstractString),dt.asn1.DERNumericString=function(t){dt.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},ae(dt.asn1.DERNumericString,dt.asn1.DERAbstractString),dt.asn1.DERPrintableString=function(t){dt.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},ae(dt.asn1.DERPrintableString,dt.asn1.DERAbstractString),dt.asn1.DERTeletexString=function(t){dt.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},ae(dt.asn1.DERTeletexString,dt.asn1.DERAbstractString),dt.asn1.DERIA5String=function(t){dt.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},ae(dt.asn1.DERIA5String,dt.asn1.DERAbstractString),dt.asn1.DERVisibleString=function(t){dt.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="1a"},ae(dt.asn1.DERVisibleString,dt.asn1.DERAbstractString),dt.asn1.DERBMPString=function(t){dt.asn1.DERBMPString.superclass.constructor.call(this,t),this.hT="1e"},ae(dt.asn1.DERBMPString,dt.asn1.DERAbstractString),dt.asn1.DERUTCTime=function(t){dt.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var t=this.params;if(null==this.params&&(t={date:new Date}),"string"==typeof t){if(!t.match(/^[0-9]{12}Z$/)&&!t.match(/^[0-9]{12}\.[0-9]+Z$/))throw new Error("malformed string for UTCTime: "+t);this.hV=wt(t)}else if(null!=t.str)this.hV=wt(t.str);else if(null==t.date&&1==t.millis){var e=new Date;this.hV=wt(this.formatDate(e,"utc",!0))}else if(null!=t.date&&t.date instanceof Date){var r=!0===t.millis;this.hV=wt(this.formatDate(t.date,"utc",r))}else t instanceof Date&&(this.hV=wt(this.formatDate(t,"utc")));if(null==this.hV)throw new Error("parameter not specified properly for UTCTime");return this.hV},null!=t&&this.setByParam(t)},ae(dt.asn1.DERUTCTime,dt.asn1.DERAbstractTime),dt.asn1.DERGeneralizedTime=function(t){dt.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.params=t,this.getFreshValueHex=function(){var t=this.params;if(null==this.params&&(t={date:new Date}),"string"==typeof t){if(!t.match(/^[0-9]{14}Z$/)&&!t.match(/^[0-9]{14}\.[0-9]+Z$/))throw new Error("malformed string for GeneralizedTime: "+t);this.hV=wt(t)}else if(null!=t.str)this.hV=wt(t.str);else if(null==t.date&&1==t.millis){var e=new Date;this.hV=wt(this.formatDate(e,"gen",!0))}else if(null!=t.date&&t.date instanceof Date){var r=!0===t.millis;this.hV=wt(this.formatDate(t.date,"gen",r))}else t instanceof Date&&(this.hV=wt(this.formatDate(t,"gen")));if(null==this.hV)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=t&&this.setByParam(t)},ae(dt.asn1.DERGeneralizedTime,dt.asn1.DERAbstractTime),dt.asn1.DERSequence=function(t){dt.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++)t+=this.asn1Array[e].tohex();return this.hV=t,this.hV}},ae(dt.asn1.DERSequence,dt.asn1.DERAbstractStructured),dt.asn1.DERSet=function(t){dt.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var r=this.asn1Array[e];t.push(r.tohex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},ae(dt.asn1.DERSet,dt.asn1.DERAbstractStructured),dt.asn1.DERTaggedObject=function(t){dt.asn1.DERTaggedObject.superclass.constructor.call(this);var e=dt.asn1,r=yt,n=r.getV,i=(r.isASN1HEX,e.ASN1Util.newObject);this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(t,e,r){this.params={tag:e,explicit:t,obj:r}},this.getFreshValueHex=function(){var t=this.params;if(null==t.explicit&&(t.explicit=!0),null!=t.tage&&(t.tag=t.tage,t.explicit=!0),null!=t.tagi&&(t.tag=t.tagi,t.explicit=!1),null!=t.str)this.hV=At(t.str);else if(null!=t.hex)this.hV=t.hex;else{if(null==t.obj)throw new Error("str, hex nor obj not specified");var r;t.obj instanceof e.ASN1Object?r=t.obj.tohex():"object"==typeof t.obj&&(r=i(t.obj).tohex()),t.explicit?this.hV=r:this.hV=n(r,0)}return null==t.tag&&(t.tag="a0"),this.hT=t.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ae(dt.asn1.DERTaggedObject,dt.asn1.ASN1Object);var dt,pt,gt,yt=new function(){};function mt(t){for(var e=new Array,r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}function bt(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}function vt(t){for(var e="",r=0;r<t.length;r++){var n=t[r].toString(16);1==n.length&&(n="0"+n),e+=n}return e}function wt(t){return vt(mt(t))}function St(t){return(t=(t=t.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Et(t){return t.length%4==2?t+="==":t.length%4==3&&(t+="="),(t=t.replace(/-/g,"+")).replace(/_/g,"/")}function xt(t){return t.length%2==1&&(t="0"+t),St(S(t))}function _t(t){return E(Et(t))}function At(t){return Ht(Gt(t)).toLowerCase()}function Pt(t){try{return decodeURIComponent(jt(t))}catch(t){return null}}function It(t){return Pt(function(t){for(var e=t.match(/.{1,2}/g),r=[],n=0;n<e.length;n++){var i=parseInt(e[n],16);161<=i&&i<=191?(r.push("c2"),r.push(e[n])):192<=i&&i<=255?(r.push("c3"),r.push((i-64).toString(16))):r.push(e[n])}return r.join("")}(t))}function Tt(t){for(var e="",r=0;r<t.length-1;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e}function Ot(t){for(var e="",r=0;r<t.length;r++)e+=("0"+t.charCodeAt(r).toString(16)).slice(-2);return e}function Bt(t){return S(t)}function kt(t,e){return(t=t.replace(new RegExp("(.{"+e+"})","g"),"$1\r\n")).replace(/\s+$/,"")}function Ft(t){return E(t.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Rt(t,e){return"-----BEGIN "+e+"-----\r\n"+kt(Bt(t),64)+"\r\n-----END "+e+"-----\r\n"}function Nt(t,e){if(-1==t.indexOf("-----BEGIN "))throw new Error("can't find PEM header");return Ft(t=void 0!==e?(t=t.replace(new RegExp("^[^]*-----BEGIN "+e+"-----"),"")).replace(new RegExp("-----END "+e+"-----[^]*$"),""):(t=t.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Ct(t){var e,r,n,i,s,o,a,u,c,f;if(f=(t=Dt(t)).match(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return e=parseInt(f[1]),r=parseInt(f[2])-1,n=parseInt(f[3]),i=parseInt(f[4]),s=parseInt(f[5]),o=parseInt(f[6]),a=0,""!==(u=f[7])&&(c=(u.substr(1)+"00").substr(0,3),a=parseInt(c)),Date.UTC(e,r,n,i,s,o,a);throw new Error("unsupported zulu format: "+t)}function Mt(t){return Math.round(Ct(t)/1e3)}function Dt(t){return t.match(/^[0-9]{12}Z$/)||t.match(/^[0-9]{12}[.][0-9]*Z$/)?t.match(/^[0-4]/)?"20"+t:"19"+t:t}function Ht(t){return t.replace(/%/g,"")}function jt(t){return t.replace(/(..)/g,"%$1")}function Lt(t){var e="malformed IPv6 address";if(!t.match(/^[0-9A-Fa-f:]+$/))throw e;var r=(t=t.toLowerCase()).split(":").length-1;if(r<2)throw e;var n=":".repeat(7-r+2),i=(t=t.replace("::",n)).split(":");if(8!=i.length)throw e;for(var s=0;s<8;s++)i[s]=("0000"+i[s]).slice(-4);return i.join("")}function Ut(t){if(!t.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+t);var e=(t=t.toLowerCase()).match(/.{1,4}/g);e=e.map((function(t){return t.replace(/^0+/,"")})),e=e.map((function(t){return""==t?"0":t}));var r=(t=":"+e.join(":")+":").match(/:(0:){2,}/g);if(null==r)return t.slice(1,-1);var n=r.sort().slice(-1)[0];return"::"!=(t=t.replace(n.substr(0,n.length-1),":")).substr(0,2)&&(t=t.substr(1)),"::"!=t.substr(-2,2)&&(t=t.substr(0,t.length-1)),t}function Kt(t){var e=new Error("malformed hex value");if(!t.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw e;if(8==t.length)try{return parseInt(t.substr(0,2),16)+"."+parseInt(t.substr(2,2),16)+"."+parseInt(t.substr(4,2),16)+"."+parseInt(t.substr(6,2),16)}catch(t){throw e}else{if(16!=t.length){if(32==t.length)return Ut(t);if(64==t.length){try{return Ut(t.substr(0,32))+"/"+Vt(t.substr(32))}catch(t){throw e}return}return t}try{return Kt(t.substr(0,8))+"/"+Vt(t.substr(8))}catch(t){throw e}}}function Vt(t){var e,r=new Error("malformed mask");try{e=new _(t,16).toString(2)}catch(t){throw r}if(!e.match(/^1*0*$/))throw r;return e.replace(/0+$/,"").length}function qt(t){var e=new Error("malformed IP address");if(!(t=t.toLowerCase(t)).match(/^[0-9a-f.:/]+$/))throw e;if(!t.match(/^[0-9.]+$/)){var r;if(t.match(/^[0-9.]+\/[0-9]+$/))return qt((r=t.split("/"))[0])+zt(parseInt(r[1]),32);if(t.match(/^[0-9a-f:]+$/)&&-1!==t.indexOf(":"))return Lt(t);if(t.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==t.indexOf(":"))return Lt((r=t.split("/"))[0])+zt(parseInt(r[1]),128);throw e}var n=t.split(".");if(4!==n.length)throw e;var i="";try{for(var s=0;s<4;s++)i+=("0"+parseInt(n[s]).toString(16)).slice(-2);return i}catch(t){throw e}}function zt(t,e){return 32==e&&0==t?"00000000":128==e&&0==t?"00000000000000000000000000000000":new _(Array(t+1).join("1")+Array(e-t+1).join("0"),2).toString(16)}function Wt(t){var e=t.match(/.{4}/g).map((function(t){var e=parseInt(t.substr(0,2),16),r=parseInt(t.substr(2),16);if(0==e&r<128)return String.fromCharCode(r);if(e<8){var n=128|63&r;return Pt((192|(7&e)<<3|(192&r)>>6).toString(16)+n.toString(16))}n=128|(15&e)<<2|(192&r)>>6;var i=128|63&r;return Pt((224|(240&e)>>4).toString(16)+n.toString(16)+i.toString(16))}));return e.join("")}function Gt(t){for(var e=encodeURIComponent(t),r="",n=0;n<e.length;n++)"%"==e[n]?(r+=e.substr(n,3),n+=2):r=r+"%"+wt(e[n]);return r}function $t(t){return!(t.length%2!=0||!t.match(/^[0-9a-f]+$/)&&!t.match(/^[0-9A-F]+$/))}function Xt(t){return!!t.match(/^[0-9A-Za-z-_.]+$/)}function Jt(t){return t.length%2==1?"0"+t:t.substr(0,1)>"7"?"00"+t:t}function Zt(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},r=function(t){var r="",n=parseInt(t,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var s="",o=0;o<i;o++)s+="0";for(n=s+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),r+=e(parseInt(a,2))}return r};try{if(!t.match(/^[0-9.]+$/))return null;var n="",i=t.split("."),s=40*parseInt(i[0],10)+parseInt(i[1],10);n+=e(s),i.splice(0,2);for(var o=0;o<i.length;o++)n+=r(i[o]);return n}catch(t){return null}}function Yt(t){if(!$t(t))return null;try{var e=[],r=t.substr(0,2),n=parseInt(r,16);e[0]=new String(Math.floor(n/40)),e[1]=new String(n%40);for(var i=t.substr(2),s=[],o=0;o<i.length/2;o++)s.push(parseInt(i.substr(2*o,2),16));var a=[],u="";for(o=0;o<s.length;o++)128&s[o]?u+=ee((127&s[o]).toString(2),7):(u+=ee((127&s[o]).toString(2),7),a.push(new String(parseInt(u,2))),u="");var c=e.join(".");return a.length>0&&(c=c+"."+a.join(".")),c}catch(t){return null}}function Qt(t){return te(new _(String(t),10))}function te(t){var e=t.toString(16);if("-"!=e.substr(0,1))return e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e),e;var r=e.substr(1).length;r%2==1?r+=1:e.match(/^[0-7]/)||(r+=2);for(var n="",i=0;i<r;i++)n+="f";return new _(n,16).xor(t).add(_.ONE).toString(16).replace(/^-/,"")}yt.getLblen=function(t,e){if("8"!=t.substr(e+2,1))return 1;var r=parseInt(t.substr(e+3,1));return 0==r?-1:0<r&&r<10?r+1:-2},yt.getL=function(t,e){var r=yt.getLblen(t,e);return r<1?"":t.substr(e+2,2*r)},yt.getVblen=function(t,e){var r;return""==(r=yt.getL(t,e))?-1:("8"===r.substr(0,1)?new _(r.substr(2),16):new _(r,16)).intValue()},yt.getVidx=function(t,e){var r=yt.getLblen(t,e);return r<0?r:e+2*(r+1)},yt.getV=function(t,e){var r=yt.getVidx(t,e),n=yt.getVblen(t,e);return t.substr(r,2*n)},yt.getTLV=function(t,e){return t.substr(e,2)+yt.getL(t,e)+yt.getV(t,e)},yt.getTLVblen=function(t,e){return 2+2*yt.getLblen(t,e)+2*yt.getVblen(t,e)},yt.getNextSiblingIdx=function(t,e){return yt.getVidx(t,e)+2*yt.getVblen(t,e)},yt.getChildIdx=function(t,e){var r,n,i,s=yt,o=[];r=s.getVidx(t,e),n=2*s.getVblen(t,e),"03"==t.substr(e,2)&&(r+=2,n-=2),i=0;for(var a=r;i<=n;){var u=s.getTLVblen(t,a);if((i+=u)<=n&&o.push(a),a+=u,i>=n)break}return o},yt.getNthChildIdx=function(t,e,r){return yt.getChildIdx(t,e)[r]},yt.getIdxbyList=function(t,e,r,n){var i,s,o=yt;return 0==r.length?void 0!==n&&t.substr(e,2)!==n?-1:e:(i=r.shift())>=(s=o.getChildIdx(t,e)).length?-1:o.getIdxbyList(t,s[i],r,n)},yt.getIdxbyListEx=function(t,e,r,n){var i,s,o=yt;if(0==r.length)return void 0!==n&&t.substr(e,2)!==n?-1:e;i=r.shift(),s=o.getChildIdx(t,e);for(var a=0,u=0;u<s.length;u++){var c=t.substr(s[u],2);if("number"==typeof i&&!o.isContextTag(c)&&a==i||"string"==typeof i&&o.isContextTag(c,i))return o.getIdxbyListEx(t,s[u],r,n);o.isContextTag(c)||a++}return-1},yt.getTLVbyList=function(t,e,r,n){var i=yt,s=i.getIdxbyList(t,e,r,n);return-1==s||s>=t.length?null:i.getTLV(t,s)},yt.getTLVbyListEx=function(t,e,r,n){var i=yt,s=i.getIdxbyListEx(t,e,r,n);return-1==s?null:i.getTLV(t,s)},yt.getVbyList=function(t,e,r,n,i){var s,o,a=yt;return-1==(s=a.getIdxbyList(t,e,r,n))||s>=t.length?null:(o=a.getV(t,s),!0===i&&(o=o.substr(2)),o)},yt.getVbyListEx=function(t,e,r,n,i){var s,o,a=yt;return-1==(s=a.getIdxbyListEx(t,e,r,n))?null:(o=a.getV(t,s),"03"==t.substr(s,2)&&!1!==i&&(o=o.substr(2)),o)},yt.getInt=function(t,e,r){null==r&&(r=-1);try{var n=t.substr(e,2);if("02"!=n&&"03"!=n)return r;var i=yt.getV(t,e);return"02"==n?parseInt(i,16):re(i)}catch(t){return r}},yt.getOID=function(t,e,r){null==r&&(r=null);try{return"06"!=t.substr(e,2)?r:Yt(yt.getV(t,e))}catch(t){return r}},yt.getOIDName=function(t,e,r){null==r&&(r=null);try{var n=yt.getOID(t,e,r);if(n==r)return r;var i=dt.asn1.x509.OID.oid2name(n);return""==i?n:i}catch(t){return r}},yt.getString=function(t,e,r){null==r&&(r=null);try{return Tt(yt.getV(t,e))}catch(t){return r}},yt.hextooidstr=function(t){var e=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},r=[],n=t.substr(0,2),i=parseInt(n,16);r[0]=new String(Math.floor(i/40)),r[1]=new String(i%40);for(var s=t.substr(2),o=[],a=0;a<s.length/2;a++)o.push(parseInt(s.substr(2*a,2),16));var u=[],c="";for(a=0;a<o.length;a++)128&o[a]?c+=e((127&o[a]).toString(2),7):(c+=e((127&o[a]).toString(2),7),u.push(new String(parseInt(c,2))),c="");var f=r.join(".");return u.length>0&&(f=f+"."+u.join(".")),f},yt.dump=function(t,e,r,n){var i=yt,s=i.getV,o=i.dump,a=i.getChildIdx,u=t;t instanceof dt.asn1.ASN1Object&&(u=t.tohex());var c=function(t,e){return t.length<=2*e?t:t.substr(0,e)+"..(total "+t.length/2+"bytes).."+t.substr(t.length-e,e)};void 0===e&&(e={ommit_long_octet:32}),void 0===r&&(r=0),void 0===n&&(n="");var f,h=e.ommit_long_octet;if("01"==(f=u.substr(r,2)))return"00"==(l=s(u,r))?n+"BOOLEAN FALSE\n":n+"BOOLEAN TRUE\n";if("02"==f)return n+"INTEGER "+c(l=s(u,r),h)+"\n";if("03"==f){var l=s(u,r);return i.isASN1HEX(l.substr(2))?(S=n+"BITSTRING, encapsulates\n")+o(l.substr(2),e,0,n+"  "):n+"BITSTRING "+c(l,h)+"\n"}if("04"==f)return l=s(u,r),i.isASN1HEX(l)?(S=n+"OCTETSTRING, encapsulates\n")+o(l,e,0,n+"  "):n+"OCTETSTRING "+c(l,h)+"\n";if("05"==f)return n+"NULL\n";if("06"==f){var d=s(u,r),p=dt.asn1.ASN1Util.oidHexToInt(d),g=dt.asn1.x509.OID.oid2name(p),y=p.replace(/\./g," ");return""!=g?n+"ObjectIdentifier "+g+" ("+y+")\n":n+"ObjectIdentifier ("+y+")\n"}if("0a"==f)return n+"ENUMERATED "+parseInt(s(u,r))+"\n";if("0c"==f)return n+"UTF8String '"+Pt(s(u,r))+"'\n";if("13"==f)return n+"PrintableString '"+Pt(s(u,r))+"'\n";if("14"==f)return n+"TeletexString '"+Pt(s(u,r))+"'\n";if("16"==f)return n+"IA5String '"+Pt(s(u,r))+"'\n";if("17"==f)return n+"UTCTime "+Pt(s(u,r))+"\n";if("18"==f)return n+"GeneralizedTime "+Pt(s(u,r))+"\n";if("1a"==f)return n+"VisualString '"+Pt(s(u,r))+"'\n";if("1e"==f)return n+"BMPString '"+Wt(s(u,r))+"'\n";if("30"==f){if("3000"==u.substr(r,4))return n+"SEQUENCE {}\n";S=n+"SEQUENCE\n";var m=e;if((2==(w=a(u,r)).length||3==w.length)&&"06"==u.substr(w[0],2)&&"04"==u.substr(w[w.length-1],2)){g=i.oidname(s(u,w[0]));var b=JSON.parse(JSON.stringify(e));b.x509ExtName=g,m=b}for(var v=0;v<w.length;v++)S+=o(u,m,w[v],n+"  ");return S}if("31"==f){S=n+"SET\n";var w=a(u,r);for(v=0;v<w.length;v++)S+=o(u,e,w[v],n+"  ");return S}if(0!=(128&(f=parseInt(f,16)))){var S,E=31&f;if(0!=(32&f)){for(S=n+"["+E+"]\n",w=a(u,r),v=0;v<w.length;v++)S+=o(u,e,w[v],n+"  ");return S}return l=s(u,r),yt.isASN1HEX(l)?(S=n+"["+E+"]\n")+o(l,e,0,n+"  "):(("68747470"==l.substr(0,8)||"subjectAltName"===e.x509ExtName&&2==E)&&(l=Pt(l)),n+"["+E+"] "+l+"\n")}return n+"UNKNOWN("+f+") "+s(u,r)+"\n"},yt.parse=function(t){var e=yt,r=e.parse,n=e.isASN1HEX,i=e.getV,s=e.getTLV,o=e.getChildIdx,a=dt.asn1,u=a.ASN1Util.oidHexToInt,c=a.x509.OID.oid2name,f=Pt,h=Wt,l=It,d={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},p=t.substr(0,2),g={},y=i(t,0);if("01"==p)return"0101ff"==t?{bool:!0}:{bool:!1};if("02"==p)return{int:{hex:y}};if("03"==p)try{if("00"!=y.substr(0,2))throw"not encap";var m=y.substr(2);if(!n(m))throw"not encap";return{bitstr:{obj:r(m)}}}catch(t){var b=null;return y.length<=10&&(b=ie(y)),null==b?{bitstr:{hex:y}}:{bitstr:{bin:b}}}else if("04"==p)try{if(!n(y))throw"not encap";return{octstr:{obj:r(y)}}}catch(t){return{octstr:{hex:y}}}else{if("05"==p)return{null:""};if("06"==p){var v=u(y),w=c(v);return""==w?{oid:v}:{oid:w}}if("0a"==p)return y.length>4?{enum:{hex:y}}:{enum:parseInt(y,16)};if("30"==p||"31"==p)return g[d[p]]=function(t){for(var e=[],n=o(t,0),i=0;i<n.length;i++){var a=n[i],u=s(t,a),c=r(u);e.push(c)}return e}(t),g;if("14"==p){var S=l(y);return g[d[p]]={str:S},g}if("1e"==p)return S=h(y),g[d[p]]={str:S},g;if(-1!=":0c:12:13:16:17:18:1a:".indexOf(p))return S=f(y),g[d[p]]={str:S},g;if(p.match(/^8[0-9]$/))return null==(S=f(y))|""==S||null!=S.match(/[\x00-\x1F\x7F-\x9F]/)||null!=S.match(/[\u0000-\u001F\u0080\u009F]/)?{tag:{tag:p,explicit:!1,hex:y}}:{tag:{tag:p,explicit:!1,str:S}};if(!p.match(/^a[0-9]$/)){var E=new dt.asn1.ASN1Object;return E.hV=y,{asn1:{tlv:p+E.getLengthHexFromValue()+y}}}try{if(!n(y))throw new Error("not encap");return{tag:{tag:p,explicit:!0,obj:r(y)}}}catch(t){return{tag:{tag:p,explicit:!0,hex:y}}}}},yt.isContextTag=function(t,e){var r,n;t=t.toLowerCase();try{r=parseInt(t,16)}catch(t){return-1}if(void 0===e)return 128==(192&r);try{return null!=e.match(/^\[[0-9]+\]$/)&&!((n=parseInt(e.substr(1,e.length-1),10))>31)&&128==(192&r)&&(31&r)==n}catch(t){return!1}},yt.isASN1HEX=function(t){var e=yt;if(t.length%2==1)return!1;var r=e.getVblen(t,0),n=t.substr(0,2),i=e.getL(t,0);return t.length-n.length-i.length==2*r},yt.checkStrictDER=function(t,e,r,n,i){var s=yt;if(void 0===r){if("string"!=typeof t)throw new Error("not hex string");if(t=t.toLowerCase(),!dt.lang.String.isHex(t))throw new Error("not hex string");r=t.length,i=(n=t.length/2)<128?1:Math.ceil(n.toString(16))+1}if(s.getL(t,e).length>2*i)throw new Error("L of TLV too long: idx="+e);var o=s.getVblen(t,e);if(o>n)throw new Error("value of L too long than hex: idx="+e);var a=s.getTLV(t,e),u=a.length-2-s.getL(t,e).length;if(u!==2*o)throw new Error("V string length and L's value not the same:"+u+"/"+2*o);if(0===e&&t.length!=a.length)throw new Error("total length and TLV length unmatch:"+t.length+"!="+a.length);var c=t.substr(e,2);if("02"===c){var f=s.getVidx(t,e);if("00"==t.substr(f,2)&&t.charCodeAt(f+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var h=s.getVblen(t,e),l=0,d=s.getChildIdx(t,e),p=0;p<d.length;p++)l+=s.getTLV(t,d[p]).length,s.checkStrictDER(t,d[p],r,n,i);if(2*h!=l)throw new Error("sum of children's TLV length and L unmatch: "+2*h+"!="+l)}},yt.oidname=function(t){var e=dt.asn1;dt.lang.String.isHex(t)&&(t=e.ASN1Util.oidHexToInt(t));var r=e.x509.OID.oid2name(t);return""===r&&(r=t),r},void 0!==dt&&dt||(dt={}),void 0!==dt.asn1&&dt.asn1||(dt.asn1={}),void 0!==dt.asn1.x509&&dt.asn1.x509||(dt.asn1.x509={}),dt.asn1.x509.Certificate=function(t){dt.asn1.x509.Certificate.superclass.constructor.call(this);var e=dt.asn1,r=e.DERBitString,n=e.DERSequence,i=e.x509,s=i.TBSCertificate,o=i.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(t){this.params=t},this.sign=function(){var t=this.params,e=t.sigalg;null!=t.sigalg.name&&(e=t.sigalg.name);var r=t.tbsobj.tohex(),n=new dt.crypto.Signature({alg:e});n.init(t.cakey),n.updateHex(r),t.sighex=n.sign()},this.getPEM=function(){return Rt(this.tohex(),"CERTIFICATE")},this.tohex=function(){var t=this.params;if(null!=t.tbsobj&&null!=t.tbsobj||(t.tbsobj=new s(t)),null==t.sighex&&null!=t.cakey&&this.sign(),null==t.sighex)throw new Error("sighex or cakey parameter not defined");var e=[];return e.push(t.tbsobj),e.push(new o({name:t.sigalg})),e.push(new r({hex:"00"+t.sighex})),new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&(this.params=t)},ae(dt.asn1.x509.Certificate,dt.asn1.ASN1Object),dt.asn1.x509.TBSCertificate=function(t){dt.asn1.x509.TBSCertificate.superclass.constructor.call(this);var e=dt.asn1,r=e.x509,n=e.DERTaggedObject,i=e.DERInteger,s=e.DERSequence,o=r.AlgorithmIdentifier,a=r.Time,u=r.X500Name,c=r.Extensions,f=r.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=[],e=this.params;if(null!=e.version||1!=e.version){var r=2;null!=e.version&&(r=e.version-1);var h=new n({obj:new i({int:r})});t.push(h)}return t.push(new i(e.serial)),t.push(new o({name:e.sigalg})),t.push(new u(e.issuer)),t.push(new s({array:[new a(e.notbefore),new a(e.notafter)]})),t.push(new u(e.subject)),t.push(new f(ue.getKey(e.sbjpubkey))),void 0!==e.ext&&e.ext.length>0&&t.push(new n({tag:"a3",obj:new c(e.ext)})),new dt.asn1.DERSequence({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ae(dt.asn1.x509.TBSCertificate,dt.asn1.ASN1Object),dt.asn1.x509.Extensions=function(t){dt.asn1.x509.Extensions.superclass.constructor.call(this);var e=dt.asn1,r=e.DERSequence,n=e.x509;this.aParam=[],this.setByParam=function(t){this.aParam=t},this.tohex=function(){for(var t=[],e=0;e<this.aParam.length;e++){var i=this.aParam[e],s=i.extname,o=null;if(null!=i.extn)o=new n.PrivateExtension(i);else if("subjectKeyIdentifier"==s)o=new n.SubjectKeyIdentifier(i);else if("keyUsage"==s)o=new n.KeyUsage(i);else if("subjectAltName"==s)o=new n.SubjectAltName(i);else if("issuerAltName"==s)o=new n.IssuerAltName(i);else if("basicConstraints"==s)o=new n.BasicConstraints(i);else if("nameConstraints"==s)o=new n.NameConstraints(i);else if("cRLDistributionPoints"==s)o=new n.CRLDistributionPoints(i);else if("certificatePolicies"==s)o=new n.CertificatePolicies(i);else if("policyMappings"==s)o=new n.PolicyMappings(i);else if("policyConstraints"==s)o=new n.PolicyConstraints(i);else if("inhibitAnyPolicy"==s)o=new n.InhibitAnyPolicy(i);else if("authorityKeyIdentifier"==s)o=new n.AuthorityKeyIdentifier(i);else if("extKeyUsage"==s)o=new n.ExtKeyUsage(i);else if("authorityInfoAccess"==s)o=new n.AuthorityInfoAccess(i);else if("cRLNumber"==s)o=new n.CRLNumber(i);else if("cRLReason"==s)o=new n.CRLReason(i);else if("ocspNonce"==s)o=new n.OCSPNonce(i);else if("ocspNoCheck"==s)o=new n.OCSPNoCheck(i);else if("adobeTimeStamp"==s)o=new n.AdobeTimeStamp(i);else{if("subjectDirectoryAttributes"!=s)throw new Error("extension not supported:"+JSON.stringify(i));o=new n.SubjectDirectoryAttributes(i)}null!=o&&t.push(o)}return new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.x509.Extensions,dt.asn1.ASN1Object),dt.asn1.x509.Extension=function(t){dt.asn1.x509.Extension.superclass.constructor.call(this);var e=dt.asn1,r=e.DERObjectIdentifier,n=e.DEROctetString,i=(e.DERBitString,e.DERBoolean),s=e.DERSequence;this.tohex=function(){var t=new r({oid:this.oid}),e=new n({hex:this.getExtnValueHex()}),o=new Array;return o.push(t),this.critical&&o.push(new i),o.push(e),new s({array:o}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==t&&void 0!==t.critical&&(this.critical=t.critical)},ae(dt.asn1.x509.Extension,dt.asn1.ASN1Object),dt.asn1.x509.KeyUsage=function(t){dt.asn1.x509.KeyUsage.superclass.constructor.call(this,t);var e=Error,r={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var t=this.getBinValue();return this.asn1ExtnValue=new dt.asn1.DERBitString({bin:t}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var t=this.params;if("object"!=typeof t||"object"!=typeof t.names&&"string"!=typeof t.bin)throw new e("parameter not yet set");if(null!=t.names)return se(t.names,r);if(null!=t.bin)return t.bin;throw new e("parameter not set properly")},this.oid="2.5.29.15",void 0!==t&&(this.params=t)},ae(dt.asn1.x509.KeyUsage,dt.asn1.x509.Extension),dt.asn1.x509.BasicConstraints=function(t){dt.asn1.x509.BasicConstraints.superclass.constructor.call(this,t);var e=dt.asn1,r=e.DERBoolean,n=e.DERInteger,i=e.DERSequence;this.getExtnValueHex=function(){var t=new Array;this.cA&&t.push(new r),this.pathLen>-1&&t.push(new n({int:this.pathLen}));var e=new i({array:t});return this.asn1ExtnValue=e,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==t&&(void 0!==t.cA&&(this.cA=t.cA),void 0!==t.pathLen&&(this.pathLen=t.pathLen))},ae(dt.asn1.x509.BasicConstraints,dt.asn1.x509.Extension),dt.asn1.x509.CRLDistributionPoints=function(t){dt.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,t);var e=dt.asn1,r=e.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(t){for(var n=[],i=0;i<t.length;i++)if(t[i]instanceof dt.asn1.ASN1Object)n.push(t[i]);else{var s=new r.DistributionPoint(t[i]);n.push(s)}this.asn1ExtnValue=new e.DERSequence({array:n})},this.setByOneURI=function(t){var e=new r.DistributionPoint({fulluri:t});this.setByDPArray([e])},this.oid="2.5.29.31",void 0!==t&&(void 0!==t.array?this.setByDPArray(t.array):void 0!==t.uri&&this.setByOneURI(t.uri))},ae(dt.asn1.x509.CRLDistributionPoints,dt.asn1.x509.Extension),dt.asn1.x509.DistributionPoint=function(t){dt.asn1.x509.DistributionPoint.superclass.constructor.call(this);var e=dt.asn1,r=e.x509.DistributionPointName;this.tohex=function(){var t=new e.DERSequence;if(null!=this.asn1DP){var r=new e.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});t.appendASN1Object(r)}return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(void 0!==t.dpobj?this.asn1DP=t.dpobj:void 0!==t.dpname?this.asn1DP=new r(t.dpname):void 0!==t.fulluri&&(this.asn1DP=new r({full:[{uri:t.fulluri}]})))},ae(dt.asn1.x509.DistributionPoint,dt.asn1.ASN1Object),dt.asn1.x509.DistributionPointName=function(t){dt.asn1.x509.DistributionPointName.superclass.constructor.call(this);var e=dt.asn1,r=e.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new r({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t)if(e.x509.GeneralNames.prototype.isPrototypeOf(t))this.type="full",this.tag="a0",this.asn1V=t;else{if(void 0===t.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new e.x509.GeneralNames(t.full)}},ae(dt.asn1.x509.DistributionPointName,dt.asn1.ASN1Object),dt.asn1.x509.CertificatePolicies=function(t){dt.asn1.x509.CertificatePolicies.superclass.constructor.call(this,t);var e=dt.asn1,r=e.x509,n=e.DERSequence,i=r.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var t=[],e=0;e<this.params.array.length;e++)t.push(new i(this.params.array[e]));var r=new n({array:t});return this.asn1ExtnValue=r,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==t&&(this.params=t)},ae(dt.asn1.x509.CertificatePolicies,dt.asn1.x509.Extension),dt.asn1.x509.PolicyInformation=function(t){dt.asn1.x509.PolicyInformation.superclass.constructor.call(this,t);var e=dt.asn1,r=e.DERSequence,n=e.DERObjectIdentifier,i=e.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var t=[new n(this.params.policyoid)];if(void 0!==this.params.array){for(var e=[],s=0;s<this.params.array.length;s++)e.push(new i(this.params.array[s]));e.length>0&&t.push(new r({array:e}))}return new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},ae(dt.asn1.x509.PolicyInformation,dt.asn1.ASN1Object),dt.asn1.x509.PolicyQualifierInfo=function(t){dt.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,t);var e=dt.asn1,r=e.DERSequence,n=e.DERIA5String,i=e.DERObjectIdentifier,s=e.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new r({array:[new i({oid:"1.3.6.1.5.5.7.2.1"}),new n({str:this.params.cps})]}).tohex():null!=this.params.unotice?new r({array:[new i({oid:"1.3.6.1.5.5.7.2.2"}),new s(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},ae(dt.asn1.x509.PolicyQualifierInfo,dt.asn1.ASN1Object),dt.asn1.x509.UserNotice=function(t){dt.asn1.x509.UserNotice.superclass.constructor.call(this,t);var e=dt.asn1.DERSequence,r=(dt.asn1.DERInteger,dt.asn1.x509.DisplayText),n=dt.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var t=[];return void 0!==this.params.noticeref&&t.push(new n(this.params.noticeref)),void 0!==this.params.exptext&&t.push(new r(this.params.exptext)),new e({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},ae(dt.asn1.x509.UserNotice,dt.asn1.ASN1Object),dt.asn1.x509.NoticeReference=function(t){dt.asn1.x509.NoticeReference.superclass.constructor.call(this,t);var e=dt.asn1.DERSequence,r=dt.asn1.DERInteger,n=dt.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var t=[];if(void 0!==this.params.org&&t.push(new n(this.params.org)),void 0!==this.params.noticenum){for(var i=[],s=this.params.noticenum,o=0;o<s.length;o++)i.push(new r(s[o]));t.push(new e({array:i}))}if(0==t.length)throw new Error("parameter is empty");return new e({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},ae(dt.asn1.x509.NoticeReference,dt.asn1.ASN1Object),dt.asn1.x509.DisplayText=function(t){dt.asn1.x509.DisplayText.superclass.constructor.call(this,t),this.hT="0c",void 0!==t&&("ia5"===t.type?this.hT="16":"vis"===t.type?this.hT="1a":"bmp"===t.type&&(this.hT="1e"))},ae(dt.asn1.x509.DisplayText,dt.asn1.DERAbstractString),dt.asn1.x509.PolicyMappings=function(t){dt.asn1.x509.PolicyMappings.superclass.constructor.call(this,t);var e=dt.asn1,r=(e.x509,e.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){for(var t=this.params,e=[],n=0;n<t.array.length;n++){var i=t.array[n];e.push({seq:[{oid:i[0]},{oid:i[1]}]})}return this.asn1ExtnValue=r({seq:e}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",void 0!==t&&(this.params=t)},ae(dt.asn1.x509.PolicyMappings,dt.asn1.x509.Extension),dt.asn1.x509.PolicyConstraints=function(t){dt.asn1.x509.PolicyConstraints.superclass.constructor.call(this,t);var e=dt.asn1,r=(e.x509,e.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){var t=this.params,e=[];return null!=t.reqexp&&e.push({tag:{tagi:"80",obj:{int:t.reqexp}}}),null!=t.inhibit&&e.push({tag:{tagi:"81",obj:{int:t.inhibit}}}),this.asn1ExtnValue=r({seq:e}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",void 0!==t&&(this.params=t)},ae(dt.asn1.x509.PolicyConstraints,dt.asn1.x509.Extension),dt.asn1.x509.InhibitAnyPolicy=function(t){dt.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,t);var e=dt.asn1,r=(e.x509,e.ASN1Util.newObject);this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=r({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",void 0!==t&&(this.params=t)},ae(dt.asn1.x509.InhibitAnyPolicy,dt.asn1.x509.Extension),dt.asn1.x509.NameConstraints=function(t){dt.asn1.x509.NameConstraints.superclass.constructor.call(this,t);var e=dt.asn1,r=e.x509,n=e.ASN1Util.newObject,i=r.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var t=this.params,e=[];if(null!=t.permit&&null!=t.permit.length){for(var r=[],s=0;s<t.permit.length;s++)r.push(new i(t.permit[s]));e.push({tag:{tagi:"a0",obj:{seq:r}}})}if(null!=t.exclude&&null!=t.exclude.length){var o=[];for(s=0;s<t.exclude.length;s++)o.push(new i(t.exclude[s]));e.push({tag:{tagi:"a1",obj:{seq:o}}})}return this.asn1ExtnValue=n({seq:e}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==t&&(this.params=t)},ae(dt.asn1.x509.NameConstraints,dt.asn1.x509.Extension),dt.asn1.x509.GeneralSubtree=function(t){dt.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var e=dt.asn1,r=e.x509.GeneralName,n=e.ASN1Util.newObject;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params,e=[new r(t)];return null!=t.min&&e.push({tag:{tagi:"80",obj:{int:t.min}}}),null!=t.max&&e.push({tag:{tagi:"81",obj:{int:t.max}}}),n({seq:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ae(dt.asn1.x509.GeneralSubtree,dt.asn1.ASN1Object),dt.asn1.x509.ExtKeyUsage=function(t){dt.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,t);var e=dt.asn1;this.setPurposeArray=function(t){this.asn1ExtnValue=new e.DERSequence;for(var r=0;r<t.length;r++){var n=new e.DERObjectIdentifier(t[r]);this.asn1ExtnValue.appendASN1Object(n)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==t&&void 0!==t.array&&this.setPurposeArray(t.array)},ae(dt.asn1.x509.ExtKeyUsage,dt.asn1.x509.Extension),dt.asn1.x509.AuthorityKeyIdentifier=function(t){dt.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,t);var e=dt,r=e.asn1,n=r.DERTaggedObject,i=r.x509.GeneralNames;e.crypto.Util.isKey,this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var t=new Array;this.asn1KID&&t.push(new n({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&t.push(new n({explicit:!1,tag:"a1",obj:new i([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&t.push(new n({explicit:!1,tag:"82",obj:this.asn1CertSN}));var e=new r.DERSequence({array:t});return this.asn1ExtnValue=e,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(t){if(void 0!==t.str||void 0!==t.hex)this.asn1KID=new dt.asn1.DEROctetString(t);else if("object"==typeof t&&dt.crypto.Util.isKey(t)||"string"==typeof t&&-1!=t.indexOf("BEGIN ")){var e=t;"string"==typeof t&&(e=ue.getKey(t));var r=ue.getKeyID(e);this.asn1KID=new dt.asn1.DEROctetString({hex:r})}},this.setCertIssuerByParam=function(t){void 0!==t.str||void 0!==t.ldapstr||void 0!==t.hex||void 0!==t.certsubject||void 0!==t.certissuer?this.asn1CertIssuer=new dt.asn1.x509.X500Name(t):"string"==typeof t&&-1!=t.indexOf("BEGIN ")&&-1!=t.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new dt.asn1.x509.X500Name({certissuer:t}))},this.setCertSNByParam=function(t){if(void 0!==t.str||void 0!==t.bigint||void 0!==t.hex)this.asn1CertSN=new dt.asn1.DERInteger(t);else if("string"==typeof t&&-1!=t.indexOf("BEGIN ")&&t.indexOf("CERTIFICATE")){var e=new le;e.readCertPEM(t);var r=e.getSerialNumberHex();this.asn1CertSN=new dt.asn1.DERInteger({hex:r})}},this.oid="2.5.29.35",void 0!==t&&(void 0!==t.kid&&this.setKIDByParam(t.kid),void 0!==t.issuer&&this.setCertIssuerByParam(t.issuer),void 0!==t.sn&&this.setCertSNByParam(t.sn),void 0!==t.issuersn&&"string"==typeof t.issuersn&&-1!=t.issuersn.indexOf("BEGIN ")&&t.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(t.issuersn),this.setCertIssuerByParam(t.issuersn)))},ae(dt.asn1.x509.AuthorityKeyIdentifier,dt.asn1.x509.Extension),dt.asn1.x509.SubjectKeyIdentifier=function(t){dt.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,t);var e=dt.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(t){if(void 0!==t.str||void 0!==t.hex)this.asn1KID=new e(t);else if("object"==typeof t&&dt.crypto.Util.isKey(t)||"string"==typeof t&&-1!=t.indexOf("BEGIN")){var r=t;"string"==typeof t&&(r=ue.getKey(t));var n=ue.getKeyID(r);this.asn1KID=new dt.asn1.DEROctetString({hex:n})}},this.oid="2.5.29.14",void 0!==t&&void 0!==t.kid&&this.setKIDByParam(t.kid)},ae(dt.asn1.x509.SubjectKeyIdentifier,dt.asn1.x509.Extension),dt.asn1.x509.AuthorityInfoAccess=function(t){dt.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,t),this.setAccessDescriptionArray=function(t){for(var e=new Array,r=dt.asn1,n=r.DERSequence,i=r.DERObjectIdentifier,s=r.x509.GeneralName,o=0;o<t.length;o++){var a,u=t[o];if(void 0!==u.ocsp)a=new n({array:[new i({oid:"1.3.6.1.5.5.7.48.1"}),new s({uri:u.ocsp})]});else{if(void 0===u.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(u));a=new n({array:[new i({oid:"1.3.6.1.5.5.7.48.2"}),new s({uri:u.caissuer})]})}e.push(a)}this.asn1ExtnValue=new n({array:e})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==t&&void 0!==t.array&&this.setAccessDescriptionArray(t.array)},ae(dt.asn1.x509.AuthorityInfoAccess,dt.asn1.x509.Extension),dt.asn1.x509.SubjectAltName=function(t){dt.asn1.x509.SubjectAltName.superclass.constructor.call(this,t),this.setNameArray=function(t){this.asn1ExtnValue=new dt.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==t&&void 0!==t.array&&this.setNameArray(t.array)},ae(dt.asn1.x509.SubjectAltName,dt.asn1.x509.Extension),dt.asn1.x509.IssuerAltName=function(t){dt.asn1.x509.IssuerAltName.superclass.constructor.call(this,t),this.setNameArray=function(t){this.asn1ExtnValue=new dt.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==t&&void 0!==t.array&&this.setNameArray(t.array)},ae(dt.asn1.x509.IssuerAltName,dt.asn1.x509.Extension),dt.asn1.x509.SubjectDirectoryAttributes=function(t){dt.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,t);var e=dt.asn1,r=e.DERSequence,n=e.ASN1Util.newObject,i=e.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var t=[],e=0;e<this.params.array.length;e++){var s=this.params.array[e];if(null==s.attr||null==s.array){var o={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==s.attr)o.seq[0].oid=i(s.attr),o.seq[1].set[0]={gentime:s.str};else if("placeOfBirth"==s.attr)o.seq[0].oid=i(s.attr),o.seq[1].set[0]={utf8str:s.str};else if("gender"==s.attr)o.seq[0].oid=i(s.attr),o.seq[1].set[0]={prnstr:s.str};else if("countryOfCitizenship"==s.attr)o.seq[0].oid=i(s.attr),o.seq[1].set[0]={prnstr:s.str};else{if("countryOfResidence"!=s.attr)throw new Error("unsupported attribute: "+s.attr);o.seq[0].oid=i(s.attr),o.seq[1].set[0]={prnstr:s.str}}t.push(new n(o))}else{var a={seq:[{oid:s.attr},{set:s.array}]};t.push(n(a))}}var u=new r({array:t});return this.asn1ExtnValue=u,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==t&&(this.params=t)},ae(dt.asn1.x509.SubjectDirectoryAttributes,dt.asn1.x509.Extension),dt.asn1.x509.PrivateExtension=function(t){dt.asn1.x509.PrivateExtension.superclass.constructor.call(this,t);var e=dt,r=e.lang.String.isHex,n=e.asn1,i=n.x509.OID.name2oid,s=n.ASN1Util.newObject;this.params=null,this.setByParam=function(t){this.oid=i(t.extname),this.params=t},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var t=this.params.extn;if("string"==typeof t&&r(t))return t;if("object"==typeof t)try{return s(t).tohex()}catch(t){}throw new Error("unsupported extn value")},null!=t&&this.setByParam(t)},ae(dt.asn1.x509.PrivateExtension,dt.asn1.x509.Extension),dt.asn1.x509.CRL=function(t){dt.asn1.x509.CRL.superclass.constructor.call(this);var e=dt.asn1,r=e.DERSequence,n=e.DERBitString,i=e.x509,s=i.AlgorithmIdentifier,o=i.TBSCertList;this.params=void 0,this.setByParam=function(t){this.params=t},this.sign=function(){var t=new o(this.params).tohex(),e=new dt.crypto.Signature({alg:this.params.sigalg});e.init(this.params.cakey),e.updateHex(t);var r=e.sign();this.params.sighex=r},this.getPEM=function(){return Rt(this.tohex(),"X509 CRL")},this.tohex=function(){var t=this.params;if(null==t.tbsobj&&(t.tbsobj=new o(t)),null==t.sighex&&null!=t.cakey&&this.sign(),null==t.sighex)throw new Error("sighex or cakey parameter not defined");var e=[];return e.push(t.tbsobj),e.push(new s({name:t.sigalg})),e.push(new n({hex:"00"+t.sighex})),new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&(this.params=t)},ae(dt.asn1.x509.CRL,dt.asn1.ASN1Object),dt.asn1.x509.TBSCertList=function(t){dt.asn1.x509.TBSCertList.superclass.constructor.call(this);var e=dt.asn1,r=e.DERInteger,n=e.DERSequence,i=e.DERTaggedObject,s=(e.DERObjectIdentifier,e.x509),o=s.AlgorithmIdentifier,a=s.Time,u=s.Extensions,c=s.X500Name;this.params=null,this.setByParam=function(t){this.params=t},this.getRevCertSequence=function(){for(var t=[],e=this.params.revcert,i=0;i<e.length;i++){var s=[new r(e[i].sn),new a(e[i].date)];null!=e[i].ext&&s.push(new u(e[i].ext)),t.push(new n({array:s}))}return new n({array:t})},this.tohex=function(){var t=[],e=this.params;if(null!=e.version){var s=e.version-1,f=new r({int:s});t.push(f)}if(t.push(new o({name:e.sigalg})),t.push(new c(e.issuer)),t.push(new a(e.thisupdate)),null!=e.nextupdate&&t.push(new a(e.nextupdate)),null!=e.revcert&&t.push(this.getRevCertSequence()),null!=e.ext){var h=new u(e.ext);t.push(new i({tag:"a0",explicit:!0,obj:h}))}return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ae(dt.asn1.x509.TBSCertList,dt.asn1.ASN1Object),dt.asn1.x509.CRLEntry=function(t){dt.asn1.x509.CRLEntry.superclass.constructor.call(this);var e=dt.asn1;this.setCertSerial=function(t){this.sn=new e.DERInteger(t)},this.setRevocationDate=function(t){this.time=new e.x509.Time(t)},this.tohex=function(){var t=new e.DERSequence({array:[this.sn,this.time]});return this.TLV=t.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(void 0!==t.time&&this.setRevocationDate(t.time),void 0!==t.sn&&this.setCertSerial(t.sn))},ae(dt.asn1.x509.CRLEntry,dt.asn1.ASN1Object),dt.asn1.x509.CRLNumber=function(t){dt.asn1.x509.CRLNumber.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new dt.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=t&&(this.params=t)},ae(dt.asn1.x509.CRLNumber,dt.asn1.x509.Extension),dt.asn1.x509.CRLReason=function(t){dt.asn1.x509.CRLReason.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new dt.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=t&&(this.params=t)},ae(dt.asn1.x509.CRLReason,dt.asn1.x509.Extension),dt.asn1.x509.OCSPNonce=function(t){dt.asn1.x509.OCSPNonce.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new dt.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=t&&(this.params=t)},ae(dt.asn1.x509.OCSPNonce,dt.asn1.x509.Extension),dt.asn1.x509.OCSPNoCheck=function(t){dt.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new dt.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=t&&(this.params=t)},ae(dt.asn1.x509.OCSPNoCheck,dt.asn1.x509.Extension),dt.asn1.x509.AdobeTimeStamp=function(t){dt.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,t);var e=dt.asn1,r=e.DERInteger,n=e.DERBoolean,i=e.DERSequence,s=e.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var t=this.params,e=[new r(1)];return e.push(new s({uri:t.uri})),null!=t.reqauth&&e.push(new n(t.reqauth)),this.asn1ExtnValue=new i({array:e}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==t&&this.setByParam(t)},ae(dt.asn1.x509.AdobeTimeStamp,dt.asn1.x509.Extension),dt.asn1.x509.X500Name=function(t){dt.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var e=dt.asn1,r=e.x509,n=r.RDN;this.setByString=function(t,e){void 0!==e&&(this.sRule=e);var r=t.split("/");r.shift();for(var i=[],s=0;s<r.length;s++)if(r[s].match(/^[^=]+=.+$/))i.push(r[s]);else{var o=i.length-1;i[o]=i[o]+"/"+r[s]}for(s=0;s<i.length;s++)this.asn1Array.push(new n({str:i[s],rule:this.sRule}))},this.setByLdapString=function(t,e){void 0!==e&&(this.sRule=e);var n=r.X500Name.ldapToCompat(t);this.setByString(n,e)},this.setByObject=function(t,e){for(var r in void 0!==e&&(this.sRule=e),t)if(t.hasOwnProperty(r)){var i=new n({str:r+"="+t[r],rule:this.sRule});this.asn1Array?this.asn1Array.push(i):this.asn1Array=[i]}},this.setByParam=function(t){var e;void 0!==t.rule&&(this.sRule=t.rule),void 0!==t.array?this.paramArray=t.array:void 0!==t.str?this.setByString(t.str):void 0!==t.ldapstr?this.setByLdapString(t.ldapstr):void 0!==t.hex?this.hTLV=t.hex:void 0!==t.certissuer?((e=new le).readCertPEM(t.certissuer),this.hTLV=e.getIssuerHex()):void 0!==t.certsubject?((e=new le).readCertPEM(t.certsubject),this.hTLV=e.getSubjectHex()):"object"==typeof t&&void 0===t.certsubject&&void 0===t.certissuer&&this.setByObject(t)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var t=0;t<this.paramArray.length;t++){var r={array:this.paramArray[t]};"utf8"!=this.sRule&&(r.rule=this.sRule);var i=new n(r);this.asn1Array.push(i)}var s=new e.DERSequence({array:this.asn1Array});return this.hTLV=s.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ae(dt.asn1.x509.X500Name,dt.asn1.ASN1Object),dt.asn1.x509.X500Name.compatToLDAP=function(t){if("/"!==t.substr(0,1))throw"malformed input";var e=(t=t.substr(1)).split("/");return e.reverse(),e=e.map((function(t){return t.replace(/,/,"\\,")})),e.join(",")},dt.asn1.x509.X500Name.onelineToLDAP=function(t){return dt.asn1.x509.X500Name.compatToLDAP(t)},dt.asn1.x509.X500Name.ldapToCompat=function(t){for(var e=t.split(","),r=!1,n=[],i=0;e.length>0;i++){var s=e.shift();if(!0===r){var o=(n.pop()+","+s).replace(/\\,/g,",");n.push(o),r=!1}else n.push(s);"\\"===s.substr(-1,1)&&(r=!0)}return n=n.map((function(t){return t.replace("/","\\/")})),n.reverse(),"/"+n.join("/")},dt.asn1.x509.X500Name.ldapToOneline=function(t){return dt.asn1.x509.X500Name.ldapToCompat(t)},dt.asn1.x509.RDN=function(t){dt.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var e=dt.asn1.x509.AttributeTypeAndValue;this.setByParam=function(t){void 0!==t.rule&&(this.sRule=t.rule),void 0!==t.str&&this.addByMultiValuedString(t.str),void 0!==t.array&&(this.paramArray=t.array)},this.addByString=function(t){this.asn1Array.push(new dt.asn1.x509.AttributeTypeAndValue({str:t,rule:this.sRule}))},this.addByMultiValuedString=function(t){for(var e=dt.asn1.x509.RDN.parseString(t),r=0;r<e.length;r++)this.addByString(e[r])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var t=0;t<this.paramArray.length;t++){var r=this.paramArray[t];void 0!==r.rule&&"utf8"!=this.sRule&&(r.rule=this.sRule);var n=new e(r);this.asn1Array.push(n)}var i=new dt.asn1.DERSet({array:this.asn1Array});return this.TLV=i.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ae(dt.asn1.x509.RDN,dt.asn1.ASN1Object),dt.asn1.x509.RDN.parseString=function(t){for(var e=t.split(/\+/),r=!1,n=[],i=0;e.length>0;i++){var s=e.shift();if(!0===r){var o=(n.pop()+"+"+s).replace(/\\\+/g,"+");n.push(o),r=!1}else n.push(s);"\\"===s.substr(-1,1)&&(r=!0)}var a=!1,u=[];for(i=0;n.length>0;i++){if(s=n.shift(),!0===a){var c=u.pop();s.match(/"$/)?(o=(c+"+"+s).replace(/^([^=]+)="(.*)"$/,"$1=$2"),u.push(o),a=!1):u.push(c+"+"+s)}else u.push(s);s.match(/^[^=]+="/)&&(a=!0)}return u},dt.asn1.x509.AttributeTypeAndValue=function(t){dt.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var e=dt,r=e.asn1,n=r.DERSequence,i=r.DERUTF8String,s=r.DERPrintableString,o=r.DERTeletexString,a=r.DERIA5String,u=r.DERVisibleString,c=r.DERBMPString,f=e.lang.String.isMail,h=e.lang.String.isPrintable;this.setByParam=function(t){if(void 0!==t.rule&&(this.sRule=t.rule),void 0!==t.ds&&(this.dsType=t.ds),void 0===t.value&&void 0!==t.str){var e=t.str.match(/^([^=]+)=(.+)$/);if(!e)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=e[1],this.sValue=e[2]}else this.sType=t.type,this.sValue=t.value},this.setByString=function(t,e){void 0!==e&&(this.sRule=e);var r=t.match(/^([^=]+)=(.+)$/);if(!r)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(r[1],r[2])},this._getDsType=function(){var t=this.sType,e=this.sValue,r=this.sRule;return"prn"===r?"CN"==t&&f(e)?"ia5":h(e)?"prn":"utf8":"utf8"===r?"CN"==t&&f(e)?"ia5":"C"==t?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(t,e,r){void 0!==r&&(this.sRule=r),this.sType=t,this.sValue=e},this.getValueObj=function(t,e){if("utf8"==t)return new i({str:e});if("prn"==t)return new s({str:e});if("tel"==t)return new o({str:e});if("ia5"==t)return new a({str:e});if("vis"==t)return new u({str:e});if("bmp"==t)return new c({str:e});throw new Error("unsupported directory string type: type="+t+" value="+e)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var t=dt.asn1.x509.OID.atype2obj(this.sType),e=this.getValueObj(this.dsType,this.sValue),r=new n({array:[t,e]});return this.TLV=r.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ae(dt.asn1.x509.AttributeTypeAndValue,dt.asn1.ASN1Object),dt.asn1.x509.SubjectPublicKeyInfo=function(t){dt.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var e=dt,r=e.asn1,n=r.DERInteger,i=r.DERBitString,s=r.DERObjectIdentifier,o=r.DERSequence,a=r.ASN1Util.newObject,u=r.x509.AlgorithmIdentifier,c=e.crypto;c.ECDSA,c.DSA,this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new o({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var t=this.getASN1Object();return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(t){try{if(t instanceof at){var e=a({seq:[{int:{bigint:t.n}},{int:{int:t.e}}]}).tohex();this.asn1AlgId=new u({name:"rsaEncryption"}),this.asn1SubjPKey=new i({hex:"00"+e})}}catch(t){}try{if(t instanceof dt.crypto.ECDSA){var r=new s({name:t.curveName});this.asn1AlgId=new u({name:"ecPublicKey",asn1params:r}),this.asn1SubjPKey=new i({hex:"00"+t.pubKeyHex})}}catch(t){}try{if(t instanceof dt.crypto.DSA){r=new a({seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}),this.asn1AlgId=new u({name:"dsa",asn1params:r});var o=new n({bigint:t.y});this.asn1SubjPKey=new i({hex:"00"+o.tohex()})}}catch(t){}},void 0!==t&&this.setPubKey(t)},ae(dt.asn1.x509.SubjectPublicKeyInfo,dt.asn1.ASN1Object),dt.asn1.x509.Time=function(t){dt.asn1.x509.Time.superclass.constructor.call(this);var e=dt.asn1,r=e.DERUTCTime,n=e.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(t){this.timeParams=t},this.setByParam=function(t){this.params=t},this.getType=function(t){return t.match(/^[0-9]{12}Z$/)?"utc":t.match(/^[0-9]{14}Z$/)?"gen":t.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":t.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var t=this.params,e=null;if("string"==typeof t&&(t={str:t}),null==t||!t.str||null!=t.type&&null!=t.type||(t.type=this.getType(t.str)),null!=t&&t.str?("utc"==t.type&&(e=new r(t.str)),"gen"==t.type&&(e=new n(t.str))):e="gen"==this.type?new n:new r,null==e)throw new Error("wrong setting for Time");return this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},dt.asn1.x509.Time_bak=function(t){dt.asn1.x509.Time_bak.superclass.constructor.call(this);var e=dt.asn1,r=e.DERUTCTime,n=e.DERGeneralizedTime;this.setTimeParams=function(t){this.timeParams=t},this.tohex=function(){var t=null;return t=null!=this.timeParams?"utc"==this.type?new r(this.timeParams):new n(this.timeParams):"utc"==this.type?new r:new n,this.TLV=t.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==t&&(void 0!==t.type?this.type=t.type:void 0!==t.str&&(t.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),t.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=t)},ae(dt.asn1.x509.Time,dt.asn1.ASN1Object),dt.asn1.x509.AlgorithmIdentifier=function(t){dt.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var e=dt.asn1,r=e.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var t=null;for(var n in r)n===this.nameAlg&&(t=r[n]);if(null!==t)return this.hTLV=t,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=e.x509.OID.name2obj(this.nameAlg));var i=[this.asn1Alg];null!==this.asn1Params&&i.push(this.asn1Params);var s=new e.DERSequence({array:i});return this.hTLV=s.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(void 0!==t.name&&(this.nameAlg=t.name),void 0!==t.asn1params&&(this.asn1Params=t.asn1params),void 0!==t.paramempty&&(this.paramEmpty=t.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var n=this.nameAlg.toLowerCase();"withdsa"!==n.substr(-7,7)&&"withecdsa"!==n.substr(-9,9)&&(this.asn1Params=new e.DERNull)}},ae(dt.asn1.x509.AlgorithmIdentifier,dt.asn1.ASN1Object),dt.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},dt.asn1.x509.GeneralName=function(t){dt.asn1.x509.GeneralName.superclass.constructor.call(this);var e=dt.asn1,r=e.x509,n=r.X500Name,i=r.OtherName,s=e.DERIA5String,o=(e.DERPrintableString,e.DEROctetString),a=e.DERTaggedObject,u=e.ASN1Object,c=Error;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t,e,r=this.params,f=!1;if(void 0!==r.other)t="a0",e=new i(r.other);else if(void 0!==r.rfc822)t="81",e=new s({str:r.rfc822});else if(void 0!==r.dns)t="82",e=new s({str:r.dns});else if(void 0!==r.dn)t="a4",f=!0,e="string"==typeof r.dn?new n({str:r.dn}):r.dn instanceof dt.asn1.x509.X500Name?r.dn:new n(r.dn);else if(void 0!==r.ldapdn)t="a4",f=!0,e=new n({ldapstr:r.ldapdn});else if(void 0!==r.certissuer||void 0!==r.certsubj){var h,l;t="a4",f=!0;var d=null;if(void 0!==r.certsubj?(h=!1,l=r.certsubj):(h=!0,l=r.certissuer),l.match(/^[0-9A-Fa-f]+$/),-1!=l.indexOf("-----BEGIN ")&&(d=Nt(l)),null==d)throw new Error("certsubj/certissuer not cert");var p,g=new le;g.hex=d,p=h?g.getIssuerHex():g.getSubjectHex(),(e=new u).hTLV=p}else if(void 0!==r.uri)t="86",e=new s({str:r.uri});else{if(void 0===r.ip)throw new c("improper params");var y;t="87";var m=r.ip;try{if(m.match(/^[0-9a-f]+$/)){var b=m.length;if(8!=b&&16!=b&&32!=b&&64!=b)throw"err";y=m}else y=qt(m)}catch(t){throw new c("malformed IP address: "+r.ip+":"+t.message)}e=new o({hex:y})}return new a({tag:t,explicit:f,obj:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ae(dt.asn1.x509.GeneralName,dt.asn1.ASN1Object),dt.asn1.x509.GeneralNames=function(t){dt.asn1.x509.GeneralNames.superclass.constructor.call(this);var e=dt.asn1;this.setByParamArray=function(t){for(var r=0;r<t.length;r++){var n=new e.x509.GeneralName(t[r]);this.asn1Array.push(n)}},this.tohex=function(){return new e.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,void 0!==t&&this.setByParamArray(t)},ae(dt.asn1.x509.GeneralNames,dt.asn1.ASN1Object),dt.asn1.x509.OtherName=function(t){dt.asn1.x509.OtherName.superclass.constructor.call(this);var e=dt.asn1,r=e.DERObjectIdentifier,n=e.DERSequence,i=e.ASN1Util.newObject;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params;if(null==t.oid||null==t.value)throw new Error("oid or value not specified");var e=new r({oid:t.oid}),s=i({tag:{tag:"a0",explicit:!0,obj:t.value}});return new n({array:[e,s]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ae(dt.asn1.x509.OtherName,dt.asn1.ASN1Object),dt.asn1.x509.OID=new function(){var t=dt.asn1.DERObjectIdentifier;this.name2oidList={"aes128-CBC":"2.16.840.1.101.3.4.1.2","aes256-CBC":"2.16.840.1.101.3.4.1.42",sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",hmacWithSHA1:"1.2.840.113549.2.7",hmacWithSHA224:"1.2.840.113549.2.8",hmacWithSHA256:"1.2.840.113549.2.9",hmacWithSHA384:"1.2.840.113549.2.10",hmacWithSHA512:"1.2.840.113549.2.11",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1",smimeMailboxLegacy:"2.23.140.1.5.1.1",smimeMailboxMulti:"2.23.140.1.5.1.2",smimeMailboxStrict:"2.23.140.1.5.1.3",smimeOrganizationLegacy:"2.23.140.1.5.2.1",smimeOrganizationMulti:"2.23.140.1.5.2.2",smimeOrganizationStrict:"2.23.140.1.5.2.3",smimeSponsorLegacy:"2.23.140.1.5.3.1",smimeSponsorMulti:"2.23.140.1.5.3.2",smimeSponsorStrict:"2.23.140.1.5.3.3",smimeIndividualLegacy:"2.23.140.1.5.4.1",smimeIndividualMulti:"2.23.140.1.5.4.2",smimeIndividualStrict:"2.23.140.1.5.4.3"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",GN:"2.5.4.42",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.name2oidList[e])throw"Name of ObjectIdentifier not defined: "+e;var r=this.name2oidList[e],n=new t({oid:r});return this.objCache[e]=n,n},this.atype2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];var r;if(e.match(/^\d+\.\d+\.[0-9.]+$/))r=e;else if(void 0!==this.atype2oidList[e])r=this.atype2oidList[e];else{if(void 0===this.name2oidList[e])throw new Error("AttributeType name undefined: "+e);r=this.name2oidList[e]}var n=new t({oid:r});return this.objCache[e]=n,n},this.registerOIDs=function(t){if(this.checkOIDs(t))for(var e in t)this.name2oidList[e]=t[e]},this.checkOIDs=function(t){try{var e=Object.keys(t);return 0!=e.length&&(e.map((function(t,e,r){if(!this[t].match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")}),t),!0)}catch(t){return!1}}},dt.asn1.x509.OID.oid2name=function(t){var e=dt.asn1.x509.OID.name2oidList;for(var r in e)if(e[r]==t)return r;return""},dt.asn1.x509.OID.oid2atype=function(t){var e=dt.asn1.x509.OID.atype2oidList;for(var r in e)if(e[r]==t)return r;return t},dt.asn1.x509.OID.name2oid=function(t){if(t.match(/^[0-9.]+$/))return t;var e=dt.asn1.x509.OID.name2oidList;return void 0===e[t]?"":e[t]},dt.asn1.x509.X509Util={},dt.asn1.x509.X509Util.newCertPEM=function(t){var e=dt.asn1.x509;return e.TBSCertificate,new(0,e.Certificate)(t).getPEM()},void 0!==dt&&dt||(dt={}),void 0!==dt.asn1&&dt.asn1||(dt.asn1={}),void 0!==dt.asn1.cms&&dt.asn1.cms||(dt.asn1.cms={}),dt.asn1.cms.Attribute=function(t){var e=Error,r=dt.asn1,n=r.DERSequence,i=r.DERSet,s=r.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(t){this.params=t},this.getValueArray=function(){throw new e("not yet implemented abstract")},this.tohex=function(){var t=new s({oid:this.typeOid}),e=new i({array:this.getValueArray()});return new n({array:[t,e]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},ae(dt.asn1.cms.Attribute,dt.asn1.ASN1Object),dt.asn1.cms.ContentType=function(t){var e=dt.asn1;e.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new e.DERObjectIdentifier(this.params.type)]},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.ContentType,dt.asn1.cms.Attribute),dt.asn1.cms.MessageDigest=function(t){var e=dt.asn1,r=e.DEROctetString;e.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new r(this.params)]},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.MessageDigest,dt.asn1.cms.Attribute),dt.asn1.cms.SigningTime=function(t){var e=dt.asn1;e.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new e.x509.Time(this.params)]},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.SigningTime,dt.asn1.cms.Attribute),dt.asn1.cms.SigningCertificate=function(t){var e=Error,r=dt,n=r.asn1,i=n.DERSequence,s=n.cms,o=s.ESSCertID;r.crypto,s.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new e("parameter 'array' not specified");for(var r=this.params.array,n=[],s=0;s<r.length;s++){var a=r[s];0!=t.hasis||"string"!=typeof a||-1==a.indexOf("-----BEGIN")&&!yt.isASN1HEX(a)||(a={cert:a}),0!=a.hasis&&0==t.hasis&&(a.hasis=!1),n.push(new o(a))}var u=new i({array:n});return[new i({array:[u]})]},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.SigningCertificate,dt.asn1.cms.Attribute),dt.asn1.cms.ESSCertID=function(t){dt.asn1.cms.ESSCertID.superclass.constructor.call(this);var e=Error,r=dt,n=r.asn1,i=n.DEROctetString,s=n.DERSequence,o=n.cms.IssuerSerial;this.params=null,this.getCertHash=function(t,n){if(null!=t.hash)return t.hash;if("string"==typeof t&&-1==t.indexOf("-----BEGIN")&&!yt.isASN1HEX(t))return t;var i,s,o;if("string"==typeof t)i=t;else{if(null==t.cert)throw new e("hash nor cert unspecified");i=t.cert}if(s=-1!=i.indexOf("-----BEGIN")?Nt(i):i,"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?s=Nt(t):yt.isASN1HEX(t)&&(s=t)),null!=t.alg)o=t.alg;else{if(null==n)throw new e("hash alg unspecified");o=n}return r.crypto.Util.hashHex(s,o)},this.tohex=function(){var t=this.params,e=this.getCertHash(t,"sha1"),r=[];return r.push(new i({hex:e})),("string"==typeof t&&-1!=t.indexOf("-----BEGIN")||null!=t.cert&&0!=t.hasis||null!=t.issuer&&null!=t.serial)&&r.push(new o(t)),new s({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.ESSCertID,dt.asn1.ASN1Object),dt.asn1.cms.SigningCertificateV2=function(t){var e=Error,r=dt,n=r.asn1,i=n.DERSequence,s=(n.x509,n.cms),o=s.ESSCertIDv2;r.crypto,s.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new e("parameter 'array' not specified");for(var r=this.params.array,n=[],s=0;s<r.length;s++){var a=r[s];null==t.alg&&0!=t.hasis||"string"!=typeof a||-1==a.indexOf("-----BEGIN")&&!yt.isASN1HEX(a)||(a={cert:a}),null==a.alg&&null!=t.alg&&(a.alg=t.alg),0!=a.hasis&&0==t.hasis&&(a.hasis=!1),n.push(new o(a))}var u=new i({array:n});return[new i({array:[u]})]},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.SigningCertificateV2,dt.asn1.cms.Attribute),dt.asn1.cms.ESSCertIDv2=function(t){dt.asn1.cms.ESSCertIDv2.superclass.constructor.call(this),Error;var e=dt.asn1,r=e.DEROctetString,n=e.DERSequence,i=e.cms.IssuerSerial,s=e.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var t=this.params,e=this.getCertHash(t,"sha256"),o=[];return null!=t.alg&&"sha256"!=t.alg&&o.push(new s({name:t.alg})),o.push(new r({hex:e})),("string"==typeof t&&-1!=t.indexOf("-----BEGIN")||null!=t.cert&&0!=t.hasis||null!=t.issuer&&null!=t.serial)&&o.push(new i(t)),new n({array:o}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.ESSCertIDv2,dt.asn1.cms.ESSCertID),dt.asn1.cms.IssuerSerial=function(t){var e=Error,r=dt.asn1,n=r.DERInteger,i=r.DERSequence,s=r.cms,o=r.x509.GeneralNames,a=le;s.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(t){this.params=t},this.tohex=function(){var t,r,s=this.params;if("string"==typeof s&&-1!=s.indexOf("-----BEGIN")||null!=s.cert){var u;u=null!=s.cert?s.cert:s;var c=new a;c.readCertPEM(u),t=c.getIssuer(),r={hex:c.getSerialNumberHex()}}else{if(null==s.issuer||!s.serial)throw new e("cert or issuer and serial parameter not specified");t=s.issuer,r=s.serial}var f=new o([{dn:t}]),h=new n(r);return new i({array:[f,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.IssuerSerial,dt.asn1.ASN1Object),dt.asn1.cms.SignerIdentifier=function(t){var e=dt.asn1,r=(e.DERInteger,e.DERSequence,e.cms),n=r.IssuerAndSerialNumber,i=r.SubjectKeyIdentifier;e.x509.X500Name,Error,r.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if("isssn"==t.type)return new n(t).tohex();if("skid"==t.type)return new i(t).tohex();throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.SignerIdentifier,dt.asn1.ASN1Object),dt.asn1.cms.IssuerAndSerialNumber=function(t){var e=dt.asn1,r=e.DERInteger,n=e.DERSequence,i=e.cms,s=e.x509.X500Name,o=le,a=Error;i.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t,e,i=this.params;if("string"==typeof i&&-1!=i.indexOf("-----BEGIN")||null!=i.cert){var u;u=null!=i.cert?i.cert:i;var c=new o;c.readCertPEM(u),t=c.getIssuer(),e={hex:c.getSerialNumberHex()}}else{if(null==i.issuer||!i.serial)throw new a("cert or issuer and serial parameter not specified");t=i.issuer,e=i.serial}var f=new s(t),h=new r(e);return new n({array:[f,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.IssuerAndSerialNumber,dt.asn1.ASN1Object),dt.asn1.cms.SubjectKeyIdentifier=function(t){var e=dt.asn1,r=(e.DERInteger,e.DERSequence,e.ASN1Util.newObject),n=e.cms,i=(n.IssuerAndSerialName,n.SubjectKeyIdentifier,e.x509.X500Name,le),s=Error;n.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var t,e=this.params;if(null==e.cert&&null==e.skid)throw new s("property cert nor skid undefined");return null!=e.cert?t=new i(e.cert).getExtSubjectKeyIdentifier().kid.hex:null!=e.skid&&(t=e.skid),r({tag:{tage:"a0",obj:{octstr:{hex:t}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.SubjectKeyIdentifier,dt.asn1.ASN1Object),dt.asn1.cms.AttributeList=function(t){var e=Error,r=dt.asn1,n=r.DERSet,i=r.cms;i.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params;if(null!=this.hTLV)return this.hTLV;var r=!0;null!=t.sortflag&&(r=t.sortflag);for(var s=t.array,o=[],a=0;a<s.length;a++){var u=s[a],c=u.attr;if("contentType"==c)o.push(new i.ContentType(u));else if("messageDigest"==c)o.push(new i.MessageDigest(u));else if("signingTime"==c)o.push(new i.SigningTime(u));else if("signingCertificate"==c)o.push(new i.SigningCertificate(u));else if("signingCertificateV2"==c)o.push(new i.SigningCertificateV2(u));else if("signaturePolicyIdentifier"==c)o.push(new dt.asn1.cades.SignaturePolicyIdentifier(u));else{if("signatureTimeStamp"!=c&&"timeStampToken"!=c)throw new e("unknown attr: "+c);o.push(new dt.asn1.cades.SignatureTimeStamp(u))}}var f=new n({array:o,sortflag:r});return this.hTLV=f.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.AttributeList,dt.asn1.ASN1Object),dt.asn1.cms.SignerInfo=function(t){var e=Error,r=dt,n=r.asn1,i=n.DERInteger,s=n.DEROctetString,o=n.DERSequence,a=n.DERTaggedObject,u=n.cms,c=u.SignerIdentifier,f=u.AttributeList,h=(u.ContentType,u.EncapsulatedContentInfo,u.MessageDigest,u.SignedData,n.x509.AlgorithmIdentifier),l=r.crypto,d=ue;u.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var t=this.params,e=t.sigalg,r=new f(t.sattrs).tohex(),n=d.getKey(t.signkey),i=new l.Signature({alg:e});i.init(n),i.updateHex(r);var s=i.sign();t.sighex=s},this.tohex=function(){var t=this.params,r=[];if(r.push(new i({int:t.version})),r.push(new c(t.id)),r.push(new h({name:t.hashalg})),null!=t.sattrs){var n=new f(t.sattrs);try{r.push(new a({tag:"a0",explicit:!1,obj:n}))}catch(t){throw new e("si sattr error: "+t)}}if(null!=t.sigalgfield?r.push(new h({name:t.sigalgfield})):r.push(new h({name:t.sigalg})),null==t.sighex&&null!=t.signkey&&this.sign(),r.push(new s({hex:t.sighex})),null!=t.uattrs){n=new f(t.uattrs);try{r.push(new a({tag:"a1",explicit:!1,obj:n}))}catch(t){throw new e("si uattr error: "+t)}}return new o({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.SignerInfo,dt.asn1.ASN1Object),dt.asn1.cms.EncapsulatedContentInfo=function(t){var e=dt.asn1,r=e.DERTaggedObject,n=e.DERSequence,i=e.DERObjectIdentifier,s=e.DEROctetString;e.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];if(e.push(new i(t.type)),null!=t.content&&(null!=t.content.hex||null!=t.content.str)&&1!=t.isDetached){var o=new s(t.content),a=new r({tag:"a0",explicit:!0,obj:o});e.push(a)}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.EncapsulatedContentInfo,dt.asn1.ASN1Object),dt.asn1.cms.ContentInfo=function(t){var e=dt.asn1,r=e.DERTaggedObject,n=e.DERSequence,i=e.DERObjectIdentifier;e.x509.OID.name2obj,dt.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];e.push(new i(t.type));var s=new r({tag:"a0",explicit:!0,obj:t.obj});return e.push(s),new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.ContentInfo,dt.asn1.ASN1Object),dt.asn1.cms.SignedData=function(t){Error;var e=dt.asn1,r=(e.ASN1Object,e.DERInteger),n=e.DERSet,i=e.DERSequence,s=(e.DERTaggedObject,e.cms),o=s.EncapsulatedContentInfo,a=s.SignerInfo,u=s.ContentInfo,c=s.CertificateSet,f=s.RevocationInfoChoices,h=e.x509.AlgorithmIdentifier;dt.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var t=this.params;this._setDigestAlgs(t),this._setContentTypeByEContent(t),this._setMessageDigestByEContent(t),this._setSignerInfoVersion(t),this._setSignedDataVersion(t)},this._setDigestAlgs=function(t){for(var e={},r=t.sinfos,n=0;n<r.length;n++)e[r[n].hashalg]=1;t.hashalgs=Object.keys(e).sort()},this._setContentTypeByEContent=function(t){for(var e=t.econtent.type,r=t.sinfos,n=0;n<r.length;n++){var i=r[n];this._getAttrParamByName(i,"contentType").type=e}},this._setMessageDigestByEContent=function(t){var e=t.econtent,r=(t.econtent.type,e.content.hex);null==r&&"data"==e.type&&null!=e.content.str&&(r=Ot(e.content.str));for(var n=t.sinfos,i=0;i<n.length;i++){var s=n[i],o=s.hashalg,a=this._getAttrParamByName(s,"messageDigest"),u=dt.crypto.Util.hashHex(r,o);a.hex=u}},this._getAttrParamByName=function(t,e){for(var r=t.sattrs.array,n=0;n<r.length;n++)if(r[n].attr==e)return r[n]},this._setSignerInfoVersion=function(t){for(var e=t.sinfos,r=0;r<e.length;r++){var n=e[r],i=1;"skid"==n.id.type&&(i=3),n.version=i}},this._setSignedDataVersion=function(t){var e=this._getSignedDataVersion(t);t.version=e},this._getSignedDataVersion=function(t){if(null!=t.revinfos)for(var e=t.revinfos,r=0;r<e.length;r++)if(null!=e[r].ocsp)return 5;var n=t.sinfos;for(r=0;r<n.length;r++)if(3==t.sinfos[r].version)return 3;return"data"!=t.econtent.type?3:1},this.tohex=function(){var t=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=t.fixed&&this.checkAndFixParam();var e=[];e.push(new r({int:t.version}));for(var s=[],u=0;u<t.hashalgs.length;u++){var l=t.hashalgs[u];s.push(new h({name:l}))}e.push(new n({array:s})),e.push(new o(t.econtent)),null!=t.certs&&e.push(new c(t.certs)),null!=t.revinfos&&e.push(new f(t.revinfos));var d=[];for(u=0;u<t.sinfos.length;u++){var p=t.sinfos[u];d.push(new a(p))}return e.push(new n({array:d})),new i({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new u({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.SignedData,dt.asn1.ASN1Object),dt.asn1.cms.CertificateSet=function(t){dt.asn1.cms.CertificateSet.superclass.constructor.call(this);var e=Error,r=dt.asn1,n=r.DERTaggedObject,i=r.DERSet,s=r.ASN1Object;this.params=null,this.tohex=function(){var t,r=this.params,o=[];if(r instanceof Array)t=r;else{if(null==r.array)throw new e("cert array not specified");t=r.array}for(var a=0;a<t.length;a++){var u=Nt(t[a]),c=new s;c.hTLV=u,o.push(c)}var f={array:o};0==r.sortflag&&(f.sortflag=!1);var h=new i(f);return new n({tag:"a0",explicit:!1,obj:h}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.CertificateSet,dt.asn1.ASN1Object),dt.asn1.cms.RevocationInfoChoices=function(t){dt.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(!t instanceof Array)throw new Error("params is not array");for(var e=[],r=0;r<t.length;r++)e.push(new dt.asn1.cms.RevocationInfoChoice(t[r]));return dt.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:e}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.RevocationInfoChoices,dt.asn1.ASN1Object),dt.asn1.cms.RevocationInfoChoice=function(t){dt.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(null!=t.crl&&"string"==typeof t.crl){var e=t.crl;return-1!=t.crl.indexOf("-----BEGIN")&&(e=Nt(t.crl)),e}if(null!=t.ocsp)return dt.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new dt.asn1.cms.OtherRevocationFormat(t)}}).tohex();throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.RevocationInfoChoice,dt.asn1.ASN1Object),dt.asn1.cms.OtherRevocationFormat=function(t){dt.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var e=Error,r=dt,n=r.asn1.ASN1Util.newObject,i=r.lang.String.isHex;this.params=null,this.tohex=function(){var t=this.params;if(null==t.ocsp)throw new e("property ocsp not specified");if(!i(t.ocsp)||!yt.isASN1HEX(t.ocsp))throw new e("ocsp value not ASN.1 hex string");return n({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:t.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cms.OtherRevocationFormat,dt.asn1.ASN1Object),dt.asn1.cms.CMSUtil=new function(){},dt.asn1.cms.CMSUtil.newSignedData=function(t){return new dt.asn1.cms.SignedData(t)},dt.asn1.cms.CMSUtil.verifySignedData=function(t){var e=dt,r=e.asn1,n=r.cms,i=(n.SignerInfo,n.SignedData,n.SigningTime,n.SigningCertificate,n.SigningCertificateV2,r.cades.SignaturePolicyIdentifier,e.lang.String.isHex),s=yt,o=s.getVbyList,a=s.getTLVbyList,u=s.getIdxbyList,c=s.getChildIdx,f=s.getTLV,h=s.oidname,l=e.crypto.Util.hashHex;void 0===t.cms&&i(t.cms);var d=t.cms,p=function(t,e){var r=e.idx;e.signerid_issuer1=a(t,r,[1,0],"30"),e.signerid_serial1=o(t,r,[1,1],"02"),e.hashalg=h(o(t,r,[2,0],"06"));var n=u(t,r,[3],"a0");e.idxSignedAttrs=n,g(t,e,n);var i=c(t,r).length;if(i<6)throw"malformed SignerInfo";e.sigalg=h(o(t,r,[i-2,0],"06")),e.sigval=o(t,r,[i-1],"04")},g=function(t,e,r){var n=c(t,r);e.signedAttrIdxList=n;for(var i=0;i<n.length;i++){var s,a=n[i],u=o(t,a,[0],"06");"2a864886f70d010905"===u?(s=Pt(o(t,a,[1,0])),e.saSigningTime=s):"2a864886f70d010904"===u&&(s=o(t,a,[1,0],"04"),e.saMessageDigest=s)}},y=function(t,e,r,n){r.verifyDetail={};var i=r.verifyDetail,s=e.parse.econtent,o=r.hashalg,a=r.saMessageDigest;i.validMessageDigest=!1,l(s,o)===a&&(i.validMessageDigest=!0),function(t,e,r,n){var i,s=e.parse.certsIdx;if(void 0===e.certs){i=[],e.certkeys=[];for(var o=c(t,s),a=0;a<o.length;a++){var u=f(t,o[a]),h=new le;h.readCertHex(u),i[a]=h,e.certkeys[a]=h.getPublicKey()}e.certs=i}else i=e.certs;for(e.cccc=i.length,e.cccci=o.length,a=0;a<i.length;a++){var l=h.getIssuerHex(),d=h.getSerialNumberHex();r.signerid_issuer1===l&&r.signerid_serial1===d&&(r.certkey_idx=a)}}(t,e,r),i.validSignatureValue=!1;var u=r.sigalg,h="31"+f(t,r.idxSignedAttrs).substr(2);r.signedattrshex=h;var d=e.certs[r.certkey_idx].getPublicKey(),p=new dt.crypto.Signature({alg:u});p.init(d),p.updateHex(h);var g=p.verify(r.sigval);i.validSignatureValue_isValid=g,!0===g&&(i.validSignatureValue=!0),r.isValid=!1,i.validMessageDigest&&i.validSignatureValue&&(r.isValid=!0)},m={isValid:!1,parse:{}};return function(t,e){if("2a864886f70d010702"!==o(t,0,[0],"06"))return e;e.cmsType="signedData",e.econtent=o(t,0,[1,0,2,1,0]),function(t,e){for(var r,n=3;n<6;n++)if(void 0!==(r=u(t,0,[1,0,n]))){var i=t.substr(r,2);"a0"===i&&(e.certsIdx=r),"a1"===i&&(e.revinfosIdx=r),"31"===i&&(e.signerinfosIdx=r)}}(t,e),e.signerInfos=[],function(t,e){var r=e.signerinfosIdx;if(void 0!==r){var n=c(t,r);e.signerInfoIdxList=n;for(var i=0;i<n.length;i++){var s={idx:n[i]};p(t,s),e.signerInfos.push(s)}}}(t,e)}(d,m.parse),function(t,e){for(var r=e.parse.signerInfos,n=r.length,i=!0,s=0;s<n;s++){var o=r[s];y(t,e,o),o.isValid||(i=!1)}e.isValid=i}(d,m),m},dt.asn1.cms.CMSParser=function(){var t=Error,e=le,r=new e,n=yt,i=n.getV,s=n.getTLV,o=(n.getIdxbyList,n.getTLVbyList),a=n.getTLVbyListEx,u=n.getVbyList,c=n.getVbyListEx,f=n.getChildIdx;this.getCMSSignedData=function(t){var e=o(t,0,[1,0]);return this.getSignedData(e)},this.getSignedData=function(t){var e=f(t,0),r={},n=i(t,e[0]),o=parseInt(n,16);r.version=o;var u=s(t,e[1]);r.hashalgs=this.getHashAlgArray(u);var c=s(t,e[2]);r.econtent=this.getEContent(c);var h=a(t,0,["[0]"]);null!=h&&(r.certs=this.getCertificateSet(h)),a(t,0,["[1]"]);var l=a(t,0,[3]);return r.sinfos=this.getSignerInfos(l),r},this.getHashAlgArray=function(t){for(var r=f(t,0),n=new e,i=[],o=0;o<r.length;o++){var a=s(t,r[o]),u=n.getAlgorithmIdentifierName(a);i.push(u)}return i},this.getEContent=function(t){var e={},r=u(t,0,[0]),n=u(t,0,[1,0]);return e.type=dt.asn1.x509.OID.oid2name(yt.hextooidstr(r)),e.content={hex:n},e},this.getSignerInfos=function(t){for(var e=[],r=f(t,0),n=0;n<r.length;n++){var i=s(t,r[n]),o=this.getSignerInfo(i);e.push(o)}return e},this.getSignerInfo=function(t){var e={},i=f(t,0),o=n.getInt(t,i[0],-1);-1!=o&&(e.version=o);var u=s(t,i[1]),h=this.getIssuerAndSerialNumber(u);e.id=h;var l=s(t,i[2]),d=r.getAlgorithmIdentifierName(l);e.hashalg=d;var p=a(t,0,["[0]"]);if(null!=p){var g=this.getAttributeList(p);e.sattrs=g}var y=a(t,0,[3]),m=r.getAlgorithmIdentifierName(y);e.sigalg=m;var b=c(t,0,[4]);e.sighex=b;var v=a(t,0,["[1]"]);if(null!=v){var w=this.getAttributeList(v);e.uattrs=w}return e},this.getSignerIdentifier=function(t){if("30"==t.substr(0,2))return this.getIssuerAndSerialNumber(t);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(t){var e={type:"isssn"},n=f(t,0),o=s(t,n[0]);e.issuer=r.getX500Name(o);var a=i(t,n[1]);return e.serial={hex:a},e},this.getAttributeList=function(t){for(var e=[],r=f(t,0),n=0;n<r.length;n++){var i=s(t,r[n]),o=this.getAttribute(i);e.push(o)}return{array:e}},this.getAttribute=function(t){var e={},r=f(t,0),i=n.getOID(t,r[0]),o=dt.asn1.x509.OID.oid2name(i);e.attr=o;var a=s(t,r[1]),u=f(a,0);if(1==u.length)e.valhex=s(a,u[0]);else{for(var c=[],h=0;h<u.length;h++)c.push(s(a,u[h]));e.valhex=c}return"contentType"==o?this.setContentType(e):"messageDigest"==o?this.setMessageDigest(e):"signingTime"==o?this.setSigningTime(e):"signingCertificate"==o?this.setSigningCertificate(e):"signingCertificateV2"==o?this.setSigningCertificateV2(e):"signaturePolicyIdentifier"==o&&this.setSignaturePolicyIdentifier(e),e},this.setContentType=function(t){var e=n.getOIDName(t.valhex,0,null);null!=e&&(t.type=e,delete t.valhex)},this.setSigningTime=function(t){var e=Pt(i(t.valhex,0));t.str=e,delete t.valhex},this.setMessageDigest=function(t){var e=i(t.valhex,0);t.hex=e,delete t.valhex},this.setSigningCertificate=function(t){var e=f(t.valhex,0);if(e.length>0){for(var r=s(t.valhex,e[0]),n=f(r,0),i=[],o=0;o<n.length;o++){var a=s(r,n[o]),u=this.getESSCertID(a);i.push(u)}t.array=i}if(e.length>1){var c=s(t.valhex,e[1]);t.polhex=c}delete t.valhex},this.setSignaturePolicyIdentifier=function(t){var r=f(t.valhex,0);if(r.length>0){var o=n.getOID(t.valhex,r[0]);t.oid=o}if(r.length>1){var a=new e,u=f(t.valhex,r[1]),c=s(t.valhex,u[0]),h=a.getAlgorithmIdentifierName(c);t.alg=h;var l=i(t.valhex,u[1]);t.hash=l}delete t.valhex},this.setSigningCertificateV2=function(t){var e=f(t.valhex,0);if(e.length>0){for(var r=s(t.valhex,e[0]),n=f(r,0),i=[],o=0;o<n.length;o++){var a=s(r,n[o]),u=this.getESSCertIDv2(a);i.push(u)}t.array=i}if(e.length>1){var c=s(t.valhex,e[1]);t.polhex=c}delete t.valhex},this.getESSCertID=function(t){var e={},r=f(t,0);if(r.length>0){var n=i(t,r[0]);e.hash=n}if(r.length>1){var o=s(t,r[1]),a=this.getIssuerSerial(o);null!=a.serial&&(e.serial=a.serial),null!=a.issuer&&(e.issuer=a.issuer)}return e},this.getESSCertIDv2=function(e){var n={},o=f(e,0);if(o.length<1||3<o.length)throw new t("wrong number of elements");var a=0;if("30"==e.substr(o[0],2)){var u=s(e,o[0]);n.alg=r.getAlgorithmIdentifierName(u),a++}else n.alg="sha256";var c=i(e,o[a]);if(n.hash=c,o.length>a+1){var h=s(e,o[a+1]),l=this.getIssuerSerial(h);n.issuer=l.issuer,n.serial=l.serial}return n},this.getIssuerSerial=function(t){var e={},n=f(t,0),o=s(t,n[0]),a=r.getGeneralNames(o)[0].dn;e.issuer=a;var u=i(t,n[1]);return e.serial={hex:u},e},this.getCertificateSet=function(t){for(var e=f(t,0),r=[],n=0;n<e.length;n++){var i=s(t,e[n]);if("30"==i.substr(0,2)){var o=Rt(i,"CERTIFICATE");r.push(o)}}return{array:r,sortflag:!1}}},void 0!==dt&&dt||(dt={}),void 0!==dt.asn1&&dt.asn1||(dt.asn1={}),void 0!==dt.asn1.tsp&&dt.asn1.tsp||(dt.asn1.tsp={}),dt.asn1.tsp.TimeStampToken=function(t){var e=dt.asn1.tsp;e.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var t=new e.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=t.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.tsp.TimeStampToken,dt.asn1.cms.SignedData),dt.asn1.tsp.TSTInfo=function(t){Error;var e=dt.asn1,r=e.DERSequence,n=e.DERInteger,i=e.DERBoolean,s=e.DERGeneralizedTime,o=e.DERObjectIdentifier,a=e.DERTaggedObject,u=e.tsp,c=u.MessageImprint,f=u.Accuracy,h=(e.x509.X500Name,e.x509.GeneralName);if(u.TSTInfo.superclass.constructor.call(this),this.dVersion=new n({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var t=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(t.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(t.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(t.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");t.push(this.dGenTime),null!=this.dAccuracy&&t.push(this.dAccuracy),null!=this.dOrdering&&t.push(this.dOrdering),null!=this.dNonce&&t.push(this.dNonce),null!=this.dTsa&&t.push(this.dTsa);var e=new r({array:t});return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t){if("string"==typeof t.policy){if(!t.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new o({oid:t.policy})}void 0!==t.messageImprint&&(this.dMessageImprint=new c(t.messageImprint)),void 0!==t.serial&&(this.dSerial=new n(t.serial)),void 0!==t.genTime&&(this.dGenTime=new s(t.genTime)),void 0!==t.accuracy&&(this.dAccuracy=new f(t.accuracy)),void 0!==t.ordering&&1==t.ordering&&(this.dOrdering=new i),void 0!==t.nonce&&(this.dNonce=new n(t.nonce)),void 0!==t.tsa&&(this.dTsa=new a({tag:"a0",explicit:!0,obj:new h({dn:t.tsa})}))}},ae(dt.asn1.tsp.TSTInfo,dt.asn1.ASN1Object),dt.asn1.tsp.Accuracy=function(t){var e=dt.asn1,r=e.ASN1Util.newObject;e.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];return null!=t.seconds&&"number"==typeof t.seconds&&e.push({int:t.seconds}),null!=t.millis&&"number"==typeof t.millis&&e.push({tag:{tagi:"80",obj:{int:t.millis}}}),null!=t.micros&&"number"==typeof t.micros&&e.push({tag:{tagi:"81",obj:{int:t.micros}}}),r({seq:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.tsp.Accuracy,dt.asn1.ASN1Object),dt.asn1.tsp.MessageImprint=function(t){var e=dt.asn1,r=e.DERSequence,n=e.DEROctetString,i=e.x509.AlgorithmIdentifier;e.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=new i({name:t.alg}),s=new n({hex:t.hash});return new r({array:[e,s]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ae(dt.asn1.tsp.MessageImprint,dt.asn1.ASN1Object),dt.asn1.tsp.TimeStampReq=function(t){var e=dt.asn1,r=e.DERSequence,n=e.DERInteger,i=e.DERBoolean,s=(e.ASN1Object,e.DERObjectIdentifier),o=e.tsp,a=o.MessageImprint;o.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];return e.push(new n({int:1})),t.messageImprint instanceof dt.asn1.ASN1Object?e.push(t.messageImprint):e.push(new a(t.messageImprint)),null!=t.policy&&e.push(new s(t.policy)),null!=t.nonce&&e.push(new n(t.nonce)),1==t.certreq&&e.push(new i),new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.tsp.TimeStampReq,dt.asn1.ASN1Object),dt.asn1.tsp.TimeStampResp=function(t){var e=dt.asn1,r=e.DERSequence,n=(e.ASN1Object,e.tsp),i=n.PKIStatusInfo;n.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,s=[];if(null!=t.econtent||null!=t.tst)if(null!=t.statusinfo?s.push(new i(t.statusinfo)):s.push(new i("granted")),null!=t.econtent)s.push(new n.TimeStampToken(t).getContentInfo());else{if(!(t.tst instanceof e.ASN1Object))throw new Error("improper member tst value");s.push(t.tst)}else{if(null==t.statusinfo)throw new Error("parameter for token nor statusinfo not specified");s.push(new i(t.statusinfo))}return new r({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.tsp.TimeStampResp,dt.asn1.ASN1Object),dt.asn1.tsp.PKIStatusInfo=function(t){var e=Error,r=dt.asn1,n=r.DERSequence,i=r.tsp,s=i.PKIStatus,o=i.PKIFreeText,a=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,r=[];if("string"==typeof t)r.push(new s(t));else{if(null==t.status)throw new e("property 'status' unspecified");r.push(new s(t.status)),null!=t.statusstr&&r.push(new o(t.statusstr)),null!=t.failinfo&&r.push(new a(t.failinfo))}return new n({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.tsp.PKIStatusInfo,dt.asn1.ASN1Object),dt.asn1.tsp.PKIStatus=function(t){var e=Error,r=dt.asn1,n=r.DERInteger;r.tsp.PKIStatus.superclass.constructor.call(this);var i={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var t,r=this.params;if("string"==typeof r)try{t=i[r]}catch(t){throw new e("undefined name: "+r)}else{if("number"!=typeof r)throw new e("unsupported params");t=r}return new n({int:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.tsp.PKIStatus,dt.asn1.ASN1Object),dt.asn1.tsp.PKIFreeText=function(t){var e=Error,r=dt.asn1,n=r.DERSequence,i=r.DERUTF8String;r.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(!t instanceof Array)throw new e("wrong params: not array");for(var r=[],s=0;s<t.length;s++)r.push(new i({str:t[s]}));return new n({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.tsp.PKIFreeText,dt.asn1.ASN1Object),dt.asn1.tsp.PKIFailureInfo=function(t){var e=Error,r=dt.asn1,n=r.DERBitString,i=r.tsp.PKIFailureInfo,s={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};i.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var t=this.params,r=0;if("number"==typeof t&&0<=t&&t<=25){for(var n=(r|=1<<t).toString(2),i="",o=n.length-1;o>=0;o--)i+=n[o];return i}if("string"==typeof t&&null!=s[t])return se([t],s);if("object"==typeof t&&null!=t.length)return se(t,s);throw new e("wrong params")},this.tohex=function(){this.params;var t=this.getBinValue();return new n({bin:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.tsp.PKIFailureInfo,dt.asn1.ASN1Object),dt.asn1.tsp.AbstractTSAAdapter=function(t){this.getTSTHex=function(t,e){throw"not implemented yet"}},dt.asn1.tsp.SimpleTSAAdapter=function(t){var e=dt,r=e.asn1.tsp,n=e.crypto.Util.hashHex;r.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(t,e){var i=n(t,e);this.params.econtent.content.messageImprint={alg:e,hash:i},this.params.econtent.content.serial={int:this.serial++};var s=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:s},new r.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==t&&(this.params=t)},ae(dt.asn1.tsp.SimpleTSAAdapter,dt.asn1.tsp.AbstractTSAAdapter),dt.asn1.tsp.FixedTSAAdapter=function(t){var e=dt,r=e.asn1.tsp,n=e.crypto.Util.hashHex;r.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(t,e){var i=n(t,e);return this.params.econtent.content.messageImprint={alg:e,hash:i},new r.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==t&&(this.params=t)},ae(dt.asn1.tsp.FixedTSAAdapter,dt.asn1.tsp.AbstractTSAAdapter),dt.asn1.tsp.TSPUtil=new function(){},dt.asn1.tsp.TSPUtil.newTimeStampToken=function(t){return new dt.asn1.tsp.TimeStampToken(t)},dt.asn1.tsp.TSPUtil.parseTimeStampReq=function(t){return(new dt.asn1.tsp.TSPParser).getTimeStampReq(t)},dt.asn1.tsp.TSPUtil.parseMessageImprint=function(t){return(new dt.asn1.tsp.TSPParser).getMessageImprint(t)},dt.asn1.tsp.TSPParser=function(){Error;var t=new le,e=yt,r=e.getV,n=e.getTLV,i=e.getIdxbyList,s=(e.getTLVbyListEx,e.getChildIdx),o=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],a={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(t){var e=s(t,0);if(1==e.length)return this.getPKIStatusInfo(n(t,e[0]));if(e.length>1){var r=this.getPKIStatusInfo(n(t,e[0])),i=n(t,e[1]),o=this.getToken(i);return o.statusinfo=r,o}},this.getToken=function(t){var e=(new dt.asn1.cms.CMSParser).getCMSSignedData(t);return this.setTSTInfo(e),e},this.setTSTInfo=function(t){var e=t.econtent;if("tstinfo"==e.type){var r=e.content.hex,n=this.getTSTInfo(r);e.content=n}},this.getTSTInfo=function(e){var i={},o=s(e,0),a=r(e,o[1]);i.policy=Yt(a);var u=n(e,o[2]);i.messageImprint=this.getMessageImprint(u);var c=r(e,o[3]);i.serial={hex:c};var f=r(e,o[4]);i.genTime={str:Pt(f)};var h=0;if(o.length>5&&"30"==e.substr(o[5],2)){var l=n(e,o[5]);i.accuracy=this.getAccuracy(l),h++}if(o.length>5+h&&"01"==e.substr(o[5+h],2)&&("ff"==r(e,o[5+h])&&(i.ordering=!0),h++),o.length>5+h&&"02"==e.substr(o[5+h],2)){var d=r(e,o[5+h]);i.nonce={hex:d},h++}if(o.length>5+h&&"a0"==e.substr(o[5+h],2)){var p=n(e,o[5+h]);p="30"+p.substr(2),pGeneralNames=t.getGeneralNames(p);var g=pGeneralNames[0].dn;i.tsa=g,h++}if(o.length>5+h&&"a1"==e.substr(o[5+h],2)){var y=n(e,o[5+h]);y="30"+y.substr(2);var m=t.getExtParamArray(y);i.ext=m,h++}return i},this.getAccuracy=function(t){for(var e={},n=s(t,0),i=0;i<n.length;i++){var o=t.substr(n[i],2),a=r(t,n[i]),u=parseInt(a,16);"02"==o?e.seconds=u:"80"==o?e.millis=u:"81"==o&&(e.micros=u)}return e},this.getMessageImprint=function(t){if("30"!=t.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var n={},o=(s(t,0),i(t,0,[0,0])),a=r(t,o),u=e.hextooidstr(a),c=dt.asn1.x509.OID.oid2name(u);if(""==c)throw new Error("hashAlg name undefined: "+u);var f=c,h=i(t,0,[1]);return n.alg=f,n.hash=r(t,h),n},this.getPKIStatusInfo=function(t){var e={},i=s(t,0),a=0;try{var u=r(t,i[0]),c=parseInt(u,16);e.status=o[c]}catch(t){}if(i.length>1&&"30"==t.substr(i[1],2)){var f=n(t,i[1]);e.statusstr=this.getPKIFreeText(f),a++}if(i.length>a&&"03"==t.substr(i[1+a],2)){var h=n(t,i[1+a]);e.failinfo=this.getPKIFailureInfo(h)}return e},this.getPKIFreeText=function(t){for(var r=[],n=s(t,0),i=0;i<n.length;i++)r.push(e.getString(t,n[i]));return r},this.getPKIFailureInfo=function(t){var r=e.getInt(t,0);return null!=a[r]?a[r]:r},this.getTimeStampReq=function(t){var i={certreq:!1},o=s(t,0);if(o.length<2)throw new Error("TimeStampReq must have at least 2 items");var a=n(t,o[1]);i.messageImprint=dt.asn1.tsp.TSPUtil.parseMessageImprint(a);for(var u=2;u<o.length;u++){var c=o[u],f=t.substr(c,2);if("06"==f){var h=r(t,c);i.policy=e.hextooidstr(h)}"02"==f&&(i.nonce=r(t,c)),"01"==f&&(i.certreq=!0)}return i}},void 0!==dt&&dt||(dt={}),void 0!==dt.asn1&&dt.asn1||(dt.asn1={}),void 0!==dt.asn1.cades&&dt.asn1.cades||(dt.asn1.cades={}),dt.asn1.cades.SignaturePolicyIdentifier=function(t){var e=dt.asn1.cades,r=e.SignaturePolicyId;e.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new r(this.params)]},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},ae(dt.asn1.cades.SignaturePolicyIdentifier,dt.asn1.cms.Attribute),dt.asn1.cades.SignaturePolicyId=function(t){var e=dt.asn1,r=e.DERSequence,n=e.DERObjectIdentifier,i=(e.x509.AlgorithmIdentifier,e.cades),s=i.SignaturePolicyId,o=i.OtherHashAlgAndValue;s.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];return e.push(new n(t.oid)),e.push(new o(t)),new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},ae(dt.asn1.cades.SignaturePolicyId,dt.asn1.ASN1Object),dt.asn1.cades.OtherHashAlgAndValue=function(t){var e=Error,r=dt.asn1,n=r.DERSequence,i=r.DEROctetString,s=r.x509.AlgorithmIdentifier;r.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(null==t.alg)throw new e("property 'alg' not specified");if(null==t.hash&&null==t.cert)throw new e("property 'hash' nor 'cert' not specified");var r=null;if(null!=t.hash)r=t.hash;else if(null!=t.cert){if("string"!=typeof t.cert)throw new e("cert not string");var o=t.cert;-1!=t.cert.indexOf("-----BEGIN")&&(o=Nt(t.cert)),r=dt.crypto.Util.hashHex(o,t.alg)}var a=[];return a.push(new s({name:t.alg})),a.push(new i({hex:r})),new n({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cades.OtherHashAlgAndValue,dt.asn1.ASN1Object),dt.asn1.cades.OtherHashValue=function(t){dt.asn1.cades.OtherHashValue.superclass.constructor.call(this);var e=Error,r=dt,n=(r.lang.String.isHex,r.asn1.DEROctetString);r.crypto.Util.hashHex,this.params=null,this.tohex=function(){var t=this.params;if(null==t.hash&&null==t.cert)throw new e("hash or cert not specified");var r=null;if(null!=t.hash)r=t.hash;else if(null!=t.cert){if("string"!=typeof t.cert)throw new e("cert not string");var i=t.cert;-1!=t.cert.indexOf("-----BEGIN")&&(i=Nt(t.cert)),r=dt.crypto.Util.hashHex(i,"sha1")}return new n({hex:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cades.OtherHashValue,dt.asn1.ASN1Object),dt.asn1.cades.SignatureTimeStamp=function(t){var e=Error,r=dt,n=r.lang.String.isHex,i=r.asn1,s=i.ASN1Object;i.x509,i.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var t=this.params;if(null!=t.tst){if(n(t.tst))return(r=new s).hTLV=t.tst,[r];if(t.tst instanceof s)return[t.tst];throw new e("params.tst has wrong value")}if(null!=t.res){var r,i=t.res;if(i instanceof s&&(i=i.tohex()),"string"!=typeof i||!n(i))throw new e("params.res has wrong value");return yt.getTLVbyList(i,0,[1]),(r=new s).hTLV=t.tst,[r]}},null!=t&&this.setByParam(t)},ae(dt.asn1.cades.SignatureTimeStamp,dt.asn1.cms.Attribute),dt.asn1.cades.CompleteCertificateRefs=function(t){var e=Error,r=dt,n=r.asn1,i=n.DERSequence,s=n.cades,o=s.OtherCertID,a=r.lang.String.isHex;s.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var t=this.params,r=[],n=0;n<t.array.length;n++){var s=t.array[n];if("string"==typeof s)if(-1!=s.indexOf("-----BEGIN"))s={cert:s};else{if(!a(s))throw new e("unsupported value: "+s);s={hash:s}}null!=t.alg&&null==s.alg&&(s.alg=t.alg),null!=t.hasis&&null==s.hasis&&(s.hasis=t.hasis);var u=new o(s);r.push(u)}return[new i({array:r})]},null!=t&&this.setByParam(t)},ae(dt.asn1.cades.CompleteCertificateRefs,dt.asn1.cms.Attribute),dt.asn1.cades.OtherCertID=function(t){var e=dt.asn1,r=e.DERSequence,n=e.cms.IssuerSerial,i=e.cades,s=i.OtherHashValue,o=i.OtherHashAlgAndValue;i.OtherCertID.superclass.constructor.call(this),this.params=t,this.tohex=function(){var t=this.params;"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?t={cert:t}:_isHex(t)&&(t={hash:t}));var e,i=[];if(e=null!=t.alg?new o(t):new s(t),i.push(e),null!=t.cert&&1==t.hasis||null!=t.issuer&&null!=t.serial){var a=new n(t);i.push(a)}return new r({array:i}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cades.OtherCertID,dt.asn1.ASN1Object),dt.asn1.cades.OtherHash=function(t){Error;var e=dt,r=e.asn1,n=(r.cms,r.cades),i=n.OtherHashAlgAndValue,s=n.OtherHashValue,o=(e.crypto.Util.hashHex,e.lang.String.isHex);n.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;return"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?t={cert:t}:o(t)&&(t={hash:t})),(null!=t.alg?new i(t):new s(t)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.cades.OtherHash,dt.asn1.ASN1Object),dt.asn1.cades.CAdESUtil=new function(){},dt.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(t){return(new dt.asn1.cms.CMSParser).getCMSSignedData(t)},dt.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(t,e,r){var n=yt,i=n.getChildIdx,s=n.getTLV,o=n.getV,a=dt.asn1,u=a.ASN1Object,c=a.cms,f=c.AttributeList,h=c.SignerInfo,l={},d=i(t,e);if(6!=d.length)throw"not supported items for SignerInfo (!=6)";var p=d.shift();l.version=s(t,p);var g=d.shift();l.si=s(t,g);var y=d.shift();l.digalg=s(t,y);var m=d.shift();l.sattrs=s(t,m);var b=d.shift();l.sigalg=s(t,b);var v=d.shift();l.sig=s(t,v),l.sigval=o(t,v);var w=null;return l.obj=new h,(w=new u).hTLV=l.version,l.obj.dCMSVersion=w,(w=new u).hTLV=l.si,l.obj.dSignerIdentifier=w,(w=new u).hTLV=l.digalg,l.obj.dDigestAlgorithm=w,(w=new u).hTLV=l.sattrs,l.obj.dSignedAttrs=w,(w=new u).hTLV=l.sigalg,l.obj.dSigAlg=w,(w=new u).hTLV=l.sig,l.obj.dSig=w,l.obj.dUnsignedAttrs=new f,l},void 0!==dt.asn1.csr&&dt.asn1.csr||(dt.asn1.csr={}),dt.asn1.csr.CertificationRequest=function(t){var e=dt.asn1,r=e.DERBitString,n=e.DERSequence,i=e.csr,s=(e.x509,i.CertificationRequestInfo);i.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(t){this.params=t},this.sign=function(){var t=new s(this.params).tohex(),e=new dt.crypto.Signature({alg:this.params.sigalg});e.init(this.params.sbjprvkey),e.updateHex(t);var r=e.sign();this.params.sighex=r},this.getPEM=function(){return Rt(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var t=this.params,e=new dt.asn1.csr.CertificationRequestInfo(this.params),i=new dt.asn1.x509.AlgorithmIdentifier({name:t.sigalg});if(null==t.sighex&&null!=t.sbjprvkey&&this.sign(),null==t.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var s=new r({hex:"00"+t.sighex});return new n({array:[e,i,s]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ae(dt.asn1.csr.CertificationRequest,dt.asn1.ASN1Object),dt.asn1.csr.CertificationRequestInfo=function(t){var e=dt.asn1,r=(e.DERBitString,e.DERSequence),n=e.DERInteger,i=e.DERUTF8String,s=e.DERTaggedObject,o=e.ASN1Util.newObject,a=e.csr,u=e.x509,c=u.X500Name,f=u.Extensions,h=u.SubjectPublicKeyInfo;a.AttributeList,a.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(t){null!=t&&(this.params=t)},this.tohex=function(){var t=this.params,e=[];if(e.push(new n({int:0})),e.push(new c(t.subject)),e.push(new h(ue.getKey(t.sbjpubkey))),null!=t.attrs){var a=function(t){for(var e=Error,r=dt.asn1.x509.Extensions,n=[],i=0;i<t.length;i++){var s=t[i],o=s.attr;if("extensionRequest"==o){var a={seq:[{oid:"1.2.840.113549.1.9.14"},{set:[new r(s.ext)]}]};n.push(a)}else if("unstructuredName"==o)a={seq:[{oid:"1.2.840.113549.1.9.2"},{set:s.names}]},n.push(a);else{if("challengePassword"!=o)throw new e("unknown CSR attribute");a={seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:s.password}]}]},n.push(a)}}return{set:n}}(t.attrs),u=o({tag:{tage:"a0",obj:a}});e.push(u)}else if(null!=t.extreq){var l=new f(t.extreq);u=o({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[l]}]}}}),e.push(u)}else e.push(new s({tag:"a0",explicit:!1,obj:new i({str:""})}));return new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ae(dt.asn1.csr.CertificationRequestInfo,dt.asn1.ASN1Object),dt.asn1.csr.AttributeList=function(t){},ae(dt.asn1.csr.AttributeList,dt.asn1.ASN1Object),dt.asn1.csr.CSRUtil=new function(){},dt.asn1.csr.CSRUtil.newCSRPEM=function(t){return new dt.asn1.csr.CertificationRequest(t).getPEM()},dt.asn1.csr.CSRUtil.getParam=function(t,e){var r=yt,n=r.getV,i=r.getIdxbyList,s=r.getTLVbyList,o=r.getTLVbyListEx,a=r.getVbyListEx,u={};if(-1==t.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var c=Nt(t,"CERTIFICATE REQUEST");e&&(u.tbs=s(c,0,[0]));try{var f=o(c,0,[0,1]);if("3000"==f)u.subject={};else{var h=new le;u.subject=h.getX500Name(f)}}catch(t){}var l=o(c,0,[0,2]),d=ue.getKey(l,null,"pkcs8pub");u.sbjpubkey=ue.getPEM(d,"PKCS8PUB");var p=function(t){var e=i(t,0,[0,3,0,0],"06");return"2a864886f70d01090e"!=n(t,e)?null:s(t,0,[0,3,0,1,0],"30")}(c);h=new le,null!=p&&(u.extreq=h.getExtParamArray(p));try{var g=o(c,0,[1],"30");h=new le,u.sigalg=h.getAlgorithmIdentifierName(g)}catch(t){}try{var y=a(c,0,[2]);u.sighex=y}catch(t){}return u},dt.asn1.csr.CSRUtil.verifySignature=function(t){try{var e=null;if("string"==typeof t&&-1!=t.indexOf("-----BEGIN CERTIFICATE REQUEST")?e=dt.asn1.csr.CSRUtil.getParam(t,!0):"object"==typeof t&&null!=t.sbjpubkey&&null!=t.sigalg&&null!=t.sighex&&null!=t.tbs&&(e=t),null==e)return!1;var r=new dt.crypto.Signature({alg:e.sigalg});return r.init(e.sbjpubkey),r.updateHex(e.tbs),r.verify(e.sighex)}catch(t){return alert(t),!1}},void 0!==dt&&dt||(dt={}),void 0!==dt.asn1&&dt.asn1||(dt.asn1={}),void 0!==dt.asn1.ocsp&&dt.asn1.ocsp||(dt.asn1.ocsp={}),dt.asn1.ocsp.DEFAULT_HASH="sha1",dt.asn1.ocsp.OCSPResponse=function(t){dt.asn1.ocsp.OCSPResponse.superclass.constructor.call(this),dt.asn1.DEREnumerated;var e=dt.asn1.ASN1Util.newObject,r=dt.asn1.ocsp.ResponseBytes,n=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var t=this.params.resstatus;return"number"==typeof t?t:"string"!=typeof t?-1:n.indexOf(t)},this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params,n=this._getStatusCode();if(-1==n)throw new Error("responseStatus not supported: "+t.resstatus);if(0!=n)return e({seq:[{enum:{int:n}}]}).tohex();var i=new r(t);return e({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:i}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ae(dt.asn1.ocsp.OCSPResponse,dt.asn1.ASN1Object),dt.asn1.ocsp.ResponseBytes=function(t){dt.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var e=dt.asn1,r=e.DERSequence,n=e.DERObjectIdentifier,i=e.DEROctetString,s=e.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params;if("ocspBasic"!=t.restype)throw new Error("not supported responseType: "+t.restype);var e=new s(t),o=[];return o.push(new n({name:"ocspBasic"})),o.push(new i({hex:e.tohex()})),new r({array:o}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ae(dt.asn1.ocsp.ResponseBytes,dt.asn1.ASN1Object),dt.asn1.ocsp.BasicOCSPResponse=function(t){dt.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var e=Error,r=dt.asn1,n=r.ASN1Object,i=r.DERSequence,s=(r.DERGeneralizedTime,r.DERTaggedObject),o=r.DERBitString,a=(r.x509.Extensions,r.x509.AlgorithmIdentifier),u=r.ocsp;u.ResponderID,_SingleResponseList=u.SingleResponseList,_ResponseData=u.ResponseData,this.params=null,this.setByParam=function(t){this.params=t},this.sign=function(){var t=this.params,e=t.tbsresp.tohex(),r=new dt.crypto.Signature({alg:t.sigalg});r.init(t.reskey),r.updateHex(e),t.sighex=r.sign()},this.tohex=function(){var t=this.params;null==t.tbsresp&&(t.tbsresp=new _ResponseData(t)),null==t.sighex&&null!=t.reskey&&this.sign();var r=[];if(r.push(t.tbsresp),r.push(new a({name:t.sigalg})),r.push(new o({hex:"00"+t.sighex})),null!=t.certs&&null!=t.certs.length){for(var u=[],c=0;c<t.certs.length;c++){var f=t.certs[c],h=null;if(yt.isASN1HEX(f))h=f;else{if(!f.match(/-----BEGIN/))throw new e("certs["+c+"] not hex or PEM");h=Nt(f)}u.push(new n({tlv:h}))}var l=new i({array:u});r.push(new s({tag:"a0",explicit:!0,obj:l}))}return new i({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ae(dt.asn1.ocsp.BasicOCSPResponse,dt.asn1.ASN1Object),dt.asn1.ocsp.ResponseData=function(t){dt.asn1.ocsp.ResponseData.superclass.constructor.call(this);var e=Error,r=dt.asn1,n=r.DERSequence,i=r.DERGeneralizedTime,s=r.DERTaggedObject,o=r.x509.Extensions,a=r.ocsp,u=a.ResponderID;_SingleResponseList=a.SingleResponseList,this.params=null,this.tohex=function(){var t=this.params;null!=t.respid&&new e("respid not specified"),null!=t.prodat&&new e("prodat not specified"),null!=t.array&&new e("array not specified");var r=[];if(r.push(new u(t.respid)),r.push(new i(t.prodat)),r.push(new _SingleResponseList(t.array)),null!=t.ext){var a=new o(t.ext);r.push(new s({tag:"a1",explicit:!0,obj:a}))}return new n({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ae(dt.asn1.ocsp.ResponseData,dt.asn1.ASN1Object),dt.asn1.ocsp.ResponderID=function(t){dt.asn1.ocsp.ResponderID.superclass.constructor.call(this);var e=dt,r=e.asn1,n=r.ASN1Util.newObject,i=r.x509.X500Name,s=e.lang.String.isHex,o=Error;this.params=null,this.tohex=function(){var t=this.params;if(null!=t.key){var e,r=null;if("string"==typeof t.key?(s(t.key)&&(r=t.key),t.key.match(/-----BEGIN CERTIFICATE/)&&null!=(e=new le(t.key).getExtSubjectKeyIdentifier())&&(r=e.kid.hex)):t.key instanceof le&&null!=(e=t.key.getExtSubjectKeyIdentifier())&&(r=e.kid.hex),null==r)throw new o("wrong key member value");return n({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:r}}}}).tohex()}if(null!=t.name){var a=null;if("string"==typeof t.name&&t.name.match(/-----BEGIN CERTIFICATE/)?a=new le(t.name).getSubject():t.name instanceof le?a=t.name.getSubject():"object"!=typeof t.name||null==t.name.array&&null==t.name.str||(a=t.name),null==a)throw new o("wrong name member value");return n({tag:{tag:"a1",explicit:!0,obj:new i(a)}}).tohex()}throw new o("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ae(dt.asn1.ocsp.ResponderID,dt.asn1.ASN1Object),dt.asn1.ocsp.SingleResponseList=function(t){dt.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var e=dt.asn1,r=e.DERSequence,n=e.ocsp.SingleResponse;this.params=null,this.tohex=function(){var t=this.params;if("object"!=typeof t||null==t.length)throw new Error("params not specified properly");for(var e=[],i=0;i<t.length;i++)e.push(new n(t[i]));return new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ae(dt.asn1.ocsp.SingleResponseList,dt.asn1.ASN1Object),dt.asn1.ocsp.SingleResponse=function(t){var e=Error,r=dt.asn1,n=r.DERSequence,i=r.DERGeneralizedTime,s=r.DERTaggedObject,o=r.ocsp,a=o.CertID,u=o.CertStatus,c=r.x509.Extensions;o.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,r=[];if(null==t.certid)throw new e("certid unspecified");if(null==t.status)throw new e("status unspecified");if(null==t.thisupdate)throw new e("thisupdate unspecified");if(r.push(new a(t.certid)),r.push(new u(t.status)),r.push(new i(t.thisupdate)),null!=t.nextupdate){var o=new i(t.nextupdate);r.push(new s({tag:"a0",explicit:!0,obj:o}))}if(null!=t.ext){var f=new c(t.ext);r.push(new s({tag:"a1",explicit:!0,obj:f}))}return new n({array:r}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ae(dt.asn1.ocsp.SingleResponse,dt.asn1.ASN1Object),dt.asn1.ocsp.CertID=function(t){var e=dt,r=e.asn1,n=r.DEROctetString,i=r.DERInteger,s=r.DERSequence,o=r.x509.AlgorithmIdentifier,a=r.ocsp,u=(a.DEFAULT_HASH,e.crypto.Util.hashHex),c=le,f=yt.getVbyList;a.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(t,e,r,n){null==n&&(n=this.DEFAULT_HASH),this.params={alg:n,issname:t,isskey:e,sbjsn:r}},this.setByCert=function(t,e,r){null==r&&(r=this.DEFAULT_HASH),this.params={alg:r,issuerCert:t,subjectCert:e}},this.getParamByCerts=function(t,e,r){null==r&&(r=this.DEFAULT_HASH);var n=new c(t),i=new c(e),s=u(n.getSubjectHex(),r),o=n.getPublicKeyHex();return{alg:r,issname:s,isskey:u(f(o,0,[1],"03",!0),r),sbjsn:i.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw new Error("params not set");var t,e,r,a,u=this.params;if(a=null==u.alg?this.DEFAULT_HASH:u.alg,null!=u.issuerCert&&null!=u.subjectCert){var c=this.getParamByCerts(u.issuerCert,u.subjectCert,a);t=c.issname,e=c.isskey,r=c.sbjsn}else{if(null==u.issname||null==u.isskey||null==u.sbjsn)throw new Error("required param members not defined");t=u.issname,e=u.isskey,r=u.sbjsn}var f=new o({name:a}),h=new n({hex:t}),l=new n({hex:e}),d=new i({hex:r}),p=new s({array:[f,h,l,d]});return this.hTLV=p.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},ae(dt.asn1.ocsp.CertID,dt.asn1.ASN1Object),dt.asn1.ocsp.CertStatus=function(t){dt.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if("good"==t.status)return"8000";if("unknown"==t.status)return"8200";if("revoked"==t.status){var e=[{gentime:{str:t.time}}];null!=t.reason&&e.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:t.reason}}}});var r={tag:"a1",explicit:!1,obj:{seq:e}};return dt.asn1.ASN1Util.newObject({tag:r}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},ae(dt.asn1.ocsp.CertStatus,dt.asn1.ASN1Object),dt.asn1.ocsp.Request=function(t){var e=dt.asn1,r=e.DERSequence,n=e.ocsp;if(n.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var t=[];if(null===this.dReqCert)throw"reqCert not set";t.push(this.dReqCert);var e=new r({array:t});return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t){var i=new n.CertID(t);this.dReqCert=i}},ae(dt.asn1.ocsp.Request,dt.asn1.ASN1Object),dt.asn1.ocsp.TBSRequest=function(t){var e=dt.asn1,r=e.DERSequence,n=e.ocsp;n.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(t){for(var e=[],r=0;r<t.length;r++){var i=new n.Request(t[0]);e.push(i)}this.dRequestList=e},this.tohex=function(){var t=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var e=new r({array:this.dRequestList});if(t.push(e),null!==this.dRequestExt)throw"requestExtensions not supported";var n=new r({array:t});return this.hTLV=n.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&void 0!==t.reqList&&this.setRequestListByParam(t.reqList)},ae(dt.asn1.ocsp.TBSRequest,dt.asn1.ASN1Object),dt.asn1.ocsp.OCSPRequest=function(t){var e=dt.asn1,r=e.DERSequence,n=e.ocsp;if(n.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var t=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(t.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var e=new r({array:t});return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&void 0!==t.reqList){var i=new n.TBSRequest(t);this.dTbsRequest=i}},ae(dt.asn1.ocsp.OCSPRequest,dt.asn1.ASN1Object),dt.asn1.ocsp.OCSPUtil={},dt.asn1.ocsp.OCSPUtil.getRequestHex=function(t,e,r){var n=dt.asn1.ocsp;void 0===r&&(r=n.DEFAULT_HASH);var i={alg:r,issuerCert:t,subjectCert:e};return new n.OCSPRequest({reqList:[i]}).tohex()},dt.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(t){var e=yt,r=e.getVbyList,n=e.getVbyListEx,i=e.getIdxbyList,s=(e.getIdxbyListEx,e.getV),o={};try{var a=n(t,0,[0],"0a");o.responseStatus=parseInt(a,16)}catch(t){}if(0!==o.responseStatus)return o;try{var u=i(t,0,[1,0,1,0,0,2,0,1]);"80"===t.substr(u,2)?o.certStatus="good":"a1"===t.substr(u,2)?(o.certStatus="revoked",o.revocationTime=Pt(r(t,u,[0]))):"82"===t.substr(u,2)&&(o.certStatus="unknown")}catch(t){}try{var c=i(t,0,[1,0,1,0,0,2,0,2]);o.thisUpdate=Pt(s(t,c))}catch(t){}try{var f=i(t,0,[1,0,1,0,0,2,0,3]);"a0"===t.substr(f,2)&&(o.nextUpdate=Pt(r(t,f,[0])))}catch(t){}return o},dt.asn1.ocsp.OCSPParser=function(){var t=Error,e=le,r=new e,n=yt,i=n.getV,s=n.getTLV,o=n.getIdxbyList,a=n.getVbyList,u=n.getTLVbyList,c=n.getVbyListEx,f=n.getTLVbyListEx,h=n.getChildIdx;this.getOCSPRequest=function(e){var r=h(e,0);if(1!=r.length&&2!=r.length)throw new t("wrong number elements: "+r.length);return this.getTBSRequest(s(e,r[0]))},this.getTBSRequest=function(t){var e={},n=f(t,0,[0],"30");e.array=this.getRequestList(n);var i=f(t,0,["[2]",0],"30");return null!=i&&(e.ext=r.getExtParamArray(i)),e},this.getRequestList=function(t){for(var e=[],r=h(t,0),n=0;n<r.length;n++)t=s(t,r[n]),e.push(this.getRequest(t));return e},this.getRequest=function(e){var n=h(e,0);if(1!=n.length&&2!=n.length)throw new t("wrong number elements: "+n.length);var i=this.getCertID(s(e,n[0]));if(2==n.length){var a=o(e,0,[1,0]);i.ext=r.getExtParamArray(s(e,a))}return i},this.getCertID=function(r){var n=h(r,0);if(4!=n.length)throw new t("wrong number elements: "+n.length);var o=new e,a={};return a.alg=o.getAlgorithmIdentifierName(s(r,n[0])),a.issname=i(r,n[1]),a.isskey=i(r,n[2]),a.sbjsn=i(r,n[3]),a},this.getOCSPResponse=function(t){var e,r=h(t,0),n=i(t,r[0]),s=parseInt(n);if(1==r.length)return{resstatus:s};var o=u(t,0,[1,0]);return(e=this.getResponseBytes(o)).resstatus=s,e},this.getResponseBytes=function(t){var e,r=h(t,0),n=u(t,0,[1,0]);e=this.getBasicOCSPResponse(n);var s=i(t,r[0]);return e.restype=dt.asn1.x509.OID.oid2name(Yt(s)),e},this.getBasicOCSPResponse=function(t){var e,r=h(t,0);e=this.getResponseData(s(t,r[0]));var n=new le;e.alg=n.getAlgorithmIdentifierName(s(t,r[1]));var o=i(t,r[2]);e.sighex=o.substr(2);var a=c(t,0,["[0]"]);if(null!=a){for(var u=h(a,0),f=[],l=0;l<u.length;l++){var d=s(a,u[l]);f.push(d)}e.certs=f}return e},this.getResponseData=function(t){var e=h(t,0),r=e.length,n={},o=0;"a0"==t.substr(e[0],2)&&o++,n.respid=this.getResponderID(s(t,e[o++]));var a=i(t,e[o++]);if(n.prodat=Pt(a),n.array=this.getSingleResponseList(s(t,e[o++])),"a1"==t.substr(e[r-1],2)){var c=u(t,e[r-1],[0]),f=new le;n.ext=f.getExtParamArray(c)}return n},this.getResponderID=function(t){var e={};if("a2"==t.substr(0,2)){var r=a(t,0,[0]);e.key=r}if("a1"==t.substr(0,2)){var n=u(t,0,[0]),i=new le;e.name=i.getX500Name(n)}return e},this.getSingleResponseList=function(t){for(var e=h(t,0),r=[],n=0;n<e.length;n++){var i=this.getSingleResponse(s(t,e[n]));r.push(i)}return r},this.getSingleResponse=function(t){var e=h(t,0),r={},n=this.getCertID(s(t,e[0]));r.certid=n;var o=this.getCertStatus(s(t,e[1]));if(r.status=o,"18"==t.substr(e[2],2)){var c=i(t,e[2]);r.thisupdate=Pt(c)}for(var f=3;f<e.length;f++){if("a0"==t.substr(e[f],2)){var l=a(t,e[f],[0],"18");r.nextupdate=Pt(l)}if("a1"==t.substr(e[f],2)){var d=new le,p=u(t,0,[f,0]);r.ext=d.getExtParamArray(p)}}return r},this.getCertStatus=function(t){var e={};if("8000"==t)return{status:"good"};if("8200"==t)return{status:"unknown"};if("a1"==t.substr(0,2)){e.status="revoked";var r=Pt(a(t,0,[0]));e.time=r}return e}},void 0!==dt&&dt||(dt={}),void 0!==dt.lang&&dt.lang||(dt.lang={}),dt.lang.String=function(){},"function"==typeof p?(pt=function(t){return St(p.from(t,"utf8").toString("base64"))},gt=function(t){return p.from(Et(t),"base64").toString("utf8")}):(pt=function(t){return xt(Ht(Gt(t)))},gt=function(t){return decodeURIComponent(jt(_t(t)))}),dt.lang.String.isInteger=function(t){return!!t.match(/^[0-9]+$/)||!!t.match(/^-[0-9]+$/)},dt.lang.String.isHex=function(t){return $t(t)},dt.lang.String.isBase64=function(t){return!(!(t=t.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||t.length%4!=0)},dt.lang.String.isBase64URL=function(t){return!t.match(/[+/=]/)&&(t=Et(t),dt.lang.String.isBase64(t))},dt.lang.String.isIntegerArray=function(t){return!!(t=t.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},dt.lang.String.isPrintable=function(t){return null!==t.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},dt.lang.String.isIA5=function(t){return null!==t.match(/^[\x20-\x21\x23-\x7f]*$/)},dt.lang.String.isMail=function(t){return null!==t.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var ee=function(t,e,r){return null==r&&(r="0"),t.length>=e?t:new Array(e-t.length+1).join(r)+t};function re(t){if(t.length%2!=0)return-1;if(null==(t=t.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var e=t.substr(0,2);if("00"==e)return parseInt(t.substr(2),16);var r=parseInt(e,16);if(r>7)return-1;var n=t.substr(2),i=parseInt(n,16).toString(2);"0"==i&&(i="00000000"),i=i.slice(0,0-r);var s=parseInt(i,2);return NaN==s?-1:s}catch(t){return-1}}function ne(t){if("number"!=typeof t)return null;if(t<0)return null;var e=Number(t).toString(2),r=8-e.length%8;8==r&&(r=0),e+=ee("",r,"0");var n=parseInt(e,2).toString(16);return n.length%2==1&&(n="0"+n),"0"+r+n}function ie(t){if("string"!=typeof t)return null;if(t.length%2!=0)return null;if(!t.match(/^[0-9a-f]+$/))return null;try{var e=parseInt(t.substr(0,2),16);if(e<0||7<e)return null;for(var r=t.substr(2),n="",i=0;i<r.length;i+=2){var s=r.substr(i,2),o=parseInt(s,16).toString(2);n+=o=("0000000"+o).slice(-8)}return n.substr(0,n.length-e)}catch(t){return null}}function se(t,e){for(var r=0,n=0;n<t.length;n++)r|=1<<e[t[n]];var i=r.toString(2),s="";for(n=i.length-1;n>=0;n--)s+=i[n];return s}function oe(t,e,r){if("object"==typeof t){e=String(e).split(".");for(var n=0;n<e.length&&t;n++){var i=e[n];i.match(/^[0-9]+$/)&&(i=parseInt(i)),t=t[i]}return t||!1===t?t:r}}function ae(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e)}void 0!==dt&&dt||(dt={}),void 0!==dt.crypto&&dt.crypto||(dt.crypto={}),dt.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:m.algo.MD5,sha1:m.algo.SHA1,sha224:m.algo.SHA224,sha256:m.algo.SHA256,sha384:m.algo.SHA384,sha512:m.algo.SHA512,ripemd160:m.algo.RIPEMD160},this.getDigestInfoHex=function(t,e){if(void 0===this.DIGESTINFOHEAD[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.DIGESTINFOHEAD[e]+t},this.getPaddedDigestInfoHex=function(t,e,r){var n=this.getDigestInfoHex(t,e),i=r/4;if(n.length+22>i)throw"key is too short for SigAlg: keylen="+r+","+e;for(var s="00"+n,o="",a=i-4-s.length,u=0;u<a;u+=2)o+="ff";return"0001"+o+s},this.hashString=function(t,e){return new dt.crypto.MessageDigest({alg:e}).digestString(t)},this.hashHex=function(t,e){return new dt.crypto.MessageDigest({alg:e}).digestHex(t)},this.sha1=function(t){return this.hashString(t,"sha1")},this.sha256=function(t){return this.hashString(t,"sha256")},this.sha256Hex=function(t){return this.hashHex(t,"sha256")},this.sha512=function(t){return this.hashString(t,"sha512")},this.sha512Hex=function(t){return this.hashHex(t,"sha512")},this.isKey=function(t){return t instanceof at||t instanceof dt.crypto.DSA||t instanceof dt.crypto.ECDSA}},dt.crypto.Util.md5=function(t){return new dt.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(t)},dt.crypto.Util.ripemd160=function(t){return new dt.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(t)},dt.crypto.Util.SECURERANDOMGEN=new it,dt.crypto.Util.getRandomHexOfNbytes=function(t){var e=new Array(t);return dt.crypto.Util.SECURERANDOMGEN.nextBytes(e),vt(e)},dt.crypto.Util.getRandomBigIntegerOfNbytes=function(t){return new _(dt.crypto.Util.getRandomHexOfNbytes(t),16)},dt.crypto.Util.getRandomHexOfNbits=function(t){var e=t%8,r=new Array((t-e)/8+1);return dt.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<e&255^255)&r[0],vt(r)},dt.crypto.Util.getRandomBigIntegerOfNbits=function(t){return new _(dt.crypto.Util.getRandomHexOfNbits(t),16)},dt.crypto.Util.getRandomBigIntegerZeroToMax=function(t){for(var e=t.bitLength();;){var r=dt.crypto.Util.getRandomBigIntegerOfNbits(e);if(-1!=t.compareTo(r))return r}},dt.crypto.Util.getRandomBigIntegerMinToMax=function(t,e){var r=t.compareTo(e);if(1==r)throw"biMin is greater than biMax";if(0==r)return t;var n=e.subtract(t);return dt.crypto.Util.getRandomBigIntegerZeroToMax(n).add(t)},dt.crypto.MessageDigest=function(t){this.setAlgAndProvider=function(t,e){if(null!==(t=dt.crypto.MessageDigest.getCanonicalAlgName(t))&&void 0===e&&(e=dt.crypto.Util.DEFAULTPROVIDER[t]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)&&"cryptojs"==e){try{this.md=dt.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=m.enc.Hex.parse(t);this.md.update(e)},this.digest=function(){return this.md.finalize().toString(m.enc.Hex)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}if(-1!=":sha256:".indexOf(t)&&"sjcl"==e){try{this.md=new sjcl.hash.sha256}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=sjcl.codec.hex.toBits(t);this.md.update(e)},this.digest=function(){var t=this.md.finalize();return sjcl.codec.hex.fromBits(t)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==t&&void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=dt.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},dt.crypto.MessageDigest.getCanonicalAlgName=function(t){return"string"==typeof t&&(t=(t=t.toLowerCase()).replace(/-/,"")),t},dt.crypto.MessageDigest.getHashLength=function(t){var e=dt.crypto.MessageDigest,r=e.getCanonicalAlgName(t);if(void 0===e.HASHLENGTH[r])throw"not supported algorithm: "+t;return e.HASHLENGTH[r]},dt.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},dt.crypto.Mac=function(t){this.setAlgAndProvider=function(t,e){if(null==(t=t.toLowerCase())&&(t="hmacsha1"),"hmac"!=(t=t.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===e&&(e=dt.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+"/"+e;var r=t.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==e){try{var n=dt.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r];this.mac=m.algo.HMAC.create(n,this.pass)}catch(t){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+t}this.updateString=function(t){this.mac.update(t)},this.updateHex=function(t){var e=m.enc.Hex.parse(t);this.mac.update(e)},this.doFinal=function(){return this.mac.finalize().toString(m.enc.Hex)},this.doFinalString=function(t){return this.updateString(t),this.doFinal()},this.doFinalHex=function(t){return this.updateHex(t),this.doFinal()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(t){if("string"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=Ot(t)),void(this.pass=m.enc.Hex.parse(e))}if("object"!=typeof t)throw"KJUR.crypto.Mac unsupported password type: "+t;if(e=null,void 0!==t.hex){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.hex;e=t.hex}if(void 0!==t.utf8&&(e=At(t.utf8)),void 0!==t.rstr&&(e=Ot(t.rstr)),void 0!==t.b64&&(e=E(t.b64)),void 0!==t.b64u&&(e=_t(t.b64u)),null==e)throw"KJUR.crypto.Mac unsupported password type: "+t;this.pass=m.enc.Hex.parse(e)},void 0!==t&&(void 0!==t.pass&&this.setPassword(t.pass),void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=dt.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},dt.crypto.Signature=function(t){var e=null;if(this._setAlgNames=function(){var t=this.algName.match(/^(.+)with(.+)$/);t&&(this.mdAlgName=t[1].toLowerCase(),this.pubkeyAlgName=t[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(t,e){for(var r="",n=e/4-t.length,i=0;i<n;i++)r+="0";return r+t},this.setAlgAndProvider=function(t,e){if(this._setAlgNames(),"cryptojs/jsrsa"!=e)throw new Error("provider not supported: "+e);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new dt.crypto.MessageDigest({alg:this.mdAlgName})}catch(t){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+t)}this.init=function(t,e){var r=null;try{r=void 0===e?ue.getKey(t):ue.getKey(t,e)}catch(t){throw"init failed:"+t}if(!0===r.isPrivate)this.prvKey=r,this.state="SIGN";else{if(!0!==r.isPublic)throw"init failed.:"+r;this.pubKey=r,this.state="VERIFY"}},this.updateString=function(t){this.md.updateString(t)},this.updateHex=function(t){this.md.updateHex(t)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==dt.crypto.ECDSA&&(this.prvKey=new dt.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof at&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof at&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof dt.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof dt.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(t){return this.updateString(t),this.sign()},this.signHex=function(t){return this.updateHex(t),this.sign()},this.verify=function(t){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==dt.crypto.ECDSA&&(this.pubKey=new dt.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof at&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,t,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof at&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==dt.crypto.ECDSA&&this.pubKey instanceof dt.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==dt.crypto.DSA&&this.pubKey instanceof dt.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(t,e){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(t){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(t){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(t){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(t){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=t,void 0!==t&&(void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov?this.provName=dt.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=t.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==t.psssaltlen&&(this.pssSaltLen=t.psssaltlen),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{e=ue.getKey(t.prvkeypem),this.init(e)}catch(t){throw"fatal error to load pem private key: "+t}}},dt.crypto.Cipher=function(t){},dt.crypto.Cipher.encrypt=function(t,e,r,n){if(null!=oe(n,"enclag")&&(r=n.encalg),"string"==typeof r&&"-CBC"==r.substr(-4)){var i=e,s=t;null!=oe(n,"key")&&(i=n.key),null!=oe(n,"enc")&&(hEnc=n.enc);var o,a=m.enc.Hex.parse(i),u=m.enc.Hex.parse(s),c=m.enc.Hex.parse(n.iv);if("des-EDE3-CBC"==r)o=m.TripleDES.encrypt(u,a,{iv:c});else{if("aes128-CBC"!=r&&"aes256-CBC"!=r)throw new Error("unsupported algorithm: "+r);o=m.AES.encrypt(u,a,{iv:c})}return o+""}if(e instanceof at&&e.isPublic){var f=dt.crypto.Cipher.getAlgByKeyAndName(e,r);if("RSA"===f)return e.encrypt(t);if("RSAOAEP"===f)return e.encryptOAEP(t,"sha1");var h=f.match(/^RSAOAEP(\d+)$/);if(null!==h)return e.encryptOAEP(t,"sha"+h[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.encrypt: unsupported key or algorithm"},dt.crypto.Cipher.decrypt=function(t,e,r,n){if(null!=oe(n,"enclag")&&(r=n.encalg),"string"==typeof r&&"-CBC"==r.substr(-4)){var i=e,s=t;null!=oe(n,"key")&&(i=n.key),null!=oe(n,"enc")&&(s=n.enc);var o,a=m.enc.Hex.parse(i),u=m.enc.Hex.parse(s),c=m.enc.Hex.parse(n.iv);if("des-EDE3-CBC"==r)o=m.TripleDES.decrypt({ciphertext:u},a,{iv:c});else{if("aes128-CBC"!=r&&"aes256-CBC"!=r)throw new Error("unsupported algorithm: "+r);o=m.AES.decrypt({ciphertext:u},a,{iv:c})}return m.enc.Hex.stringify(o)}if(e instanceof at&&e.isPrivate){var f=dt.crypto.Cipher.getAlgByKeyAndName(e,r);if("RSA"===f)return e.decrypt(t);if("RSAOAEP"===f)return e.decryptOAEP(t,"sha1");var h=f.match(/^RSAOAEP(\d+)$/);if(null!==h)return e.decryptOAEP(t,"sha"+h[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.decrypt: unsupported key or algorithm"},dt.crypto.Cipher.getAlgByKeyAndName=function(t,e){if(t instanceof at){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(e))return e;if(null==e)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+e}throw"getAlgByKeyAndName: not supported algorithm name: "+e},dt.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==dt&&dt||(dt={}),void 0!==dt.crypto&&dt.crypto||(dt.crypto={}),dt.crypto.ECDSA=function(t){var e=Error,r=_,n=ft,i=dt.crypto.ECDSA,s=dt.crypto.ECParameterDB,o=i.getName,a=yt,u=a.getVbyListEx,c=a.isASN1HEX,f=new it;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(t){return new r(t.bitLength(),f).mod(t.subtract(r.ONE)).add(r.ONE)},this.setNamedCurve=function(t){this.ecparams=s.getByName(t),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=t},this.setPrivateKeyHex=function(t){this.isPrivate=!0,this.prvKeyHex=t},this.setPublicKeyHex=function(t){this.isPublic=!0,this.pubKeyHex=t},this.getPublicKeyXYHex=function(){var t=this.pubKeyHex;if("04"!==t.substr(0,2))throw"this method supports uncompressed format(04) only";var e=this.ecparams.keycharlen;if(t.length!==2+2*e)throw"malformed public key hex length";var r={};return r.x=t.substr(2,e),r.y=t.substr(2+e),r},this.getShortNISTPCurveName=function(){var t=this.curveName;return"secp256r1"===t||"NIST P-256"===t||"P-256"===t||"prime256v1"===t?"P-256":"secp384r1"===t||"NIST P-384"===t||"P-384"===t?"P-384":"secp521r1"===t||"NIST P-521"===t||"P-521"===t?"P-521":null},this.generateKeyPairHex=function(){var t=this.ecparams.n,e=this.getBigRandom(t),r=this.ecparams.keycharlen,n=("0000000000"+e.toString(16)).slice(-r);return this.setPrivateKeyHex(n),{ecprvhex:n,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var t=new r(this.prvKeyHex,16),e=this.ecparams.G.multiply(t),n=e.getX().toBigInteger(),i=e.getY().toBigInteger(),s=this.ecparams.keycharlen,o="04"+("0000000000"+n.toString(16)).slice(-s)+("0000000000"+i.toString(16)).slice(-s);return this.setPublicKeyHex(o),o},this.signWithMessageHash=function(t){return this.signHex(t,this.prvKeyHex)},this.signHex=function(t,e){var n=new r(e,16),s=this.ecparams.n,o=new r(t.substring(0,this.ecparams.keycharlen),16);do{var a=this.getBigRandom(s),u=this.ecparams.G.multiply(a).getX().toBigInteger().mod(s)}while(u.compareTo(r.ZERO)<=0);var c=a.modInverse(s).multiply(o.add(n.multiply(u))).mod(s);return i.biRSSigToASN1Sig(u,c)},this.sign=function(t,e){var n=e,i=this.ecparams.n,s=r.fromByteArrayUnsigned(t);do{var o=this.getBigRandom(i),a=this.ecparams.G.multiply(o).getX().toBigInteger().mod(i)}while(a.compareTo(_.ZERO)<=0);var u=o.modInverse(i).multiply(s.add(n.multiply(a))).mod(i);return this.serializeSig(a,u)},this.verifyWithMessageHash=function(t,e){return this.verifyHex(t,e,this.pubKeyHex)},this.verifyHex=function(t,e,s){try{var o,a,u=i.parseSigHex(e);o=u.r,a=u.s;var c=n.decodeFromHex(this.ecparams.curve,s),f=new r(t.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(f,o,a,c)}catch(t){return!1}},this.verify=function(t,e,i){var s,o,a;if(Bitcoin.Util.isArray(e)){var u=this.parseSig(e);s=u.r,o=u.s}else{if("object"!=typeof e||!e.r||!e.s)throw"Invalid value for signature";s=e.r,o=e.s}if(i instanceof ft)a=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";a=n.decodeFrom(this.ecparams.curve,i)}var c=r.fromByteArrayUnsigned(t);return this.verifyRaw(c,s,o,a)},this.verifyRaw=function(t,e,n,i){var s=this.ecparams.n,o=this.ecparams.G;if(e.compareTo(r.ONE)<0||e.compareTo(s)>=0)return!1;if(n.compareTo(r.ONE)<0||n.compareTo(s)>=0)return!1;var a=n.modInverse(s),u=t.multiply(a).mod(s),c=e.multiply(a).mod(s);return o.multiply(u).add(i.multiply(c)).getX().toBigInteger().mod(s).equals(e)},this.serializeSig=function(t,e){var r=t.toByteArraySigned(),n=e.toByteArraySigned(),i=[];return i.push(2),i.push(r.length),(i=i.concat(r)).push(2),i.push(n.length),(i=i.concat(n)).unshift(i.length),i.unshift(48),i},this.parseSig=function(t){var e;if(48!=t[0])throw new Error("Signature not a valid DERSequence");if(2!=t[e=2])throw new Error("First element in signature must be a DERInteger");var n=t.slice(e+2,e+2+t[e+1]);if(2!=t[e+=2+t[e+1]])throw new Error("Second element in signature must be a DERInteger");var i=t.slice(e+2,e+2+t[e+1]);return e+=2+t[e+1],{r:r.fromByteArrayUnsigned(n),s:r.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(t){if(65!==t.length)throw"Signature has the wrong length";var e=t[0]-27;if(e<0||e>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:r.fromByteArrayUnsigned(t.slice(1,33)).mod(n),s:r.fromByteArrayUnsigned(t.slice(33,65)).mod(n),i:e}},this.readPKCS5PrvKeyHex=function(t){if(!1===c(t))throw new Error("not ASN.1 hex string");var e,r,n;try{e=u(t,0,["[0]",0],"06"),r=u(t,0,[1],"04");try{n=u(t,0,["[1]",0],"03")}catch(t){}}catch(t){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=o(e),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(t){if(!1===c(t))throw new e("not ASN.1 hex string");var r,n,i;try{u(t,0,[1,0],"06"),r=u(t,0,[1,1],"06"),n=u(t,0,[2,0,1],"04");try{i=u(t,0,[2,0,"[1]",0],"03")}catch(t){}}catch(t){throw new e("malformed PKCS#8 plain ECC private key")}if(this.curveName=o(r),void 0===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(t){if(!1===c(t))throw new e("not ASN.1 hex string");var r,n;try{u(t,0,[0,0],"06"),r=u(t,0,[0,1],"06"),n=u(t,0,[1],"03")}catch(t){throw new e("malformed PKCS#8 ECC public key")}if(this.curveName=o(r),null===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(t,r){if(!1===c(t))throw new e("not ASN.1 hex string");var n,i;try{n=u(t,0,[0,5,0,1],"06"),i=u(t,0,[0,5,1],"03")}catch(t){throw new e("malformed X.509 certificate ECC public key")}if(this.curveName=o(n),null===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==t&&void 0!==t.curve&&(this.curveName=t.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==t&&(void 0!==t.prv&&this.setPrivateKeyHex(t.prv),void 0!==t.pub&&this.setPublicKeyHex(t.pub))},dt.crypto.ECDSA.parseSigHex=function(t){var e=dt.crypto.ECDSA.parseSigHexInHexRS(t);return{r:new _(e.r,16),s:new _(e.s,16)}},dt.crypto.ECDSA.parseSigHexInHexRS=function(t){var e=yt,r=e.getChildIdx,n=e.getV;if(e.checkStrictDER(t,0),"30"!=t.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=r(t,0);if(2!=i.length)throw new Error("signature shall have two elements");var s=i[0],o=i[1];if("02"!=t.substr(s,2))throw new Error("1st item not ASN.1 integer");if("02"!=t.substr(o,2))throw new Error("2nd item not ASN.1 integer");return{r:n(t,s),s:n(t,o)}},dt.crypto.ECDSA.asn1SigToConcatSig=function(t){var e=dt.crypto.ECDSA.parseSigHexInHexRS(t),r=e.r,n=e.s;if(r.length>=130&&r.length<=134){if(r.length%2!=0)throw Error("unknown ECDSA sig r length error");if(n.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==r.substr(0,2)&&(r=r.substr(2)),"00"==n.substr(0,2)&&(n=n.substr(2));var i=Math.max(r.length,n.length);return(r=("000000"+r).slice(-i))+("000000"+n).slice(-i)}if("00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),"00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),r.length%32==30&&(r="00"+r),n.length%32==30&&(n="00"+n),r.length%32!=0)throw Error("unknown ECDSA sig r length error");if(n.length%32!=0)throw Error("unknown ECDSA sig s length error");return r+n},dt.crypto.ECDSA.concatSigToASN1Sig=function(t){if(t.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var e=t.substr(0,t.length/2),r=t.substr(t.length/2);return dt.crypto.ECDSA.hexRSSigToASN1Sig(e,r)},dt.crypto.ECDSA.hexRSSigToASN1Sig=function(t,e){var r=new _(t,16),n=new _(e,16);return dt.crypto.ECDSA.biRSSigToASN1Sig(r,n)},dt.crypto.ECDSA.biRSSigToASN1Sig=function(t,e){var r=dt.asn1,n=new r.DERInteger({bigint:t}),i=new r.DERInteger({bigint:e});return new r.DERSequence({array:[n,i]}).tohex()},dt.crypto.ECDSA.getName=function(t){return"2b8104001f"===t?"secp192k1":"2a8648ce3d030107"===t?"secp256r1":"2b8104000a"===t?"secp256k1":"2b81040021"===t?"secp224r1":"2b81040022"===t?"secp384r1":"2b81040023"===t?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(t)?"secp256r1":-1!=="|secp256k1|".indexOf(t)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(t)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(t)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(t)?"secp521r1":null},void 0!==dt&&dt||(dt={}),void 0!==dt.crypto&&dt.crypto||(dt.crypto={}),dt.crypto.ECParameterDB=new function(){var t={},e={};function r(t){return new _(t,16)}this.getByName=function(r){var n=r;if(void 0!==e[n]&&(n=e[r]),void 0!==t[n])return t[n];throw"unregistered EC curve name: "+n},this.regist=function(n,i,s,o,a,u,c,f,h,l,d,p){t[n]={};var g=r(s),y=r(o),m=r(a),b=r(u),v=r(c),w=new ht(g,y,m),S=w.decodePointHex("04"+f+h);t[n].name=n,t[n].keylen=i,t[n].keycharlen=2*Math.ceil(i/8),t[n].curve=w,t[n].G=S,t[n].n=b,t[n].h=v,t[n].oid=d,t[n].info=p;for(var E=0;E<l.length;E++)e[l[E]]=n}},dt.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),dt.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),dt.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),dt.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),dt.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),dt.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),dt.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),dt.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),dt.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),dt.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==dt&&dt||(dt={}),void 0!==dt.crypto&&dt.crypto||(dt.crypto={}),dt.crypto.DSA=function(){var t=yt,e=(t.getVbyList,t.getVbyListEx),r=t.isASN1HEX,n=_;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(t,e,r,n,i){this.isPrivate=!0,this.p=t,this.q=e,this.g=r,this.y=n,this.x=i},this.setPrivateHex=function(t,e,r,n,i){var s,o,a,u,c;s=new _(t,16),o=new _(e,16),a=new _(r,16),u="string"==typeof n&&n.length>1?new _(n,16):null,c=new _(i,16),this.setPrivate(s,o,a,u,c)},this.setPublic=function(t,e,r,n){this.isPublic=!0,this.p=t,this.q=e,this.g=r,this.y=n,this.x=null},this.setPublicHex=function(t,e,r,n){var i,s,o,a;i=new _(t,16),s=new _(e,16),o=new _(r,16),a=new _(n,16),this.setPublic(i,s,o,a)},this.signWithMessageHash=function(t){var e=this.p,r=this.q,n=this.g,i=(this.y,this.x),s=dt.crypto.Util.getRandomBigIntegerMinToMax(_.ONE.add(_.ONE),r.subtract(_.ONE)),o=new _(t.substr(0,r.bitLength()/4),16),a=n.modPow(s,e).mod(r),u=s.modInverse(r).multiply(o.add(i.multiply(a))).mod(r);return dt.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:a}},{int:{bigint:u}}]})},this.verifyWithMessageHash=function(t,e){var r=this.p,n=this.q,i=this.g,s=this.y,o=this.parseASN1Signature(e),a=o[0],u=o[1],c=new _(t.substr(0,n.bitLength()/4),16);if(_.ZERO.compareTo(a)>0||a.compareTo(n)>0)throw"invalid DSA signature";if(_.ZERO.compareTo(u)>=0||u.compareTo(n)>0)throw"invalid DSA signature";var f=u.modInverse(n),h=c.multiply(f).mod(n),l=a.multiply(f).mod(n);return 0==i.modPow(h,r).multiply(s.modPow(l,r)).mod(r).mod(n).compareTo(a)},this.parseASN1Signature=function(t){try{return[new n(e(t,0,[0],"02"),16),new n(e(t,0,[1],"02"),16)]}catch(t){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(t){var n,i,s,o,a;if(!1===r(t))throw new Error("not ASN.1 hex string");try{n=e(t,0,[1],"02"),i=e(t,0,[2],"02"),s=e(t,0,[3],"02"),o=e(t,0,[4],"02"),a=e(t,0,[5],"02")}catch(t){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(n,i,s,o,a)},this.readPKCS8PrvKeyHex=function(t){var n,i,s,o;if(!1===r(t))throw new Error("not ASN.1 hex string");try{n=e(t,0,[1,1,0],"02"),i=e(t,0,[1,1,1],"02"),s=e(t,0,[1,1,2],"02"),o=e(t,0,[2,0],"02")}catch(t){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(n,i,s,null,o)},this.readPKCS8PubKeyHex=function(t){var n,i,s,o;if(!1===r(t))throw new Error("not ASN.1 hex string");try{n=e(t,0,[0,1,0],"02"),i=e(t,0,[0,1,1],"02"),s=e(t,0,[0,1,2],"02"),o=e(t,0,[1,0],"02")}catch(t){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(n,i,s,o)},this.readCertPubKeyHex=function(t,n){var i,s,o,a;if(!1===r(t))throw new Error("not ASN.1 hex string");try{i=e(t,0,[0,5,0,1,0],"02"),s=e(t,0,[0,5,0,1,1],"02"),o=e(t,0,[0,5,0,1,2],"02"),a=e(t,0,[0,5,1,0],"02")}catch(t){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(i,s,o,a)}};var ue=function(){var t=function(t,r,n){return e(m.AES,t,r,n)},e=function(t,e,r,n){var i=m.enc.Hex.parse(e),s=m.enc.Hex.parse(r),o=m.enc.Hex.parse(n),a={};a.key=s,a.iv=o,a.ciphertext=i;var u=t.decrypt(a,s,{iv:o});return m.enc.Hex.stringify(u)},r=function(t,e,r){return n(m.AES,t,e,r)},n=function(t,e,r,n){var i=m.enc.Hex.parse(e),s=m.enc.Hex.parse(r),o=m.enc.Hex.parse(n),a=t.encrypt(i,s,{iv:o}),u=m.enc.Hex.parse(a.toString());return m.enc.Base64.stringify(u)},i={"AES-256-CBC":{proc:t,eproc:r,keylen:32,ivlen:16},"AES-192-CBC":{proc:t,eproc:r,keylen:24,ivlen:16},"AES-128-CBC":{proc:t,eproc:r,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(t,r,n){return e(m.TripleDES,t,r,n)},eproc:function(t,e,r){return n(m.TripleDES,t,e,r)},keylen:24,ivlen:8},"DES-CBC":{proc:function(t,r,n){return e(m.DES,t,r,n)},eproc:function(t,e,r){return n(m.DES,t,e,r)},keylen:8,ivlen:8}},s=function(t){var e={},r=t.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));r&&(e.cipher=r[1],e.ivsalt=r[2]);var n=t.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));n&&(e.type=n[1]);var i=-1,s=0;-1!=t.indexOf("\r\n\r\n")&&(i=t.indexOf("\r\n\r\n"),s=2),-1!=t.indexOf("\n\n")&&(i=t.indexOf("\n\n"),s=1);var o=t.indexOf("-----END");if(-1!=i&&-1!=o){var a=t.substring(i+2*s,o-s);a=a.replace(/\s+/g,""),e.data=a}return e},o=function(t,e,r){for(var n=r.substring(0,16),s=m.enc.Hex.parse(n),o=m.enc.Utf8.parse(e),a=i[t].keylen+i[t].ivlen,u="",c=null;;){var f=m.algo.MD5.create();if(null!=c&&f.update(c),f.update(o),f.update(s),c=f.finalize(),(u+=m.enc.Hex.stringify(c)).length>=2*a)break}var h={};return h.keyhex=u.substr(0,2*i[t].keylen),h.ivhex=u.substr(2*i[t].keylen,2*i[t].ivlen),h},a=function(t,e,r,n){var s=m.enc.Base64.parse(t),o=m.enc.Hex.stringify(s);return(0,i[e].proc)(o,r,n)};return{version:"1.0.0",parsePKCS5PEM:function(t){return s(t)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(t,e,r){return o(t,e,r)},decryptKeyB64:function(t,e,r,n){return a(t,e,r,n)},getDecryptedKeyHex:function(t,e){var r=s(t),n=(r.type,r.cipher),i=r.ivsalt,u=r.data,c=o(n,e,i).keyhex;return a(u,n,c,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(t,e,r,n,s){var a="";if(void 0!==n&&null!=n||(n="AES-256-CBC"),void 0===i[n])throw new Error("KEYUTIL unsupported algorithm: "+n);if(void 0===s||null==s){var u=function(t){var e=m.lib.WordArray.random(t);return m.enc.Hex.stringify(e)}(i[n].ivlen);s=u.toUpperCase()}var c=function(t,e,r,n){return(0,i[e].eproc)(t,r,n)}(e,n,o(n,r,s).keyhex,s);return a="-----BEGIN "+t+" PRIVATE KEY-----\r\n",a+="Proc-Type: 4,ENCRYPTED\r\n",a+="DEK-Info: "+n+","+s+"\r\n",a+="\r\n",(a+=c.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+t+" PRIVATE KEY-----\r\n"},getEncryptedPKCS8PEM:function(t,e,r){return Rt(this.getEncryptedPKCS8Hex(t,e,r),"ENCRYPTED PRIVATE KEY")},getEncryptedPKCS8Hex:function(t,e,r){var n;(n=null==r||null==r?{}:JSON.parse(JSON.stringify(r))).plain=t,this.initPBES2Param(n),this.encryptPBES2Param(n,e);var i=this.generatePBES2ASN1Param(n);return dt.asn1.ASN1Util.newObject(i).tohex()},initPBES2Param:function(t){var e;null==oe(t,"encalg")&&(t.encalg="aes256-CBC"),null==oe(t,"iter")&&(t.iter=2048),null==oe(t,"prf")&&(t.prf="hmacWithSHA256"),null==oe(t,"salt")&&(t.salt=m.enc.Hex.stringify(m.lib.WordArray.random(8))),null==oe(t,"enciv")&&("des-EDE3-CBC"==t.encalg&&(e=8),"aes128-CBC"==t.encalg&&(e=16),"aes256-CBC"==t.encalg&&(e=16),t.enciv=m.enc.Hex.stringify(m.lib.WordArray.random(e)))},encryptPBES2Param:function(t,e){var r=ue.getDKFromPBES2Param(t,e);try{var n=dt.crypto.Cipher.encrypt(t.plain,r,t.encalg,{iv:t.enciv})}catch(e){throw new Error("encrypt error: "+t.plain+" "+r+" "+t.encalg+" "+t.enciv)}t.enc=n},generatePBES2ASN1Param:function(t){var e={seq:[{seq:[{oid:"pkcs5PBES2"},{seq:[{seq:[{oid:"pkcs5PBKDF2"},{seq:[{octstr:{hex:t.salt}},{int:{hex:Qt(t.iter)}}]}]},{seq:[{oid:t.encalg},{octstr:{hex:t.enciv}}]}]}]},{octstr:{hex:t.enc}}]};return"hmacWithSHA1"!=t.prf&&e.seq[0].seq[1].seq[0].seq[1].seq.push({seq:[{oid:t.prf},{null:""}]}),e},parseHexOfEncryptedPKCS8:function(t){var e=yt,r=e.getChildIdx,n=e.getV,i={},s=r(t,0);if(2!=s.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+s.length);i.ciphertext=n(t,s[1]);var o=r(t,s[0]);if(2!=o.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+o.length);if("2a864886f70d01050d"!=n(t,o[0]))throw new Error("this only supports pkcs5PBES2");var a=r(t,o[1]);if(2!=o.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+a.length);var u=r(t,a[1]);if(2!=u.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+u.length);if("2a864886f70d0307"!=n(t,u[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=n(t,u[1]);var c=r(t,a[0]);if(2!=c.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+c.length);if("2a864886f70d01050c"!=n(t,c[0]))throw new Error("this only supports pkcs5PBKDF2");var f=r(t,c[1]);if(f.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+f.length);i.pbkdf2Salt=n(t,f[0]);var h=n(t,f[1]);try{i.pbkdf2Iter=parseInt(h,16)}catch(t){throw new Error("malformed format pbkdf2Iter: "+h)}return i},getPBKDF2KeyHexFromParam:function(t,e){var r=m.enc.Hex.parse(t.pbkdf2Salt),n=t.pbkdf2Iter,i=m.PBKDF2(e,r,{keySize:6,iterations:n});return m.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(t,e){var r=Nt(t,"ENCRYPTED PRIVATE KEY"),n=this.parseHexOfEncryptedPKCS8(r),i=ue.getPBKDF2KeyHexFromParam(n,e),s={};s.ciphertext=m.enc.Hex.parse(n.ciphertext);var o=m.enc.Hex.parse(i),a=m.enc.Hex.parse(n.encryptionSchemeIV),u=m.TripleDES.decrypt(s,o,{iv:a});return m.enc.Hex.stringify(u)},parsePBES2:function(t){var e=yt.parse(t);if("pkcs5PBES2"!=oe(e,"seq.0.seq.0.oid")||"pkcs5PBKDF2"!=oe(e,"seq.0.seq.1.seq.0.seq.0.oid"))throw new Error("not pkcs5PBES2 and pkcs5PBKDF2 used");var r=oe(e,"seq.0.seq.1.seq.0.seq.1.seq");if(null==r)throw new Error("PBKDF2 parameter not found");var n=oe(r,"0.octstr.hex"),i=oe(r,"1.int.hex"),s=oe(r,"2.seq.0.oid","hmacWithSHA1"),o=-1;try{o=parseInt(i,16)}catch(t){throw new Error("iter not proper value")}var a=oe(e,"seq.0.seq.1.seq.1.seq.0.oid"),u=oe(e,"seq.0.seq.1.seq.1.seq.1.octstr.hex"),c=oe(e,"seq.1.octstr.hex");if(null==a||null==u||null==c)throw new Error("encalg, enciv or enc is undefined");return{salt:n,iter:o,prf:s,encalg:a,enciv:u,enc:c}},getDKFromPBES2Param:function(t,e){var r={hmacWithSHA1:m.algo.SHA1,hmacWithSHA224:m.algo.SHA224,hmacWithSHA256:m.algo.SHA256,hmacWithSHA384:m.algo.SHA384,hmacWithSHA512:m.algo.SHA512}[t.prf];if(null==r)throw new Error("unsupported prf");var n={"des-EDE3-CBC":6,"aes128-CBC":4,"aes256-CBC":8}[t.encalg];if(null==n)throw new Error("unsupported encalg");var i=m.enc.Hex.parse(t.salt),s=t.iter;try{var o=m.PBKDF2(e,i,{keySize:n,iterations:s,hasher:r});return m.enc.Hex.stringify(o)}catch(r){throw new Error("PBKDF2 error: "+r+" "+JSON.stringify(t)+" "+e)}},getPlainHexFromEncryptedPKCS8PEM:function(t,e){if(-1==t.indexOf("BEGIN ENCRYPTED PRIVATE KEY"))throw new Error("not Encrypted PKCS#8 PEM string");var r,n=Nt(t);try{r=ue.parsePBES2(n)}catch(t){throw new Error("malformed PBES2 format: "+t.message)}var i=ue.getDKFromPBES2Param(r,e);return dt.crypto.Cipher.decrypt(r.enc,i,r.encalg,{iv:r.enciv})},getKeyFromEncryptedPKCS8PEM:function(t,e){var r=this.getPlainHexFromEncryptedPKCS8PEM(t,e);return this.getKeyFromPlainPrivatePKCS8Hex(r)},parsePlainPrivatePKCS8Hex:function(t){var e=yt,r=e.getChildIdx,n=e.getV,i={algparam:null};if("30"!=t.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var s=r(t,0);if(s.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=t.substr(s[1],2))throw new Error("malformed PKCS8 private key(code:003)");var o=r(t,s[1]);if(2!=o.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=t.substr(o[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(i.algoid=n(t,o[0]),"06"==t.substr(o[1],2)&&(i.algparam=n(t,o[1])),"04"!=t.substr(s[2],2))throw new Error("malformed PKCS8 private key(code:006)");return i.keyidx=e.getVidx(t,s[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(t){var e=Nt(t,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(e)},getKeyFromPlainPrivatePKCS8Hex:function(t){var e,r=this.parsePlainPrivatePKCS8Hex(t);if("2a864886f70d010101"==r.algoid)e=new at;else if("2a8648ce380401"==r.algoid)e=new dt.crypto.DSA;else{if("2a8648ce3d0201"!=r.algoid)throw new Error("unsupported private key algorithm");e=new dt.crypto.ECDSA}return e.readPKCS8PrvKeyHex(t),e},_getKeyFromPublicPKCS8Hex:function(t){var e,r=yt.getVbyList(t,0,[0,0],"06");if("2a864886f70d010101"===r)e=new at;else if("2a8648ce380401"===r)e=new dt.crypto.DSA;else{if("2a8648ce3d0201"!==r)throw new Error("unsupported PKCS#8 public key hex");e=new dt.crypto.ECDSA}return e.readPKCS8PubKeyHex(t),e},parsePublicRawRSAKeyHex:function(t){var e=yt,r=e.getChildIdx,n=e.getV,i={};if("30"!=t.substr(0,2))throw new Error("malformed RSA key(code:001)");var s=r(t,0);if(2!=s.length)throw new Error("malformed RSA key(code:002)");if("02"!=t.substr(s[0],2))throw new Error("malformed RSA key(code:003)");if(i.n=n(t,s[0]),"02"!=t.substr(s[1],2))throw new Error("malformed RSA key(code:004)");return i.e=n(t,s[1]),i},parsePublicPKCS8Hex:function(t){var e=yt,r=e.getChildIdx,n=e.getV,i={algparam:null},s=r(t,0);if(2!=s.length)throw new Error("outer DERSequence shall have 2 elements: "+s.length);var o=s[0];if("30"!=t.substr(o,2))throw new Error("malformed PKCS8 public key(code:001)");var a=r(t,o);if(2!=a.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=t.substr(a[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(i.algoid=n(t,a[0]),"06"==t.substr(a[1],2)?i.algparam=n(t,a[1]):"30"==t.substr(a[1],2)&&(i.algparam={},i.algparam.p=e.getVbyList(t,a[1],[0],"02"),i.algparam.q=e.getVbyList(t,a[1],[1],"02"),i.algparam.g=e.getVbyList(t,a[1],[2],"02")),"03"!=t.substr(s[1],2))throw new Error("malformed PKCS8 public key(code:004)");return i.key=n(t,s[1]).substr(2),i}}}();function ce(t,e){for(var r="",n=e/4-t.length,i=0;i<n;i++)r+="0";return r+t}function fe(t,e,r){for(var n="",i=0;n.length<e;)n+=Tt(r(Ot(t+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return n}function he(t){for(var e in dt.crypto.Util.DIGESTINFOHEAD){var r=dt.crypto.Util.DIGESTINFOHEAD[e],n=r.length;if(t.substring(0,n)==r)return[e,t.substring(n)]}return[]}function le(t){var e,r=yt,n=r.getChildIdx,i=r.getV,s=(r.dump,r.parse),o=r.getTLV,a=r.getVbyList,u=r.getVbyListEx,c=r.getTLVbyList,f=r.getTLVbyListEx,h=r.getIdxbyList,l=r.getIdxbyListEx,d=r.getVidx,p=r.getInt,g=r.oidname,y=r.hextooidstr,m=Nt,b=Error;try{e=dt.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(t){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var t=c(this.hex,0,[0,0]);if("a0"==t.substr(0,2)){var e=c(t,0,[0]),r=p(e,0);if(r<0||2<r)throw new Error("malformed version field");return this.version=r+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return u(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var t=f(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(t)},this.getAlgorithmIdentifierName=function(t){for(var r in e)if(t===e[r])return r;return g(u(t,0,[0],"06"))},this.getIssuer=function(t,e){return this.getX500Name(this.getIssuerHex(),t,e)},this.getIssuerHex=function(){return c(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(t,e){return this.getX500Name(this.getSubjectHex(),t,e)},this.getSubjectHex=function(){return c(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var t=a(this.hex,0,[0,4+this.foffset,0]);return t=t.replace(/(..)/g,"%$1"),decodeURIComponent(t)},this.getNotAfter=function(){var t=a(this.hex,0,[0,4+this.foffset,1]);return t=t.replace(/(..)/g,"%$1"),decodeURIComponent(t)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return c(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var t=this.getSPKI();return null==t?null:a(t,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return h(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var t=this.getPublicKeyIdx();return h(this.hex,t,[1,0],"30")},this.getPublicKey=function(){return ue.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var t=c(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(t)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(t){var e=this.getSignatureAlgorithmField(),r=this.getSignatureValueHex(),n=c(this.hex,0,[0],"30"),i=new dt.crypto.Signature({alg:e});return i.init(t),i.updateHex(n),i.verify(r)},this.parseExt=function(t){var e,s,o;if(void 0===t){if(o=this.hex,3!==this.version)return-1;e=h(o,0,[0,7,0],"30"),s=n(o,e)}else{o=Nt(t);var u=h(o,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(o,u))return void(this.aExtInfo=new Array);e=h(o,0,[0,3,0,1,0],"30"),s=n(o,e),this.hex=o}this.aExtInfo=new Array;for(var c=0;c<s.length;c++){var f={critical:!1},l=0;3===n(o,s[c]).length&&(f.critical=!0,l=1),f.oid=r.hextooidstr(a(o,s[c],[0],"06"));var p=h(o,s[c],[1+l]);f.vidx=d(o,p),this.aExtInfo.push(f)}},this.getExtInfo=function(t){var e=this.aExtInfo,r=t;if(t.match(/^[0-9.]+$/)||(r=dt.asn1.x509.OID.name2oid(t)),""!==r)for(var n=0;n<e.length;n++)if(e[n].oid===r)return e[n]},this.getCriticalExtV=function(t,e,r){if(null!=e)return[e,r];var n=this.getExtInfo(t);return null==n?[null,null]:[o(this.hex,n.vidx),n.critical]},this.getExtBasicConstraints=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("basicConstraints");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var n={extname:"basicConstraints"};if(e&&(n.critical=!0),"3000"===t)return n;if("30030101ff"===t)return n.cA=!0,n;if("30060101ff02"===t.substr(0,12)){var s=i(t,10),a=parseInt(s,16);return n.cA=!0,n.pathLen=a,n}throw new Error("hExtV parse error: "+t)},this.getExtNameConstraints=function(t,e){var r=this.getCriticalExtV("nameConstraints",t,e);if(t=r[0],e=r[1],null!=t){var i={extname:"nameConstraints"};e&&(i.critical=!0);for(var s=n(t,0),a=0;a<s.length;a++){for(var u=[],c=n(t,s[a]),f=0;f<c.length;f++){var h=o(t,c[f]),l=this.getGeneralSubtree(h);u.push(l)}var d=t.substr(s[a],2);"a0"==d?i.permit=u:"a1"==d&&(i.exclude=u)}return i}},this.getGeneralSubtree=function(t){var e=n(t,0),r=e.length;if(r<1||2<r)throw new Error("wrong num elements");for(var s=this.getGeneralName(o(t,e[0])),a=1;a<r;a++){var u=t.substr(e[a],2),c=i(t,e[a]),f=parseInt(c,16);"80"==u&&(s.min=f),"81"==u&&(s.max=f)}return s},this.getExtKeyUsage=function(t,e){var r=this.getCriticalExtV("keyUsage",t,e);if(t=r[0],e=r[1],null!=t){var n={extname:"keyUsage"};return e&&(n.critical=!0),n.names=this.getExtKeyUsageString(t).split(","),n}},this.getExtKeyUsageBin=function(t){if(void 0===t){var e=this.getExtInfo("keyUsage");if(void 0===e)return"";t=o(this.hex,e.vidx)}if(8!=t.length&&10!=t.length)throw new Error("malformed key usage value: "+t);var r="000000000000000"+parseInt(t.substr(6),16).toString(2);return 8==t.length&&(r=r.slice(-8)),10==t.length&&(r=r.slice(-16)),""==(r=r.replace(/0+$/,""))&&(r="0"),r},this.getExtKeyUsageString=function(t){for(var e=this.getExtKeyUsageBin(t),r=new Array,n=0;n<e.length;n++)"1"==e.substr(n,1)&&r.push(le.KEYUSAGE_NAME[n]);return r.join(",")},this.getExtSubjectKeyIdentifier=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("subjectKeyIdentifier");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var n={extname:"subjectKeyIdentifier"};e&&(n.critical=!0);var s=i(t,0);return n.kid={hex:s},n},this.getExtAuthorityKeyIdentifier=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("authorityKeyIdentifier");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var s={extname:"authorityKeyIdentifier"};e&&(s.critical=!0);for(var a=n(t,0),u=0;u<a.length;u++){var c=t.substr(a[u],2);if("80"===c&&(s.kid={hex:i(t,a[u])}),"a1"===c){var f=o(t,a[u]),h=this.getGeneralNames(f);s.issuer=h[0].dn}"82"===c&&(s.sn={hex:i(t,a[u])})}return s},this.getExtExtKeyUsage=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("extKeyUsage");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var s={extname:"extKeyUsage",array:[]};e&&(s.critical=!0);for(var a=n(t,0),u=0;u<a.length;u++)s.array.push(g(i(t,a[u])));return s},this.getExtExtKeyUsageName=function(){var t=this.getExtInfo("extKeyUsage");if(void 0===t)return t;var e=new Array,r=o(this.hex,t.vidx);if(""===r)return e;for(var s=n(r,0),a=0;a<s.length;a++)e.push(g(i(r,s[a])));return e},this.getExtSubjectAltName=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("subjectAltName");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var n={extname:"subjectAltName",array:[]};return e&&(n.critical=!0),n.array=this.getGeneralNames(t),n},this.getExtIssuerAltName=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("issuerAltName");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var n={extname:"issuerAltName",array:[]};return e&&(n.critical=!0),n.array=this.getGeneralNames(t),n},this.getGeneralNames=function(t){for(var e=n(t,0),r=[],i=0;i<e.length;i++){var s=this.getGeneralName(o(t,e[i]));void 0!==s&&r.push(s)}return r},this.getGeneralName=function(t){var e=t.substr(0,2),r=i(t,0),n=Tt(r);return"81"==e?{rfc822:n}:"82"==e?{dns:n}:"86"==e?{uri:n}:"87"==e?{ip:Kt(r)}:"a4"==e?{dn:this.getX500Name(r)}:"a0"==e?{other:this.getOtherName(t)}:void 0},this.getExtSubjectAltName2=function(){var t,e,r,s=this.getExtInfo("subjectAltName");if(void 0===s)return s;for(var a=new Array,u=o(this.hex,s.vidx),c=n(u,0),f=0;f<c.length;f++)r=u.substr(c[f],2),t=i(u,c[f]),"81"===r&&(e=Pt(t),a.push(["MAIL",e])),"82"===r&&(e=Pt(t),a.push(["DNS",e])),"84"===r&&(e=le.hex2dn(t,0),a.push(["DN",e])),"86"===r&&(e=Pt(t),a.push(["URI",e])),"87"===r&&(e=Kt(t),a.push(["IP",e]));return a},this.getExtCRLDistributionPoints=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("cRLDistributionPoints");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var i={extname:"cRLDistributionPoints",array:[]};e&&(i.critical=!0);for(var s=n(t,0),a=0;a<s.length;a++){var u=o(t,s[a]);i.array.push(this.getDistributionPoint(u))}return i},this.getDistributionPoint=function(t){for(var e={},r=n(t,0),i=0;i<r.length;i++){var s=t.substr(r[i],2),a=o(t,r[i]);"a0"==s&&(e.dpname=this.getDistributionPointName(a))}return e},this.getDistributionPointName=function(t){for(var e={},r=n(t,0),i=0;i<r.length;i++){var s=t.substr(r[i],2),a=o(t,r[i]);"a0"==s&&(e.full=this.getGeneralNames(a))}return e},this.getExtCRLDistributionPointsURI=function(){var t=this.getExtCRLDistributionPoints();if(null==t)return t;for(var e=t.array,r=[],n=0;n<e.length;n++)try{null!=e[n].dpname.full[0].uri&&r.push(e[n].dpname.full[0].uri)}catch(t){}return r},this.getExtAIAInfo=function(){var t=this.getExtInfo("authorityInfoAccess");if(void 0===t)return t;for(var e={ocsp:[],caissuer:[]},r=n(this.hex,t.vidx),i=0;i<r.length;i++){var s=a(this.hex,r[i],[0],"06"),o=a(this.hex,r[i],[1],"86");"2b06010505073001"===s&&e.ocsp.push(Pt(o)),"2b06010505073002"===s&&e.caissuer.push(Pt(o))}return e},this.getExtAuthorityInfoAccess=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("authorityInfoAccess");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var i={extname:"authorityInfoAccess",array:[]};e&&(i.critical=!0);for(var s=n(t,0),c=0;c<s.length;c++){var f=u(t,s[c],[0],"06"),h=Pt(a(t,s[c],[1],"86"));if("2b06010505073001"==f)i.array.push({ocsp:h});else{if("2b06010505073002"!=f)throw new Error("unknown method: "+f);i.array.push({caissuer:h})}}return i},this.getExtCertificatePolicies=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("certificatePolicies");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var i={extname:"certificatePolicies",array:[]};e&&(i.critical=!0);for(var s=n(t,0),a=0;a<s.length;a++){var u=o(t,s[a]),c=this.getPolicyInformation(u);i.array.push(c)}return i},this.getPolicyInformation=function(t){var e={},r=a(t,0,[0],"06");e.policyoid=g(r);var i=l(t,0,[1],"30");if(-1!=i){e.array=[];for(var s=n(t,i),u=0;u<s.length;u++){var c=o(t,s[u]),f=this.getPolicyQualifierInfo(c);e.array.push(f)}}return e},this.getOtherName=function(t){var e={},r=n(t,0),i=a(t,r[0],[],"06"),o=a(t,r[1],[]);return e.oid=g(i),e.value=s(o),e},this.getPolicyQualifierInfo=function(t){var e={},r=a(t,0,[0],"06");if("2b06010505070201"===r){var n=u(t,0,[1],"16");e.cps=Tt(n)}else if("2b06010505070202"===r){var i=c(t,0,[1],"30");e.unotice=this.getUserNotice(i)}return e},this.getUserNotice=function(t){var e=null;try{return e=r.parse(t),this._asn1ToUnotice(e)}catch(t){return}},this._asn1ToUnotice=function(t){try{for(var e={},r=oe(t,"seq"),n=0;n<r.length;n++){var i=this._asn1ToNoticeRef(r[n]);null!=i&&(e.noticeref=i);var s=this.asn1ToDisplayText(r[n]);null!=s&&(e.exptext=s)}return Object.keys(e).length>0?e:void 0}catch(t){return}},this._asn1ToNoticeRef=function(t){try{for(var e={},r=oe(t,"seq"),n=0;n<r.length;n++){var i=this._asn1ToNoticeNum(r[n]);null!=i&&(e.noticenum=i);var s=this.asn1ToDisplayText(r[n]);null!=s&&(e.org=s)}return Object.keys(e).length>0?e:void 0}catch(t){return}},this._asn1ToNoticeNum=function(t){try{for(var e=oe(t,"seq"),r=[],n=0;n<e.length;n++){var i=e[n];r.push(parseInt(oe(i,"int.hex"),16))}return r}catch(t){return}},this.getDisplayText=function(t){var e={};return e.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[t.substr(0,2)],e.str=Tt(i(t,0)),e},this.asn1ToDisplayText=function(t){return null!=t.utf8str?{type:"utf8",str:t.utf8str.str}:null!=t.ia5str?{type:"ia5",str:t.ia5str.str}:null!=t.visstr?{type:"vis",str:t.visstr.str}:null!=t.bmpstr?{type:"bmp",str:t.bmpstr.str}:null!=t.prnstr?{type:"prn",str:t.prnstr.str}:void 0},this.getExtPolicyMappings=function(t,e){var r=this.getCriticalExtV("policyMappings",t,e);if(t=r[0],e=r[1],null!=t){var n={extname:"policyMappings"};e&&(n.critical=!0);try{for(var i=s(t).seq,o=[],a=0;a<i.length;a++){var u=i[a].seq;o.push([u[0].oid,u[1].oid])}n.array=o}catch(t){throw new b("malformed policyMappings")}return n}},this.getExtPolicyConstraints=function(t,e){var r=this.getCriticalExtV("policyConstraints",t,e);if(t=r[0],e=r[1],null!=t){var n={extname:"policyConstraints"};e&&(n.critical=!0);var i=s(t);try{for(var o=i.seq,a=0;a<o.length;a++){var u=o[a].tag;0==u.explicit&&("80"==u.tag&&(n.reqexp=parseInt(u.hex,16)),"81"==u.tag&&(n.inhibit=parseInt(u.hex,16)))}}catch(t){return new b("malformed policyConstraints value")}return n}},this.getExtInhibitAnyPolicy=function(t,e){var r=this.getCriticalExtV("inhibitAnyPolicy",t,e);if(t=r[0],e=r[1],null!=t){var n={extname:"inhibitAnyPolicy"};e&&(n.critical=!0);var i=p(t,0);return-1==i?new b("wrong value"):(n.skip=i,n)}},this.getExtCRLNumber=function(t,e){var r={extname:"cRLNumber"};if(e&&(r.critical=!0),"02"==t.substr(0,2))return r.num={hex:i(t,0)},r;throw new b("hExtV parse error: "+t)},this.getExtCRLReason=function(t,e){var r={extname:"cRLReason"};if(e&&(r.critical=!0),"0a"==t.substr(0,2))return r.code=parseInt(i(t,0),16),r;throw new Error("hExtV parse error: "+t)},this.getExtOcspNonce=function(t,e){var r={extname:"ocspNonce"};e&&(r.critical=!0);var n=i(t,0);return r.hex=n,r},this.getExtOcspNoCheck=function(t,e){var r={extname:"ocspNoCheck"};return e&&(r.critical=!0),r},this.getExtAdobeTimeStamp=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("adobeTimeStamp");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var i={extname:"adobeTimeStamp"};e&&(i.critical=!0);var s=n(t,0);if(s.length>1){var a=o(t,s[1]),u=this.getGeneralName(a);null!=u.uri&&(i.uri=u.uri)}if(s.length>2){var c=o(t,s[2]);"0101ff"==c&&(i.reqauth=!0),"010100"==c&&(i.reqauth=!1)}return i},this.getExtSubjectDirectoryAttributes=function(t,e){if(void 0===t&&void 0===e){var r=this.getExtInfo("subjectDirectoryAttributes");if(void 0===r)return;t=o(this.hex,r.vidx),e=r.critical}var n={extname:"subjectDirectoryAttributes"};e&&(n.critical=!0);try{for(var i=s(t),a=[],u=0;u<i.seq.length;u++){var c=i.seq[u],f=oe(c,"seq.0.oid"),h=oe(c,"seq.1.set");if(null==f||null==h)throw"error";a.push({attr:f,array:h})}return n.array=a,n}catch(t){throw new Error("malformed subjectDirectoryAttributes extension value")}};var v=function(t){var e={};try{var r=t.seq[0].oid,n=dt.asn1.x509.OID.name2oid(r);e.type=dt.asn1.x509.OID.oid2atype(n);var i=t.seq[1];if(null!=i.utf8str)e.ds="utf8",e.value=i.utf8str.str;else if(null!=i.numstr)e.ds="num",e.value=i.numstr.str;else if(null!=i.telstr)e.ds="tel",e.value=i.telstr.str;else if(null!=i.prnstr)e.ds="prn",e.value=i.prnstr.str;else if(null!=i.ia5str)e.ds="ia5",e.value=i.ia5str.str;else if(null!=i.visstr)e.ds="vis",e.value=i.visstr.str;else{if(null==i.bmpstr)throw"error";e.ds="bmp",e.value=i.bmpstr.str}return e}catch(t){throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},w=function(t){try{return t.set.map((function(t){return v(t)}))}catch(t){throw new Error("improper ASN.1 parsed RDN: "+t)}};this.getX500NameRule=function(t){for(var e=null,r=[],n=0;n<t.length;n++)for(var i=t[n],s=0;s<i.length;s++)r.push(i[s]);for(n=0;n<r.length;n++){var o=r[n],a=o.ds,u=o.value,c=o.type;if("prn"!=a&&"utf8"!=a&&"ia5"!=a)return"mixed";if("ia5"==a){if("CN"!=c)return"mixed";if(dt.lang.String.isMail(u))continue;return"mixed"}if("C"==c){if("prn"==a)continue;return"mixed"}if(null==e)e=a;else if(e!==a)return"mixed"}return null==e?"prn":e},this.getAttrTypeAndValue=function(t){var e=s(t);return v(e)},this.getRDN=function(t){var e=s(t);return w(e)},this.getX500NameArray=function(t){return function(t){try{return t.seq.map((function(t){return w(t)}))}catch(t){throw new Error("improper ASN.1 parsed X500Name: "+t)}}(s(t))},this.getX500Name=function(t,e,r){var n=this.getX500NameArray(t),i={str:this.dnarraytostr(n)};return i.array=n,1==r&&(i.hex=t),1==e&&(i.canon=this.c14nRDNArray(n)),i},this.readCertPEM=function(t){this.readCertHex(m(t))},this.readCertHex=function(t){this.hex=t,this.getVersion();try{h(this.hex,0,[0,7],"a3"),this.parseExt()}catch(t){}},this.getParam=function(t){var e={};return null==t&&(t={}),e.version=this.getVersion(),e.serial={hex:this.getSerialNumberHex()},e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(t.dncanon,t.dnhex),e.notbefore=this.getNotBefore(),e.notafter=this.getNotAfter(),e.subject=this.getSubject(t.dncanon,t.dnhex),e.sbjpubkey=Rt(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(e.ext=this.getExtParamArray()),e.sighex=this.getSignatureValueHex(),1==t.tbshex&&(e.tbshex=c(this.hex,0,[0])),1==t.nodnarray&&(delete e.issuer.array,delete e.subject.array),e},this.getExtParamArray=function(t){null==t&&-1!=l(this.hex,0,[0,"[3]"])&&(t=f(this.hex,0,[0,"[3]",0],"30"));for(var e=[],r=n(t,0),i=0;i<r.length;i++){var s=o(t,r[i]),a=this.getExtParam(s);null!=a&&e.push(a)}return e},this.getExtParam=function(t){var e=n(t,0).length;if(2!=e&&3!=e)throw new Error("wrong number elements in Extension: "+e+" "+t);var r=y(a(t,0,[0],"06")),i=!1;3==e&&"0101ff"==c(t,0,[1])&&(i=!0);var o=c(t,0,[e-1,0]),u=void 0;if("2.5.29.14"==r?u=this.getExtSubjectKeyIdentifier(o,i):"2.5.29.15"==r?u=this.getExtKeyUsage(o,i):"2.5.29.17"==r?u=this.getExtSubjectAltName(o,i):"2.5.29.18"==r?u=this.getExtIssuerAltName(o,i):"2.5.29.19"==r?u=this.getExtBasicConstraints(o,i):"2.5.29.30"==r?u=this.getExtNameConstraints(o,i):"2.5.29.31"==r?u=this.getExtCRLDistributionPoints(o,i):"2.5.29.32"==r?u=this.getExtCertificatePolicies(o,i):"2.5.29.33"==r?u=this.getExtPolicyMappings(o,i):"2.5.29.35"==r?u=this.getExtAuthorityKeyIdentifier(o,i):"2.5.29.36"==r?u=this.getExtPolicyConstraints(o,i):"2.5.29.37"==r?u=this.getExtExtKeyUsage(o,i):"2.5.29.54"==r?u=this.getExtInhibitAnyPolicy(o,i):"1.3.6.1.5.5.7.1.1"==r?u=this.getExtAuthorityInfoAccess(o,i):"2.5.29.20"==r?u=this.getExtCRLNumber(o,i):"2.5.29.21"==r?u=this.getExtCRLReason(o,i):"2.5.29.9"==r?u=this.getExtSubjectDirectoryAttributes(o,i):"1.3.6.1.5.5.7.48.1.2"==r?u=this.getExtOcspNonce(o,i):"1.3.6.1.5.5.7.48.1.5"==r?u=this.getExtOcspNoCheck(o,i):"1.2.840.113583.1.1.9.1"==r?u=this.getExtAdobeTimeStamp(o,i):null!=le.EXT_PARSER[r]&&(u=le.EXT_PARSER[r](r,i,o)),null!=u)return u;var f={extname:r,extn:o};try{f.extn=s(o)}catch(t){}return i&&(f.critical=!0),f},this.findExt=function(t,e){for(var r=0;r<t.length;r++)if(t[r].extname==e)return t[r];return null},this.updateExtCDPFullURI=function(t,e){var r=this.findExt(t,"cRLDistributionPoints");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)if(null!=n[i].dpname&&null!=n[i].dpname.full)for(var s=n[i].dpname.full,o=0;o<s.length;o++){var a=s[i];null!=a.uri&&(a.uri=e)}},this.updateExtAIAOCSP=function(t,e){var r=this.findExt(t,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)null!=n[i].ocsp&&(n[i].ocsp=e)},this.updateExtAIACAIssuer=function(t,e){var r=this.findExt(t,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)null!=n[i].caissuer&&(n[i].caissuer=e)},this.dnarraytostr=function(t){return"/"+t.map((function(t){return function(t){return t.map((function(t){return function(t){return t.type+"="+t.value}(t).replace(/\+/,"\\+")})).join("+")}(t).replace(/\//,"\\/")})).join("/")},this.setCanonicalizedDN=function(t){var e;if(null!=t.str&&null==t.array){var r=new dt.asn1.x509.X500Name({str:t.str}).tohex();e=this.getX500NameArray(r)}else e=t.array;null==t.canon&&(t.canon=this.c14nRDNArray(e))},this.c14nRDNArray=function(t){for(var e=[],r=0;r<t.length;r++){for(var n=t[r],i=[],s=0;s<n.length;s++){var o=n[s],a=o.value;a=(a=(a=(a=a.replace(/^\s*/,"")).replace(/\s*$/,"")).replace(/\s+/g," ")).toLowerCase(),i.push(o.type.toLowerCase()+"="+a)}e.push(i.join("+"))}return"/"+e.join("/")},this.getInfo=function(){var t,e,r,n=function(t){for(var e="",r="    ",n="\n",i=t.array,s=0;s<i.length;s++){var o=i[s];null!=o.dn&&(e+=r+"dn: "+o.dn.str+n),null!=o.ip&&(e+=r+"ip: "+o.ip+n),null!=o.rfc822&&(e+=r+"rfc822: "+o.rfc822+n),null!=o.dns&&(e+=r+"dns: "+o.dns+n),null!=o.uri&&(e+=r+"uri: "+o.uri+n),null!=o.other&&(e+=r+"other: "+o.other.oid+"="+JSON.stringify(o.other.value).replace(/\"/g,"")+n)}return e.replace(/\n$/,"")},i=function(t){for(var e="",r=t.array,n=0;n<r.length;n++){var i=r[n];if(e+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var s=0;s<i.array.length;s++){var o=i.array[s];void 0!==o.cps&&(e+="    cps: "+o.cps+"\n")}}return e},s=function(t){for(var e="",r=t.array,n=0;n<r.length;n++){var i=r[n];try{void 0!==i.dpname.full[0].uri&&(e+="    "+i.dpname.full[0].uri+"\n")}catch(t){}try{void 0!==i.dname.full[0].dn.hex&&(e+="    "+le.hex2dn(i.dpname.full[0].dn.hex)+"\n")}catch(t){}}return e},o=function(t){for(var e="",r=t.array,n=0;n<r.length;n++){var i=r[n];void 0!==i.caissuer&&(e+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(e+="    ocsp: "+i.ocsp+"\n")}return e};if(t="Basic Fields\n",t+="  serial number: "+this.getSerialNumberHex()+"\n",t+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",t+="  issuer: "+this.getIssuerString()+"\n",t+="  notBefore: "+this.getNotBefore()+"\n",t+="  notAfter: "+this.getNotAfter()+"\n",t+="  subject: "+this.getSubjectString()+"\n",t+="  subject public key info: \n",t+="    key algorithm: "+(e=this.getPublicKey()).type+"\n","RSA"===e.type&&(t+="    n="+Jt(e.n.toString(16)).substr(0,16)+"...\n",t+="    e="+Jt(e.e.toString(16))+"\n"),null!=(r=this.aExtInfo)){t+="X509v3 Extensions:\n";for(var a=0;a<r.length;a++){var u=r[a],c=dt.asn1.x509.OID.oid2name(u.oid);""===c&&(c=u.oid);var f="";if(!0===u.critical&&(f="CRITICAL"),t+="  "+c+" "+f+":\n","basicConstraints"===c){var h=this.getExtBasicConstraints();void 0===h.cA?t+="    {}\n":(t+="    cA=true",void 0!==h.pathLen&&(t+=", pathLen="+h.pathLen),t+="\n")}else{var l;if("policyMappings"==c)t+="    "+this.getExtPolicyMappings().array.map((function(t){var e=t;return e[0]+":"+e[1]})).join(", ")+"\n";else if("policyConstraints"==c)t+="    ",null!=(l=this.getExtPolicyConstraints()).reqexp&&(t+=" reqexp="+l.reqexp),null!=l.inhibit&&(t+=" inhibit="+l.inhibit),t+="\n";else if("inhibitAnyPolicy"==c)t+="    skip="+(l=this.getExtInhibitAnyPolicy()).skip+"\n";else if("keyUsage"==c)t+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"==c)t+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"==c){var d=this.getExtAuthorityKeyIdentifier();void 0!==d.kid&&(t+="    kid="+d.kid.hex+"\n")}else"extKeyUsage"==c?t+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"==c?t+=n(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"==c?t+=s(this.getExtCRLDistributionPoints()):"authorityInfoAccess"==c?t+=o(this.getExtAuthorityInfoAccess()):"certificatePolicies"==c&&(t+=i(this.getExtCertificatePolicies()))}}}return(t+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?this.readCertPEM(t):dt.lang.String.isHex(t)&&this.readCertHex(t))}ue.getKey=function(t,e,r){var n,i=(m=yt).getChildIdx,s=(m.getV,m.getVbyList),o=dt.crypto,a=o.ECDSA,u=o.DSA,c=at,f=Nt,h=ue;if(void 0!==c&&t instanceof c)return t;if(void 0!==a&&t instanceof a)return t;if(void 0!==u&&t instanceof u)return t;if(void 0!==t.curve&&void 0!==t.xy&&void 0===t.d)return new a({pub:t.xy,curve:t.curve});if(void 0!==t.curve&&void 0!==t.d)return new a({prv:t.d,curve:t.curve});if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(O=new c).setPublic(t.n,t.e),O;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.co&&void 0===t.qi)return(O=new c).setPrivateEx(t.n,t.e,t.d,t.p,t.q,t.dp,t.dq,t.co),O;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0===t.p)return(O=new c).setPrivate(t.n,t.e,t.d),O;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0===t.x)return(O=new u).setPublic(t.p,t.q,t.g,t.y),O;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0!==t.x)return(O=new u).setPrivate(t.p,t.q,t.g,t.y,t.x),O;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(O=new c).setPublic(_t(t.n),_t(t.e)),O;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.qi)return(O=new c).setPrivateEx(_t(t.n),_t(t.e),_t(t.d),_t(t.p),_t(t.q),_t(t.dp),_t(t.dq),_t(t.qi)),O;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d)return(O=new c).setPrivate(_t(t.n),_t(t.e),_t(t.d)),O;if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0===t.d){var l=(T=new a({curve:t.crv})).ecparams.keycharlen,d="04"+("0000000000"+_t(t.x)).slice(-l)+("0000000000"+_t(t.y)).slice(-l);return T.setPublicKeyHex(d),T}if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0!==t.d){l=(T=new a({curve:t.crv})).ecparams.keycharlen,d="04"+("0000000000"+_t(t.x)).slice(-l)+("0000000000"+_t(t.y)).slice(-l);var p=("0000000000"+_t(t.d)).slice(-l);return T.setPublicKeyHex(d),T.setPrivateKeyHex(p),T}if("pkcs5prv"===r){var g,y=t,m=yt;if(9===(g=i(y,0)).length)(O=new c).readPKCS5PrvKeyHex(y);else if(6===g.length)(O=new u).readPKCS5PrvKeyHex(y);else{if(!(g.length>2&&"04"===y.substr(g[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(O=new a).readPKCS5PrvKeyHex(y)}return O}if("pkcs8prv"===r)return h.getKeyFromPlainPrivatePKCS8Hex(t);if("pkcs8pub"===r)return h._getKeyFromPublicPKCS8Hex(t);if("x509pub"===r)return le.getPublicKeyFromCertHex(t);if(-1!=t.indexOf("-END CERTIFICATE-",0)||-1!=t.indexOf("-END X509 CERTIFICATE-",0)||-1!=t.indexOf("-END TRUSTED CERTIFICATE-",0))return le.getPublicKeyFromCertPEM(t);if(-1!=t.indexOf("-END PUBLIC KEY-")){var b=Nt(t,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(b)}if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var v=f(t,"RSA PRIVATE KEY");return h.getKey(v,null,"pkcs5prv")}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var w=s(n=f(t,"DSA PRIVATE KEY"),0,[1],"02"),S=s(n,0,[2],"02"),E=s(n,0,[3],"02"),x=s(n,0,[4],"02"),A=s(n,0,[5],"02");return(O=new u).setPrivate(new _(w,16),new _(S,16),new _(E,16),new _(x,16),new _(A,16)),O}if(-1!=t.indexOf("-END EC PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED"))return v=f(t,"EC PRIVATE KEY"),h.getKey(v,null,"pkcs5prv");if(-1!=t.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(t);if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var P=h.getDecryptedKeyHex(t,e),I=new at;return I.readPKCS5PrvKeyHex(P),I}if(-1!=t.indexOf("-END EC PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var T,O=s(n=h.getDecryptedKeyHex(t,e),0,[1],"04"),B=s(n,0,[2,0],"06"),k=s(n,0,[3,0],"03").substr(2);if(void 0===dt.crypto.OID.oidhex2name[B])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+B);return(T=new a({curve:dt.crypto.OID.oidhex2name[B]})).setPublicKeyHex(k),T.setPrivateKeyHex(O),T.isPublic=!1,T}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED"))return w=s(n=h.getDecryptedKeyHex(t,e),0,[1],"02"),S=s(n,0,[2],"02"),E=s(n,0,[3],"02"),x=s(n,0,[4],"02"),A=s(n,0,[5],"02"),(O=new u).setPrivate(new _(w,16),new _(S,16),new _(E,16),new _(x,16),new _(A,16)),O;if(-1!=t.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(t,e);throw new Error("not supported argument")},ue.generateKeypair=function(t,e){if("RSA"==t){var r=e;(o=new at).generate(r,"10001"),o.isPrivate=!0,o.isPublic=!0;var n=new at,i=o.n.toString(16),s=o.e.toString(16);return n.setPublic(i,s),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=o,a.pubKeyObj=n,a}if("EC"==t){var o,a,u=e,c=new dt.crypto.ECDSA({curve:u}).generateKeyPairHex();return(o=new dt.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),o.setPrivateKeyHex(c.ecprvhex),o.isPrivate=!0,o.isPublic=!1,(n=new dt.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=o,a.pubKeyObj=n,a}throw new Error("unknown algorithm: "+t)},ue.getPEM=function(t,e,r,n,i,s){var o=dt,a=o.asn1,u=a.DERObjectIdentifier,c=a.DERInteger,f=a.ASN1Util.newObject,h=a.x509.SubjectPublicKeyInfo,l=o.crypto,d=l.DSA,p=l.ECDSA,g=at;function y(t){return f({seq:[{int:0},{int:{bigint:t.n}},{int:t.e},{int:{bigint:t.d}},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.dmp1}},{int:{bigint:t.dmq1}},{int:{bigint:t.coeff}}]})}function m(t){return f({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a0",!0,{oid:{name:t.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]})}function b(t){return f({seq:[{int:0},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}},{int:{bigint:t.y}},{int:{bigint:t.x}}]})}if((void 0!==g&&t instanceof g||void 0!==d&&t instanceof d||void 0!==p&&t instanceof p)&&1==t.isPublic&&(void 0===e||"PKCS8PUB"==e))return Rt(E=new h(t).tohex(),"PUBLIC KEY");if("PKCS1PRV"==e&&void 0!==g&&t instanceof g&&(void 0===r||null==r)&&1==t.isPrivate)return Rt(E=y(t).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==e&&void 0!==p&&t instanceof p&&(void 0===r||null==r)&&1==t.isPrivate){var v=new u({name:t.curveName}).tohex(),w=m(t).tohex(),S="";return(S+=Rt(v,"EC PARAMETERS"))+Rt(w,"EC PRIVATE KEY")}if("PKCS1PRV"==e&&void 0!==d&&t instanceof d&&(void 0===r||null==r)&&1==t.isPrivate)return Rt(E=b(t).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==e&&void 0!==g&&t instanceof g&&void 0!==r&&null!=r&&1==t.isPrivate){var E=y(t).tohex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",E,r,n,s)}if("PKCS5PRV"==e&&void 0!==p&&t instanceof p&&void 0!==r&&null!=r&&1==t.isPrivate)return E=m(t).tohex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",E,r,n,s);if("PKCS5PRV"==e&&void 0!==d&&t instanceof d&&void 0!==r&&null!=r&&1==t.isPrivate)return E=b(t).tohex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",E,r,n,s);var x=function(t,e){if("string"==typeof e)return ue.getEncryptedPKCS8PEM(t,e);if("object"==typeof e&&null!=oe(e,"passcode")){var r=JSON.parse(JSON.stringify(e)),n=r.passcode;return delete r.passcode,ue.getEncryptedPKCS8PEM(t,n,r)}};if("PKCS8PRV"==e&&null!=g&&t instanceof g&&1==t.isPrivate){var _=y(t).tohex();return E=f({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:_}}]}).tohex(),void 0===r||null==r?Rt(E,"PRIVATE KEY"):x(E,r)}if("PKCS8PRV"==e&&void 0!==p&&t instanceof p&&1==t.isPrivate){var A={seq:[{int:1},{octstr:{hex:t.prvKeyHex}}]};return"string"==typeof t.pubKeyHex&&A.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}),_=new f(A).tohex(),E=f({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:t.curveName}}]},{octstr:{hex:_}}]}).tohex(),void 0===r||null==r?Rt(E,"PRIVATE KEY"):x(E,r)}if("PKCS8PRV"==e&&void 0!==d&&t instanceof d&&1==t.isPrivate)return _=new c({bigint:t.x}).tohex(),E=f({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}]},{octstr:{hex:_}}]}).tohex(),void 0===r||null==r?Rt(E,"PRIVATE KEY"):x(E,r);throw new Error("unsupported object nor format")},ue.getKeyFromCSRPEM=function(t){var e=Nt(t,"CERTIFICATE REQUEST");return ue.getKeyFromCSRHex(e)},ue.getKeyFromCSRHex=function(t){var e=ue.parseCSRHex(t);return ue.getKey(e.p8pubkeyhex,null,"pkcs8pub")},ue.parseCSRHex=function(t){var e=yt,r=e.getChildIdx,n=e.getTLV,i={},s=t;if("30"!=s.substr(0,2))throw new Error("malformed CSR(code:001)");var o=r(s,0);if(o.length<1)throw new Error("malformed CSR(code:002)");if("30"!=s.substr(o[0],2))throw new Error("malformed CSR(code:003)");var a=r(s,o[0]);if(a.length<3)throw new Error("malformed CSR(code:004)");return i.p8pubkeyhex=n(s,a[2]),i},ue.getKeyID=function(t){var e=ue,r=yt;"string"==typeof t&&-1!=t.indexOf("BEGIN ")&&(t=e.getKey(t));var n=Nt(e.getPEM(t)),i=r.getIdxbyList(n,0,[1]),s=r.getV(n,i).substring(2);return dt.crypto.Util.hashHex(s,"sha1")},ue.getJWK=function(t,e,r,n,i){var s,o,a={},u=dt.crypto.Util.hashHex;if("string"==typeof t)s=ue.getKey(t),-1!=t.indexOf("CERTIFICATE")&&(o=Nt(t));else{if("object"!=typeof t)throw new Error("unsupported keyinfo type");t instanceof le?(s=t.getPublicKey(),o=t.hex):s=t}if(s instanceof at&&s.isPrivate)a.kty="RSA",a.n=xt(s.n.toString(16)),a.e=xt(s.e.toString(16)),a.d=xt(s.d.toString(16)),a.p=xt(s.p.toString(16)),a.q=xt(s.q.toString(16)),a.dp=xt(s.dmp1.toString(16)),a.dq=xt(s.dmq1.toString(16)),a.qi=xt(s.coeff.toString(16));else if(s instanceof at&&s.isPublic)a.kty="RSA",a.n=xt(s.n.toString(16)),a.e=xt(s.e.toString(16));else if(s instanceof dt.crypto.ECDSA&&s.isPrivate){if("P-256"!==(f=s.getShortNISTPCurveName())&&"P-384"!==f&&"P-521"!==f)throw new Error("unsupported curve name for JWT: "+f);var c=s.getPublicKeyXYHex();a.kty="EC",a.crv=f,a.x=xt(c.x),a.y=xt(c.y),a.d=xt(s.prvKeyHex)}else if(s instanceof dt.crypto.ECDSA&&s.isPublic){var f;if("P-256"!==(f=s.getShortNISTPCurveName())&&"P-384"!==f&&"P-521"!==f)throw new Error("unsupported curve name for JWT: "+f);c=s.getPublicKeyXYHex(),a.kty="EC",a.crv=f,a.x=xt(c.x),a.y=xt(c.y)}if(null==a.kty)throw new Error("unsupported keyinfo");return s.isPrivate||1==e||(a.kid=dt.jws.JWS.getJWKthumbprint(a)),null!=o&&1!=r&&(a.x5c=[S(o)]),null!=o&&1!=n&&(a.x5t=St(S(u(o,"sha1")))),null!=o&&1!=i&&(a["x5t#S256"]=St(S(u(o,"sha256")))),a},ue.getJWKFromKey=function(t){return ue.getJWK(t,!0,!0,!0,!0)},at.getPosArrayOfChildrenFromHex=function(t){return yt.getChildIdx(t,0)},at.getHexValueArrayOfChildrenFromHex=function(t){var e,r=yt.getV,n=r(t,(e=at.getPosArrayOfChildrenFromHex(t))[0]),i=r(t,e[1]),s=r(t,e[2]),o=r(t,e[3]),a=r(t,e[4]),u=r(t,e[5]),c=r(t,e[6]),f=r(t,e[7]),h=r(t,e[8]);return(e=new Array).push(n,i,s,o,a,u,c,f,h),e},at.prototype.readPrivateKeyFromPEMString=function(t){var e=Nt(t),r=at.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},at.prototype.readPKCS5PrvKeyHex=function(t){var e=at.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},at.prototype.readPKCS8PrvKeyHex=function(t){var e,r,n,i,s,o,a,u,c=yt,f=c.getVbyListEx;if(!1===c.isASN1HEX(t))throw new Error("not ASN.1 hex string");try{e=f(t,0,[2,0,1],"02"),r=f(t,0,[2,0,2],"02"),n=f(t,0,[2,0,3],"02"),i=f(t,0,[2,0,4],"02"),s=f(t,0,[2,0,5],"02"),o=f(t,0,[2,0,6],"02"),a=f(t,0,[2,0,7],"02"),u=f(t,0,[2,0,8],"02")}catch(t){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(e,r,n,i,s,o,a,u)},at.prototype.readPKCS5PubKeyHex=function(t){var e=yt,r=e.getV;if(!1===e.isASN1HEX(t))throw new Error("keyHex is not ASN.1 hex string");var n=e.getChildIdx(t,0);if(2!==n.length||"02"!==t.substr(n[0],2)||"02"!==t.substr(n[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=r(t,n[0]),s=r(t,n[1]);this.setPublic(i,s)},at.prototype.readPKCS8PubKeyHex=function(t){var e=yt;if(!1===e.isASN1HEX(t))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==e.getTLVbyListEx(t,0,[0,0]))throw new Error("not PKCS8 RSA public key");var r=e.getTLVbyListEx(t,0,[1,0]);this.readPKCS5PubKeyHex(r)},at.prototype.readCertPubKeyHex=function(t,e){var r,n;(r=new le).readCertHex(t),n=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)},at.prototype.sign=function(t,e){var r=function(t){return dt.crypto.Util.hashString(t,e)}(t);return this.signWithMessageHash(r,e)},at.prototype.signWithMessageHash=function(t,e){var r=st(dt.crypto.Util.getPaddedDigestInfoHex(t,e,this.n.bitLength()),16);return ce(this.doPrivate(r).toString(16),this.n.bitLength())},at.prototype.signPSS=function(t,e,r){var n,i=(n=Ot(t),dt.crypto.Util.hashHex(n,e));return void 0===r&&(r=-1),this.signWithMessageHashPSS(i,e,r)},at.prototype.signWithMessageHashPSS=function(t,e,r){var n,i=Tt(t),s=i.length,o=this.n.bitLength()-1,a=Math.ceil(o/8),u=function(t){return dt.crypto.Util.hashHex(t,e)};if(-1===r||void 0===r)r=s;else if(-2===r)r=a-s-2;else if(r<-2)throw new Error("invalid salt length");if(a<s+r+2)throw new Error("data too long");var c="";r>0&&(c=new Array(r),(new it).nextBytes(c),c=String.fromCharCode.apply(String,c));var f=Tt(u(Ot("\0\0\0\0\0\0\0\0"+i+c))),h=[];for(n=0;n<a-r-s-2;n+=1)h[n]=0;var l=String.fromCharCode.apply(String,h)+""+c,d=fe(f,l.length,u),p=[];for(n=0;n<l.length;n+=1)p[n]=l.charCodeAt(n)^d.charCodeAt(n);var g=65280>>8*a-o&255;for(p[0]&=~g,n=0;n<s;n++)p.push(f.charCodeAt(n));return p.push(188),ce(this.doPrivate(new _(p)).toString(16),this.n.bitLength())},at.prototype.verify=function(t,e){if(null==(e=e.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var r=st(e,16),n=this.n.bitLength();if(r.bitLength()>n)return!1;var i=this.doPublic(r).toString(16);if(i.length+3!=n/4)return!1;var s=he(i.replace(/^1f+00/,""));if(0==s.length)return!1;var o=s[0],a=s[1],u=function(t){return dt.crypto.Util.hashString(t,o)}(t);return a==u},at.prototype.verifyWithMessageHash=function(t,e){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var r=st(e,16);if(r.bitLength()>this.n.bitLength())return 0;var n=he(this.doPublic(r).toString(16).replace(/^1f+00/,""));return 0!=n.length&&(n[0],n[1]==t)},at.prototype.verifyPSS=function(t,e,r,n){var i,s=(i=Ot(t),dt.crypto.Util.hashHex(i,r));return void 0===n&&(n=-1),this.verifyWithMessageHashPSS(s,e,r,n)},at.prototype.verifyWithMessageHashPSS=function(t,e,r,n){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,s=new _(e,16),o=function(t){return dt.crypto.Util.hashHex(t,r)},a=Tt(t),u=a.length,c=this.n.bitLength()-1,f=Math.ceil(c/8);if(-1===n||void 0===n)n=u;else if(-2===n)n=f-u-2;else if(n<-2)throw new Error("invalid salt length");if(f<u+n+2)throw new Error("data too long");var h=this.doPublic(s).toByteArray();for(i=0;i<h.length;i+=1)h[i]&=255;for(;h.length<f;)h.unshift(0);if(188!==h[f-1])throw new Error("encoded message does not end in 0xbc");var l=(h=String.fromCharCode.apply(String,h)).substr(0,f-u-1),d=h.substr(l.length,u),p=65280>>8*f-c&255;if(0!=(l.charCodeAt(0)&p))throw new Error("bits beyond keysize not zero");var g=fe(d,l.length,o),y=[];for(i=0;i<l.length;i+=1)y[i]=l.charCodeAt(i)^g.charCodeAt(i);y[0]&=~p;var m=f-u-n-2;for(i=0;i<m;i+=1)if(0!==y[i])throw new Error("leftmost octets not zero");if(1!==y[m])throw new Error("0x01 marker not found");return d===Tt(o(Ot("\0\0\0\0\0\0\0\0"+a+String.fromCharCode.apply(String,y.slice(-n)))))},at.SALT_LEN_HLEN=-1,at.SALT_LEN_MAX=-2,at.SALT_LEN_RECOVER=-2,le.EXT_PARSER={},le.registExtParser=function(t,e){le.EXT_PARSER[t]=e},le.hex2dn=function(t,e){void 0===e&&(e=0);var r=new le;return yt.getTLV(t,e),r.getX500Name(t).str},le.hex2rdn=function(t,e){if(void 0===e&&(e=0),"31"!==t.substr(e,2))throw new Error("malformed RDN");for(var r=new Array,n=yt.getChildIdx(t,e),i=0;i<n.length;i++)r.push(le.hex2attrTypeValue(t,n[i]));return r=r.map((function(t){return t.replace("+","\\+")})),r.join("+")},le.hex2attrTypeValue=function(t,e){var r=yt,n=r.getV;if(void 0===e&&(e=0),"30"!==t.substr(e,2))throw new Error("malformed attribute type and value");var i=r.getChildIdx(t,e);2!==i.length||t.substr(i[0],2);var s=n(t,i[0]),o=dt.asn1.ASN1Util.oidHexToInt(s);return dt.asn1.x509.OID.oid2atype(o)+"="+Tt(n(t,i[1]))},le.getPublicKeyFromCertHex=function(t){var e=new le;return e.readCertHex(t),e.getPublicKey()},le.getPublicKeyFromCertPEM=function(t){var e=new le;return e.readCertPEM(t),e.getPublicKey()},le.getPublicKeyInfoPropOfCertPEM=function(t){var e,r,n=yt.getVbyList,i={algparam:null};return(e=new le).readCertPEM(t),r=e.getPublicKeyHex(),i.keyhex=n(r,0,[1],"03").substr(2),i.algoid=n(r,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=n(r,0,[0,1],"06")),i},le.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==dt&&dt||(dt={}),void 0!==dt.jws&&dt.jws||(dt.jws={}),dt.jws.JWS=function(){var t=dt.jws.JWS.isSafeJSONString;this.parseJWS=function(e,r){if(void 0===this.parsedJWS||!r&&void 0===this.parsedJWS.sigvalH){var n=e.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==n)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=n[1],s=n[2],o=n[3],a=i+"."+s;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=s,this.parsedJWS.sigvalB64U=o,this.parsedJWS.si=a,!r){var u=_t(o),c=st(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=c}var f=gt(i),h=gt(s);if(this.parsedJWS.headS=f,this.parsedJWS.payloadS=h,!t(f,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+f}}},dt.jws.JWS.sign=function(t,e,r,n,i){var s,o,a,u=dt,c=u.jws.JWS,f=c.readSafeJSONString,h=c.isSafeJSONString,l=u.crypto,d=(l.ECDSA,l.Mac),p=l.Signature,g=JSON;if("string"!=typeof e&&"object"!=typeof e)throw"spHeader must be JSON string or object: "+e;if("object"==typeof e&&(o=e,s=g.stringify(o)),"string"==typeof e){if(!h(s=e))throw"JWS Head is not safe JSON string: "+s;o=f(s)}if(a=r,"object"==typeof r&&(a=g.stringify(r)),""!=t&&null!=t||void 0===o.alg||(t=o.alg),""!=t&&null!=t&&void 0===o.alg&&(o.alg=t,s=g.stringify(o)),t!==o.alg)throw"alg and sHeader.alg doesn't match: "+t+"!="+o.alg;var y=null;if(void 0===c.jwsalg2sigalg[t])throw"unsupported alg name: "+t;y=c.jwsalg2sigalg[t];var m=pt(s)+"."+pt(a),b="";if("Hmac"==y.substr(0,4)){if(void 0===n)throw"mac key shall be specified for HS* alg";var v=new d({alg:y,prov:"cryptojs",pass:n});v.updateString(m),b=v.doFinal()}else if(-1!=y.indexOf("withECDSA")){(S=new p({alg:y})).init(n,i),S.updateString(m);var w=S.sign();b=dt.crypto.ECDSA.asn1SigToConcatSig(w)}else{var S;"none"!=y&&((S=new p({alg:y})).init(n,i),S.updateString(m),b=S.sign())}return m+"."+xt(b)},dt.jws.JWS.verify=function(t,e,r){var n,i=dt,s=i.jws.JWS,o=s.readSafeJSONString,a=i.crypto,u=a.ECDSA,c=a.Mac,f=a.Signature;if(n=at,!Xt(t))return!1;var h=t.split(".");if(3!==h.length)return!1;var l,d=h[0]+"."+h[1],p=_t(h[2]),g=o(gt(h[0])),y=null;if(void 0===g.alg)throw"algorithm not specified in header";if(l=(y=g.alg).substr(0,2),null!=r&&"[object Array]"===Object.prototype.toString.call(r)&&r.length>0&&-1==(":"+r.join(":")+":").indexOf(":"+y+":"))throw"algorithm '"+y+"' not accepted in the list";if("none"!=y&&null===e)throw"key shall be specified to verify.";if("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&(e=ue.getKey(e)),!("RS"!=l&&"PS"!=l||e instanceof n))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==l&&!(e instanceof u))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===s.jwsalg2sigalg[g.alg])throw"unsupported alg name: "+y;if("none"==(m=s.jwsalg2sigalg[y]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===e)throw"hexadecimal key shall be specified for HMAC";var b=new c({alg:m,pass:e});return b.updateString(d),p==b.doFinal()}if(-1!=m.indexOf("withECDSA")){var v,w=null;try{w=u.concatSigToASN1Sig(p)}catch(t){return!1}return(v=new f({alg:m})).init(e),v.updateString(d),v.verify(w)}return(v=new f({alg:m})).init(e),v.updateString(d),v.verify(p)},dt.jws.JWS.parse=function(t){var e,r,n,i=t.split("."),s={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return e=i[0],r=i[1],3==i.length&&(n=i[2]),s.headerObj=dt.jws.JWS.readSafeJSONString(gt(e)),s.payloadObj=dt.jws.JWS.readSafeJSONString(gt(r)),s.headerPP=JSON.stringify(s.headerObj,null,"  "),null==s.payloadObj?s.payloadPP=gt(r):s.payloadPP=JSON.stringify(s.payloadObj,null,"  "),void 0!==n&&(s.sigHex=_t(n)),s},dt.jws.JWS.verifyJWT=function(t,e,r){var n=dt.jws,i=n.JWS,s=i.readSafeJSONString,o=i.inArray,a=i.includedArray;if(!Xt(t))return!1;var u=t.split(".");if(3!=u.length)return!1;var c=u[0],f=u[1],h=(_t(u[2]),s(gt(c))),l=s(gt(f));if(void 0===h.alg)return!1;if(void 0===r.alg)throw"acceptField.alg shall be specified";if(!o(h.alg,r.alg))return!1;if(void 0!==l.iss&&"object"==typeof r.iss&&!o(l.iss,r.iss))return!1;if(void 0!==l.sub&&"object"==typeof r.sub&&!o(l.sub,r.sub))return!1;if(void 0!==l.aud&&"object"==typeof r.aud)if("string"==typeof l.aud){if(!o(l.aud,r.aud))return!1}else if("object"==typeof l.aud&&!a(l.aud,r.aud))return!1;var d=n.IntDate.getNow();return void 0!==r.verifyAt&&"number"==typeof r.verifyAt&&(d=r.verifyAt),void 0!==r.gracePeriod&&"number"==typeof r.gracePeriod||(r.gracePeriod=0),!(void 0!==l.exp&&"number"==typeof l.exp&&l.exp+r.gracePeriod<d||void 0!==l.nbf&&"number"==typeof l.nbf&&d<l.nbf-r.gracePeriod||void 0!==l.iat&&"number"==typeof l.iat&&d<l.iat-r.gracePeriod||void 0!==l.jti&&void 0!==r.jti&&l.jti!==r.jti||!i.verify(t,e,r.alg))},dt.jws.JWS.includedArray=function(t,e){var r=dt.jws.JWS.inArray;if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(!r(t[n],e))return!1;return!0},dt.jws.JWS.inArray=function(t,e){if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(e[r]==t)return!0;return!1},dt.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},dt.jws.JWS.isSafeJSONString=function(t,e,r){var n=null;try{return"object"!=typeof(n=lt(t))||n.constructor===Array?0:(e&&(e[r]=n),1)}catch(t){return 0}},dt.jws.JWS.readSafeJSONString=function(t){var e=null;try{return"object"!=typeof(e=lt(t))||e.constructor===Array?null:e}catch(t){return null}},dt.jws.JWS.getEncodedSignatureValueFromJWS=function(t){var e=t.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==e)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return e[1]},dt.jws.JWS.getJWKthumbprint=function(t){if("RSA"!==t.kty&&"EC"!==t.kty&&"oct"!==t.kty)throw"unsupported algorithm for JWK Thumprint";var e="{";if("RSA"===t.kty){if("string"!=typeof t.n||"string"!=typeof t.e)throw"wrong n and e value for RSA key";e+='"e":"'+t.e+'",',e+='"kty":"'+t.kty+'",',e+='"n":"'+t.n+'"}'}else if("EC"===t.kty){if("string"!=typeof t.crv||"string"!=typeof t.x||"string"!=typeof t.y)throw"wrong crv, x and y value for EC key";e+='"crv":"'+t.crv+'",',e+='"kty":"'+t.kty+'",',e+='"x":"'+t.x+'",',e+='"y":"'+t.y+'"}'}else if("oct"===t.kty){if("string"!=typeof t.k)throw"wrong k value for oct(symmetric) key";e+='"kty":"'+t.kty+'",',e+='"k":"'+t.k+'"}'}var r=Ot(e);return xt(dt.crypto.Util.hashHex(r,"sha256"))},dt.jws.IntDate={},dt.jws.IntDate.get=function(t){var e=dt.jws.IntDate,r=e.getNow,n=e.getZulu;if("now"==t)return r();if("now + 1hour"==t)return r()+3600;if("now + 1day"==t)return r()+86400;if("now + 1month"==t)return r()+2592e3;if("now + 1year"==t)return r()+31536e3;if(t.match(/Z$/))return n(t);if(t.match(/^[0-9]+$/))return parseInt(t);throw"unsupported format: "+t},dt.jws.IntDate.getZulu=function(t){return Mt(t)},dt.jws.IntDate.getNow=function(){return~~(new Date/1e3)},dt.jws.IntDate.intDate2UTCString=function(t){return new Date(1e3*t).toUTCString()},dt.jws.IntDate.intDate2Zulu=function(t){var e=new Date(1e3*t);return("0000"+e.getUTCFullYear()).slice(-4)+("00"+(e.getUTCMonth()+1)).slice(-2)+("00"+e.getUTCDate()).slice(-2)+("00"+e.getUTCHours()).slice(-2)+("00"+e.getUTCMinutes()).slice(-2)+("00"+e.getUTCSeconds()).slice(-2)+"Z"},void 0!==dt&&dt||(dt={}),void 0!==dt.jws&&dt.jws||(dt.jws={}),dt.jws.JWSJS=function(){var t=dt.jws.JWS,e=t.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(t){this.init();var e=t.split(".");if(3!=e.length)throw"malformed input JWS";this.aHeader.push(e[0]),this.sPayload=e[1],this.aSignature.push(e[2])},this.addSignature=function(t,e,r,n){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var i=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var s=dt.jws.JWS.sign(t,e,this.sPayload,r,n).split(".");s[0],s[2],this.aHeader.push(s[0]),this.aSignature.push(s[2])}catch(t){throw this.aHeader.length>i&&this.aHeader.pop(),this.aSignature.length>i&&this.aSignature.pop(),"addSignature failed: "+t}},this.verifyAll=function(t){if(this.aHeader.length!==t.length||this.aSignature.length!==t.length)return!1;for(var e=0;e<t.length;e++){var r=t[e];if(2!==r.length)return!1;if(!1===this.verifyNth(e,r[0],r[1]))return!1}return!0},this.verifyNth=function(e,r,n){if(this.aHeader.length<=e||this.aSignature.length<=e)return!1;var i=this.aHeader[e],s=this.aSignature[e],o=i+"."+this.sPayload+"."+s,a=!1;try{a=t.verify(o,r,n)}catch(t){return!1}return a},this.readJWSJS=function(t){if("string"==typeof t){var r=e(t);if(null==r)throw"argument is not safe JSON object string";this.aHeader=r.headers,this.sPayload=r.payload,this.aSignature=r.signatures}else try{if(!(t.headers.length>0))throw"malformed header";if(this.aHeader=t.headers,"string"!=typeof t.payload)throw"malformed signatures";if(this.sPayload=t.payload,!(t.signatures.length>0))throw"malformed signatures";this.aSignature=t.signatures}catch(t){throw"malformed JWS-JS JSON object: "+t}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},e.SecureRandom=it,e.rng_seed_time=Y,e.BigInteger=_,e.RSAKey=at,e.ECDSA=dt.crypto.ECDSA,e.DSA=dt.crypto.DSA,e.Signature=dt.crypto.Signature,e.MessageDigest=dt.crypto.MessageDigest,e.Mac=dt.crypto.Mac,e.Cipher=dt.crypto.Cipher,e.KEYUTIL=ue,e.ASN1HEX=yt,e.X509=le,e.X509CRL=function(t){var e=dt.lang.String.isHex,r=yt,n=r.getV,i=r.getTLV,s=r.getVbyList,o=r.getTLVbyList,a=r.getTLVbyListEx,u=r.getIdxbyList,c=r.getIdxbyListEx,f=r.getChildIdx,h=new le;this.hex=null,this.posSigAlg=null,this.posRevCert=null,this.parsed=null,this._setPos=function(){var t=u(this.hex,0,[0,0]),e=this.hex.substr(t,2);if("02"==e)this.posSigAlg=1;else{if("30"!=e)throw new Error("malformed 1st item of TBSCertList: "+e);this.posSigAlg=0}var r,n=u(this.hex,0,[0,this.posSigAlg+3]),i=this.hex.substr(n,2);if("17"==i||"18"==i)r=u(this.hex,0,[0,this.posSigAlg+4]),this.posRevCert=null,-1!=r&&"30"==this.hex.substr(r,2)&&(this.posRevCert=this.posSigAlg+4);else if("30"==i)this.posRevCert=this.posSigAlg+3;else{if("a0"!=i)throw new Error("malformed nextUpdate or revCert tag: "+i);this.posRevCert=null}},this.getVersion=function(){return 0==this.posSigAlg?null:parseInt(s(this.hex,0,[0,0],"02"),16)+1},this.getSignatureAlgorithmField=function(){var t=o(this.hex,0,[0,this.posSigAlg],"30");return h.getAlgorithmIdentifierName(t)},this.getIssuer=function(){return h.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return o(this.hex,0,[0,this.posSigAlg+1],"30")},this.getThisUpdate=function(){var t=s(this.hex,0,[0,this.posSigAlg+2]);return result=Tt(t)},this.getNextUpdate=function(){var t=u(this.hex,0,[0,this.posSigAlg+3]),e=this.hex.substr(t,2);return"17"!=e&&"18"!=e?null:Tt(n(this.hex,t))},this.getRevCertArray=function(){if(null==this.posRevCert)return null;for(var t=[],e=u(this.hex,0,[0,this.posRevCert]),r=f(this.hex,e),n=0;n<r.length;n++){var s=i(this.hex,r[n]);t.push(this.getRevCert(s))}return t},this.getRevCert=function(t){var e={},r=f(t,0);return e.sn={hex:s(t,0,[0],"02")},e.date=Tt(s(t,0,[1])),3==r.length&&(e.ext=h.getExtParamArray(o(t,0,[2]))),e},this.findRevCert=function(t){var e=new le(t).getSerialNumberHex();return this.findRevCertBySN(e)},this.findRevCertBySN=function(t){if(null==this.parsed&&this.getParam(),null==this.parsed.revcert)return null;for(var e=this.parsed.revcert,r=0;r<e.length;r++)if(t==e[r].sn.hex)return e[r];return null},this.getSignatureValueHex=function(){return s(this.hex,0,[2],"03",!0)},this.verifySignature=function(t){var e=this.getSignatureAlgorithmField(),r=this.getSignatureValueHex(),n=o(this.hex,0,[0],"30"),i=new dt.crypto.Signature({alg:e});return i.init(t),i.updateHex(n),i.verify(r)},this.getParam=function(t){var e={},r=this.getVersion();null!=r&&(e.version=r),e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.thisupdate=this.getThisUpdate();var n=this.getNextUpdate();null!=n&&(e.nextupdate=n);var i=this.getRevCertArray();if(null!=i&&(e.revcert=i),-1!=c(this.hex,0,[0,"[0]"])){var s=a(this.hex,0,[0,"[0]",0]);e.ext=h.getExtParamArray(s)}return e.sighex=this.getSignatureValueHex(),this.parsed=e,"object"==typeof t&&(1==t.tbshex&&(e.tbshex=o(this.hex,0,[0])),1==t.nodnarray&&delete e.issuer.array),e},"string"==typeof t&&(e(t)?this.hex=t:t.match(/-----BEGIN X509 CRL/)&&(this.hex=Nt(t)),this._setPos())},e.CryptoJS=m,e.b64tohex=E,e.b64toBA=x,e.ECFieldElementFp=ct,e.ECPointFp=ft,e.ECCurveFp=ht,e.stoBA=mt,e.BAtos=bt,e.BAtohex=vt,e.stohex=wt,e.stob64=function(t){return S(wt(t))},e.stob64u=function(t){return St(S(wt(t)))},e.b64utos=function(t){return bt(x(Et(t)))},e.b64tob64u=St,e.b64utob64=Et,e.hex2b64=S,e.hextob64u=xt,e.b64utohex=_t,e.utf8tob64u=pt,e.b64utoutf8=gt,e.utf8tob64=function(t){return S(Ht(Gt(t)))},e.b64toutf8=function(t){return decodeURIComponent(jt(E(t)))},e.utf8tohex=At,e.hextoutf8=Pt,e.hextorstr=Tt,e.rstrtohex=Ot,e.hextob64=Bt,e.hextob64nl=function(t){return kt(Bt(t),64)},e.b64nltohex=Ft,e.hextopem=Rt,e.pemtohex=Nt,e.hextoArrayBuffer=function(t){if(t.length%2!=0)throw"input is not even length";if(null==t.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var e=new ArrayBuffer(t.length/2),r=new DataView(e),n=0;n<t.length/2;n++)r.setUint8(n,parseInt(t.substr(2*n,2),16));return e},e.ArrayBuffertohex=function(t){for(var e="",r=new DataView(t),n=0;n<t.byteLength;n++)e+=("00"+r.getUint8(n).toString(16)).slice(-2);return e},e.zulutomsec=Ct,e.msectozulu=function(t){var e=new Date(t),r=("0000"+e.getUTCFullYear()).slice(-4),n=("00"+(e.getUTCMonth()+1)).slice(-2),i=("00"+e.getUTCDate()).slice(-2),s=("00"+e.getUTCHours()).slice(-2),o=("00"+e.getUTCMinutes()).slice(-2),a=("00"+e.getUTCSeconds()).slice(-2),u=("000"+e.getUTCMilliseconds()).slice(-3);return r+n+i+s+o+a+(u=""!=(u=u.replace(/0+$/,""))?"."+u:u)+"Z"},e.zulutosec=Mt,e.zulutodate=function(t){return new Date(Ct(t))},e.datetozulu=function(t,e,r){var n,i=t.getUTCFullYear();if(e){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;n=(""+i).slice(-2)}else n=("000"+i).slice(-4);if(n+=("0"+(t.getUTCMonth()+1)).slice(-2),n+=("0"+t.getUTCDate()).slice(-2),n+=("0"+t.getUTCHours()).slice(-2),n+=("0"+t.getUTCMinutes()).slice(-2),n+=("0"+t.getUTCSeconds()).slice(-2),r){var s=t.getUTCMilliseconds();0!==s&&(n+="."+(s=(s=("00"+s).slice(-3)).replace(/0+$/g,"")))}return n+"Z"},e.uricmptohex=Ht,e.hextouricmp=jt,e.ipv6tohex=Lt,e.hextoipv6=Ut,e.hextoip=Kt,e.iptohex=qt,e.ucs2hextoutf8=Wt,e.encodeURIComponentAll=Gt,e.newline_toUnix=function(t){return t.replace(/\r\n/gm,"\n")},e.newline_toDos=function(t){return(t=t.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},e.hextoposhex=Jt,e.intarystrtohex=function(t){t=(t=(t=t.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return t.split(/,/).map((function(t,e,r){var n=parseInt(t);if(n<0||255<n)throw"integer not in range 0-255";return("00"+n.toString(16)).slice(-2)})).join("")}catch(t){throw"malformed integer array string: "+t}},e.strdiffidx=function(t,e){var r=t.length;t.length>e.length&&(r=e.length);for(var n=0;n<r;n++)if(t.charCodeAt(n)!=e.charCodeAt(n))return n;return t.length!=e.length?r:-1},e.oidtohex=Zt,e.hextooid=Yt,e.strpad=ee,e.bitstrtoint=re,e.inttobitstr=ne,e.bitstrtobinstr=ie,e.binstrtobitstr=function(t){if("string"!=typeof t)return null;if(null==t.match(/^[01]+$/))return null;try{return ne(parseInt(t,2))}catch(t){return null}},e.isBase64URLDot=Xt,e.namearraytobinstr=se,e.extendClass=ae,e.foldnl=kt,e.b64topem=function(t,e){return"-----BEGIN "+e+"-----\r\n"+kt(t,64)+"\r\n-----END "+e+"-----\r\n"},e.pemtob64=function(t){return-1==t.indexOf("-----BEGIN ")||-1==t.indexOf("-----END ")?null:(t=(t=(t=t.replace(/^[\s\S]*?-----BEGIN [^-]+-----/m,"")).replace(/-----END [\s\S]+$/m,"")).replace(/\s+/g,"")).match(/^[0-9a-zA-Z+/=]+$/)?t:null},e.timeogen=Dt,e.aryval=oe,e.inttohex=Qt,e.twoscompl=te,e.KJUR=dt,e.crypto=dt.crypto,e.asn1=dt.asn1,e.jws=dt.jws,e.lang=dt.lang,e.VERSION="10.9.0",e.VERSION_FULL="jsrsasign(all) 10.9.0 (2023-11-27) (c) 2010-2023 Kenji Urushima | kjur.github.io/jsrsasign/license"},2318:(t,e,r)=>{"use strict";var n=r(5717),i=r(3349),s=r(9509).Buffer,o=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(t,e){return t<<e|t>>>32-e}function c(t,e,r,n,i,s,o){return u(t+(e&r|~e&n)+i+s|0,o)+e|0}function f(t,e,r,n,i,s,o){return u(t+(e&n|r&~n)+i+s|0,o)+e|0}function h(t,e,r,n,i,s,o){return u(t+(e^r^n)+i+s|0,o)+e|0}function l(t,e,r,n,i,s,o){return u(t+(r^(e|~n))+i+s|0,o)+e|0}n(a,i),a.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var r=this._a,n=this._b,i=this._c,s=this._d;r=c(r,n,i,s,t[0],3614090360,7),s=c(s,r,n,i,t[1],3905402710,12),i=c(i,s,r,n,t[2],606105819,17),n=c(n,i,s,r,t[3],3250441966,22),r=c(r,n,i,s,t[4],4118548399,7),s=c(s,r,n,i,t[5],1200080426,12),i=c(i,s,r,n,t[6],2821735955,17),n=c(n,i,s,r,t[7],4249261313,22),r=c(r,n,i,s,t[8],1770035416,7),s=c(s,r,n,i,t[9],2336552879,12),i=c(i,s,r,n,t[10],4294925233,17),n=c(n,i,s,r,t[11],2304563134,22),r=c(r,n,i,s,t[12],1804603682,7),s=c(s,r,n,i,t[13],4254626195,12),i=c(i,s,r,n,t[14],2792965006,17),r=f(r,n=c(n,i,s,r,t[15],1236535329,22),i,s,t[1],4129170786,5),s=f(s,r,n,i,t[6],3225465664,9),i=f(i,s,r,n,t[11],643717713,14),n=f(n,i,s,r,t[0],3921069994,20),r=f(r,n,i,s,t[5],3593408605,5),s=f(s,r,n,i,t[10],38016083,9),i=f(i,s,r,n,t[15],3634488961,14),n=f(n,i,s,r,t[4],3889429448,20),r=f(r,n,i,s,t[9],568446438,5),s=f(s,r,n,i,t[14],3275163606,9),i=f(i,s,r,n,t[3],4107603335,14),n=f(n,i,s,r,t[8],1163531501,20),r=f(r,n,i,s,t[13],2850285829,5),s=f(s,r,n,i,t[2],4243563512,9),i=f(i,s,r,n,t[7],1735328473,14),r=h(r,n=f(n,i,s,r,t[12],2368359562,20),i,s,t[5],4294588738,4),s=h(s,r,n,i,t[8],2272392833,11),i=h(i,s,r,n,t[11],1839030562,16),n=h(n,i,s,r,t[14],4259657740,23),r=h(r,n,i,s,t[1],2763975236,4),s=h(s,r,n,i,t[4],1272893353,11),i=h(i,s,r,n,t[7],4139469664,16),n=h(n,i,s,r,t[10],3200236656,23),r=h(r,n,i,s,t[13],681279174,4),s=h(s,r,n,i,t[0],3936430074,11),i=h(i,s,r,n,t[3],3572445317,16),n=h(n,i,s,r,t[6],76029189,23),r=h(r,n,i,s,t[9],3654602809,4),s=h(s,r,n,i,t[12],3873151461,11),i=h(i,s,r,n,t[15],530742520,16),r=l(r,n=h(n,i,s,r,t[2],3299628645,23),i,s,t[0],4096336452,6),s=l(s,r,n,i,t[7],1126891415,10),i=l(i,s,r,n,t[14],2878612391,15),n=l(n,i,s,r,t[5],4237533241,21),r=l(r,n,i,s,t[12],1700485571,6),s=l(s,r,n,i,t[3],2399980690,10),i=l(i,s,r,n,t[10],4293915773,15),n=l(n,i,s,r,t[1],2240044497,21),r=l(r,n,i,s,t[8],1873313359,6),s=l(s,r,n,i,t[15],4264355552,10),i=l(i,s,r,n,t[6],2734768916,15),n=l(n,i,s,r,t[13],1309151649,21),r=l(r,n,i,s,t[4],4149444226,6),s=l(s,r,n,i,t[11],3174756917,10),i=l(i,s,r,n,t[2],718787259,15),n=l(n,i,s,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=s.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},9746:t=>{function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},4504:(t,e)=>{"use strict";var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16));else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}},3281:(t,e,r)=>{"use strict";t.exports=r(9050)},2100:(t,e,r)=>{"use strict";t.exports=r(9482)},2967:t=>{"use strict";t.exports=n;var e,r=/\/|\./;function n(t,e){r.test(t)||(t="google/protobuf/"+t+".proto",e={nested:{google:{nested:{protobuf:{nested:e}}}}}),n[t]=e}n("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),n("duration",{Duration:e={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),n("timestamp",{Timestamp:e}),n("empty",{Empty:{fields:{}}}),n("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),n("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),n("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),n.get=function(t){return n[t]||null}},3996:(t,e,r)=>{"use strict";var n=e,i=r(7025),s=r(9935);function o(t,e,r,n){var s=!1;if(e.resolvedType)if(e.resolvedType instanceof i){t("switch(d%s){",n);for(var o=e.resolvedType.values,a=Object.keys(o),u=0;u<a.length;++u)o[a[u]]!==e.typeDefault||s||(t("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',n,n,n),e.repeated||t("break"),s=!0),t("case%j:",a[u])("case %i:",o[a[u]])("m%s=%j",n,o[a[u]])("break");t("}")}else t('if(typeof d%s!=="object")',n)("throw TypeError(%j)",e.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var c=!1;switch(e.type){case"double":case"float":t("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",n,n);break;case"uint64":c=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,c)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,c?"true":"");break;case"bytes":t('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length >= 0)",n)("m%s=d%s",n,n);break;case"string":t("m%s=String(d%s)",n,n);break;case"bool":t("m%s=Boolean(d%s)",n,n)}}return t}function a(t,e,r,n){if(e.resolvedType)e.resolvedType instanceof i?t("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",n,r,n,n,r,n,n):t("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var s=!1;switch(e.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,s?"true":"",n);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:t("d%s=m%s",n,n)}}return t}n.fromObject=function(t){var e=t.fieldsArray,r=s.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!e.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<e.length;++n){var a=e[n].resolve(),u=s.safeProp(a.name);a.map?(r("if(d%s){",u)('if(typeof d%s!=="object")',u)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",u)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",u),o(r,a,n,u+"[ks[i]]")("}")("}")):a.repeated?(r("if(d%s){",u)("if(!Array.isArray(d%s))",u)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",u)("for(var i=0;i<d%s.length;++i){",u),o(r,a,n,u+"[i]")("}")("}")):(a.resolvedType instanceof i||r("if(d%s!=null){",u),o(r,a,n,u),a.resolvedType instanceof i||r("}"))}return r("return m")},n.toObject=function(t){var e=t.fieldsArray.slice().sort(s.compareFieldsById);if(!e.length)return s.codegen()("return {}");for(var r=s.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],o=[],u=[],c=0;c<e.length;++c)e[c].partOf||(e[c].resolve().repeated?n:e[c].map?o:u).push(e[c]);if(n.length){for(r("if(o.arrays||o.defaults){"),c=0;c<n.length;++c)r("d%s=[]",s.safeProp(n[c].name));r("}")}if(o.length){for(r("if(o.objects||o.defaults){"),c=0;c<o.length;++c)r("d%s={}",s.safeProp(o[c].name));r("}")}if(u.length){for(r("if(o.defaults){"),c=0;c<u.length;++c){var f=u[c],h=s.safeProp(f.name);if(f.resolvedType instanceof i)r("d%s=o.enums===String?%j:%j",h,f.resolvedType.valuesById[f.typeDefault],f.typeDefault);else if(f.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",f.typeDefault.low,f.typeDefault.high,f.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",h)("}else")("d%s=o.longs===String?%j:%i",h,f.typeDefault.toString(),f.typeDefault.toNumber());else if(f.bytes){var l="["+Array.prototype.slice.call(f.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",h,String.fromCharCode.apply(String,f.typeDefault))("else{")("d%s=%s",h,l)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",h,h)("}")}else r("d%s=%j",h,f.typeDefault)}r("}")}var d=!1;for(c=0;c<e.length;++c){f=e[c];var p=t._fieldsArray.indexOf(f);h=s.safeProp(f.name),f.map?(d||(d=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",h,h)("d%s={}",h)("for(var j=0;j<ks2.length;++j){"),a(r,f,p,h+"[ks2[j]]")("}")):f.repeated?(r("if(m%s&&m%s.length){",h,h)("d%s=[]",h)("for(var j=0;j<m%s.length;++j){",h),a(r,f,p,h+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",h,f.name),a(r,f,p,h),f.partOf&&r("if(o.oneofs)")("d%s=%j",s.safeProp(f.partOf.name),f.name)),r("}")}return r("return d")}},5305:(t,e,r)=>{"use strict";t.exports=function(t){var e=s.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter((function(t){return t.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&e("if((t&7)===4)")("break"),e("switch(t>>>3){");for(var r=0;r<t.fieldsArray.length;++r){var a=t._fieldsArray[r].resolve(),u=a.resolvedType instanceof n?"int32":a.type,c="m"+s.safeProp(a.name);e("case %i: {",a.id),a.map?(e("if(%s===util.emptyObject)",c)("%s={}",c)("var c2 = r.uint32()+r.pos"),void 0!==i.defaults[a.keyType]?e("k=%j",i.defaults[a.keyType]):e("k=null"),void 0!==i.defaults[u]?e("value=%j",i.defaults[u]):e("value=null"),e("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:"),void 0===i.basic[u]?e("value=types[%i].decode(r,r.uint32())",r):e("value=r.%s()",u),e("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==i.long[a.keyType]?e('%s[typeof k==="object"?util.longToHash(k):k]=value',c):e("%s[k]=value",c)):a.repeated?(e("if(!(%s&&%s.length))",c,c)("%s=[]",c),void 0!==i.packed[u]&&e("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",c,u)("}else"),void 0===i.basic[u]?e(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",c,r):e("%s.push(r.%s())",c,u)):void 0===i.basic[u]?e(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",c,r):e("%s=r.%s()",c,u),e("break")("}")}for(e("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<t._fieldsArray.length;++r){var f=t._fieldsArray[r];f.required&&e("if(!m.hasOwnProperty(%j))",f.name)("throw util.ProtocolError(%j,{instance:m})",o(f))}return e("return m")};var n=r(7025),i=r(7063),s=r(9935);function o(t){return"missing required '"+t.name+"'"}},4928:(t,e,r)=>{"use strict";t.exports=function(t){for(var e,r=s.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),a=t.fieldsArray.slice().sort(s.compareFieldsById),u=0;u<a.length;++u){var c=a[u].resolve(),f=t._fieldsArray.indexOf(c),h=c.resolvedType instanceof n?"int32":c.type,l=i.basic[h];e="m"+s.safeProp(c.name),c.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",e,c.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",e)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(c.id<<3|2)>>>0,8|i.mapKey[c.keyType],c.keyType),void 0===l?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",f,e):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|l,h,e),r("}")("}")):c.repeated?(r("if(%s!=null&&%s.length){",e,e),c.packed&&void 0!==i.packed[h]?r("w.uint32(%i).fork()",(c.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",e)("w.%s(%s[i])",h,e)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",e),void 0===l?o(r,c,f,e+"[i]"):r("w.uint32(%i).%s(%s[i])",(c.id<<3|l)>>>0,h,e)),r("}")):(c.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",e,c.name),void 0===l?o(r,c,f,e):r("w.uint32(%i).%s(%s)",(c.id<<3|l)>>>0,h,e))}return r("return w")};var n=r(7025),i=r(7063),s=r(9935);function o(t,e,r,n){return e.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(e.id<<3|3)>>>0,(e.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(e.id<<3|2)>>>0)}},7025:(t,e,r)=>{"use strict";t.exports=o;var n=r(3243);((o.prototype=Object.create(n.prototype)).constructor=o).className="Enum";var i=r(9313),s=r(9935);function o(t,e,r,i,s,o){if(n.call(this,t,r),e&&"object"!=typeof e)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=s||{},this.valuesOptions=o,this.reserved=void 0,e)for(var a=Object.keys(e),u=0;u<a.length;++u)"number"==typeof e[a[u]]&&(this.valuesById[this.values[a[u]]=e[a[u]]]=a[u])}o.fromJSON=function(t,e){var r=new o(t,e.values,e.options,e.comment,e.comments);return r.reserved=e.reserved,r},o.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return s.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",e?this.comment:void 0,"comments",e?this.comments:void 0])},o.prototype.add=function(t,e,r,n){if(!s.isString(t))throw TypeError("name must be a string");if(!s.isInteger(e))throw TypeError("id must be an integer");if(void 0!==this.values[t])throw Error("duplicate name '"+t+"' in "+this);if(this.isReservedId(e))throw Error("id "+e+" is reserved in "+this);if(this.isReservedName(t))throw Error("name '"+t+"' is reserved in "+this);if(void 0!==this.valuesById[e]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+e+" in "+this);this.values[t]=e}else this.valuesById[this.values[t]=e]=t;return n&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[t]=n||null),this.comments[t]=r||null,this},o.prototype.remove=function(t){if(!s.isString(t))throw TypeError("name must be a string");var e=this.values[t];if(null==e)throw Error("name '"+t+"' does not exist in "+this);return delete this.valuesById[e],delete this.values[t],delete this.comments[t],this.valuesOptions&&delete this.valuesOptions[t],this},o.prototype.isReservedId=function(t){return i.isReservedId(this.reserved,t)},o.prototype.isReservedName=function(t){return i.isReservedName(this.reserved,t)}},3548:(t,e,r)=>{"use strict";t.exports=c;var n=r(3243);((c.prototype=Object.create(n.prototype)).constructor=c).className="Field";var i,s=r(7025),o=r(7063),a=r(9935),u=/^required|optional|repeated$/;function c(t,e,r,i,s,c,f){if(a.isObject(i)?(f=s,c=i,i=s=void 0):a.isObject(s)&&(f=c,c=s,s=void 0),n.call(this,t,c),!a.isInteger(e)||e<0)throw TypeError("id must be a non-negative integer");if(!a.isString(r))throw TypeError("type must be a string");if(void 0!==i&&!u.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==s&&!a.isString(s))throw TypeError("extend must be a string");"proto3_optional"===i&&(i="optional"),this.rule=i&&"optional"!==i?i:void 0,this.type=r,this.id=e,this.extend=s||void 0,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==o.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=f}c.fromJSON=function(t,e){return new c(t,e.id,e.type,e.rule,e.extend,e.options,e.comment)},Object.defineProperty(c.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),c.prototype.setOption=function(t,e,r){return"packed"===t&&(this._packed=null),n.prototype.setOption.call(this,t,e,r)},c.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",e?this.comment:void 0])},c.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=o.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof s&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof s)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var t;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,t=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,t=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=t}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},c.d=function(t,e,r,n){return"function"==typeof e?e=a.decorateType(e).name:e&&"object"==typeof e&&(e=a.decorateEnum(e).name),function(i,s){a.decorateType(i.constructor).add(new c(s,t,e,r,{default:n}))}},c._configure=function(t){i=t}},8836:(t,e,r)=>{"use strict";var n=t.exports=r(9482);n.build="light",n.load=function(t,e,r){return"function"==typeof e?(r=e,e=new n.Root):e||(e=new n.Root),e.load(t,r)},n.loadSync=function(t,e){return e||(e=new n.Root),e.loadSync(t)},n.encoder=r(4928),n.decoder=r(5305),n.verifier=r(4497),n.converter=r(3996),n.ReflectionObject=r(3243),n.Namespace=r(9313),n.Root=r(9424),n.Enum=r(7025),n.Type=r(7645),n.Field=r(3548),n.OneOf=r(7598),n.MapField=r(6039),n.Service=r(7513),n.Method=r(4429),n.Message=r(8368),n.wrappers=r(1667),n.types=r(7063),n.util=r(9935),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},9482:(t,e,r)=>{"use strict";var n=e;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(1173),n.BufferWriter=r(3155),n.Reader=r(1408),n.BufferReader=r(593),n.util=r(1223),n.rpc=r(5994),n.roots=r(5054),n.configure=i,i()},9050:(t,e,r)=>{"use strict";var n=t.exports=r(8836);n.build="full",n.tokenize=r(626),n.parse=r(2228),n.common=r(2967),n.Root._configure(n.Type,n.parse,n.common)},6039:(t,e,r)=>{"use strict";t.exports=o;var n=r(3548);((o.prototype=Object.create(n.prototype)).constructor=o).className="MapField";var i=r(7063),s=r(9935);function o(t,e,r,i,o,a){if(n.call(this,t,e,i,void 0,void 0,o,a),!s.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}o.fromJSON=function(t,e){return new o(t,e.id,e.keyType,e.type,e.options,e.comment)},o.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",e?this.comment:void 0])},o.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},o.d=function(t,e,r){return"function"==typeof r?r=s.decorateType(r).name:r&&"object"==typeof r&&(r=s.decorateEnum(r).name),function(n,i){s.decorateType(n.constructor).add(new o(i,t,e,r))}}},8368:(t,e,r)=>{"use strict";t.exports=i;var n=r(1223);function i(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)this[e[r]]=t[e[r]]}i.create=function(t){return this.$type.create(t)},i.encode=function(t,e){return this.$type.encode(t,e)},i.encodeDelimited=function(t,e){return this.$type.encodeDelimited(t,e)},i.decode=function(t){return this.$type.decode(t)},i.decodeDelimited=function(t){return this.$type.decodeDelimited(t)},i.verify=function(t){return this.$type.verify(t)},i.fromObject=function(t){return this.$type.fromObject(t)},i.toObject=function(t,e){return this.$type.toObject(t,e)},i.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},4429:(t,e,r)=>{"use strict";t.exports=s;var n=r(3243);((s.prototype=Object.create(n.prototype)).constructor=s).className="Method";var i=r(9935);function s(t,e,r,s,o,a,u,c,f){if(i.isObject(o)?(u=o,o=a=void 0):i.isObject(a)&&(u=a,a=void 0),void 0!==e&&!i.isString(e))throw TypeError("type must be a string");if(!i.isString(r))throw TypeError("requestType must be a string");if(!i.isString(s))throw TypeError("responseType must be a string");n.call(this,t,u),this.type=e||"rpc",this.requestType=r,this.requestStream=!!o||void 0,this.responseType=s,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=c,this.parsedOptions=f}s.fromJSON=function(t,e){return new s(t,e.type,e.requestType,e.responseType,e.requestStream,e.responseStream,e.options,e.comment,e.parsedOptions)},s.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",e?this.comment:void 0,"parsedOptions",this.parsedOptions])},s.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},9313:(t,e,r)=>{"use strict";t.exports=h;var n=r(3243);((h.prototype=Object.create(n.prototype)).constructor=h).className="Namespace";var i,s,o,a=r(3548),u=r(9935),c=r(7598);function f(t,e){if(t&&t.length){for(var r={},n=0;n<t.length;++n)r[t[n].name]=t[n].toJSON(e);return r}}function h(t,e){n.call(this,t,e),this.nested=void 0,this._nestedArray=null}function l(t){return t._nestedArray=null,t}h.fromJSON=function(t,e){return new h(t,e.options).addJSON(e.nested)},h.arrayToJSON=f,h.isReservedId=function(t,e){if(t)for(var r=0;r<t.length;++r)if("string"!=typeof t[r]&&t[r][0]<=e&&t[r][1]>e)return!0;return!1},h.isReservedName=function(t,e){if(t)for(var r=0;r<t.length;++r)if(t[r]===e)return!0;return!1},Object.defineProperty(h.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=u.toArray(this.nested))}}),h.prototype.toJSON=function(t){return u.toObject(["options",this.options,"nested",f(this.nestedArray,t)])},h.prototype.addJSON=function(t){if(t)for(var e,r=Object.keys(t),n=0;n<r.length;++n)e=t[r[n]],this.add((void 0!==e.fields?i.fromJSON:void 0!==e.values?o.fromJSON:void 0!==e.methods?s.fromJSON:void 0!==e.id?a.fromJSON:h.fromJSON)(r[n],e));return this},h.prototype.get=function(t){return this.nested&&this.nested[t]||null},h.prototype.getEnum=function(t){if(this.nested&&this.nested[t]instanceof o)return this.nested[t].values;throw Error("no such enum: "+t)},h.prototype.add=function(t){if(!(t instanceof a&&void 0!==t.extend||t instanceof i||t instanceof c||t instanceof o||t instanceof s||t instanceof h))throw TypeError("object must be a valid nested object");if(this.nested){var e=this.get(t.name);if(e){if(!(e instanceof h&&t instanceof h)||e instanceof i||e instanceof s)throw Error("duplicate name '"+t.name+"' in "+this);for(var r=e.nestedArray,n=0;n<r.length;++n)t.add(r[n]);this.remove(e),this.nested||(this.nested={}),t.setOptions(e.options,!0)}}else this.nested={};return this.nested[t.name]=t,t.onAdd(this),l(this)},h.prototype.remove=function(t){if(!(t instanceof n))throw TypeError("object must be a ReflectionObject");if(t.parent!==this)throw Error(t+" is not a member of "+this);return delete this.nested[t.name],Object.keys(this.nested).length||(this.nested=void 0),t.onRemove(this),l(this)},h.prototype.define=function(t,e){if(u.isString(t))t=t.split(".");else if(!Array.isArray(t))throw TypeError("illegal path");if(t&&t.length&&""===t[0])throw Error("path must be relative");for(var r=this;t.length>0;){var n=t.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof h))throw Error("path conflicts with non-namespace objects")}else r.add(r=new h(n))}return e&&r.addJSON(e),r},h.prototype.resolveAll=function(){for(var t=this.nestedArray,e=0;e<t.length;)t[e]instanceof h?t[e++].resolveAll():t[e++].resolve();return this.resolve()},h.prototype.lookup=function(t,e,r){if("boolean"==typeof e?(r=e,e=void 0):e&&!Array.isArray(e)&&(e=[e]),u.isString(t)&&t.length){if("."===t)return this.root;t=t.split(".")}else if(!t.length)return this;if(""===t[0])return this.root.lookup(t.slice(1),e);var n=this.get(t[0]);if(n){if(1===t.length){if(!e||e.indexOf(n.constructor)>-1)return n}else if(n instanceof h&&(n=n.lookup(t.slice(1),e,!0)))return n}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof h&&(n=this._nestedArray[i].lookup(t,e,!0)))return n;return null===this.parent||r?null:this.parent.lookup(t,e)},h.prototype.lookupType=function(t){var e=this.lookup(t,[i]);if(!e)throw Error("no such type: "+t);return e},h.prototype.lookupEnum=function(t){var e=this.lookup(t,[o]);if(!e)throw Error("no such Enum '"+t+"' in "+this);return e},h.prototype.lookupTypeOrEnum=function(t){var e=this.lookup(t,[i,o]);if(!e)throw Error("no such Type or Enum '"+t+"' in "+this);return e},h.prototype.lookupService=function(t){var e=this.lookup(t,[s]);if(!e)throw Error("no such Service '"+t+"' in "+this);return e},h._configure=function(t,e,r){i=t,s=e,o=r}},3243:(t,e,r)=>{"use strict";t.exports=s,s.className="ReflectionObject";var n,i=r(9935);function s(t,e){if(!i.isString(t))throw TypeError("name must be a string");if(e&&!i.isObject(e))throw TypeError("options must be an object");this.options=e,this.parsedOptions=null,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(s.prototype,{root:{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],e=this.parent;e;)t.unshift(e.name),e=e.parent;return t.join(".")}}}),s.prototype.toJSON=function(){throw Error()},s.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;var e=t.root;e instanceof n&&e._handleAdd(this)},s.prototype.onRemove=function(t){var e=t.root;e instanceof n&&e._handleRemove(this),this.parent=null,this.resolved=!1},s.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},s.prototype.getOption=function(t){if(this.options)return this.options[t]},s.prototype.setOption=function(t,e,r){return r&&this.options&&void 0!==this.options[t]||((this.options||(this.options={}))[t]=e),this},s.prototype.setParsedOption=function(t,e,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var s=n.find((function(e){return Object.prototype.hasOwnProperty.call(e,t)}));if(s){var o=s[t];i.setProperty(o,r,e)}else(s={})[t]=i.setProperty({},r,e),n.push(s)}else{var a={};a[t]=e,n.push(a)}return this},s.prototype.setOptions=function(t,e){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)this.setOption(r[n],t[r[n]],e);return this},s.prototype.toString=function(){var t=this.constructor.className,e=this.fullName;return e.length?t+" "+e:t},s._configure=function(t){n=t}},7598:(t,e,r)=>{"use strict";t.exports=o;var n=r(3243);((o.prototype=Object.create(n.prototype)).constructor=o).className="OneOf";var i=r(3548),s=r(9935);function o(t,e,r,i){if(Array.isArray(e)||(r=e,e=void 0),n.call(this,t,r),void 0!==e&&!Array.isArray(e))throw TypeError("fieldNames must be an Array");this.oneof=e||[],this.fieldsArray=[],this.comment=i}function a(t){if(t.parent)for(var e=0;e<t.fieldsArray.length;++e)t.fieldsArray[e].parent||t.parent.add(t.fieldsArray[e])}o.fromJSON=function(t,e){return new o(t,e.oneof,e.options,e.comment)},o.prototype.toJSON=function(t){var e=!!t&&Boolean(t.keepComments);return s.toObject(["options",this.options,"oneof",this.oneof,"comment",e?this.comment:void 0])},o.prototype.add=function(t){if(!(t instanceof i))throw TypeError("field must be a Field");return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),t.partOf=this,a(this),this},o.prototype.remove=function(t){if(!(t instanceof i))throw TypeError("field must be a Field");var e=this.fieldsArray.indexOf(t);if(e<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(e,1),(e=this.oneof.indexOf(t.name))>-1&&this.oneof.splice(e,1),t.partOf=null,this},o.prototype.onAdd=function(t){n.prototype.onAdd.call(this,t);for(var e=0;e<this.oneof.length;++e){var r=t.get(this.oneof[e]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}a(this)},o.prototype.onRemove=function(t){for(var e,r=0;r<this.fieldsArray.length;++r)(e=this.fieldsArray[r]).parent&&e.parent.remove(e);n.prototype.onRemove.call(this,t)},o.d=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;)t[e]=arguments[e++];return function(e,r){s.decorateType(e.constructor).add(new o(r,t)),Object.defineProperty(e,r,{get:s.oneOfGetter(t),set:s.oneOfSetter(t)})}}},2228:(t,e,r)=>{"use strict";t.exports=_,_.filename=null,_.defaults={keepCase:!1};var n=r(626),i=r(9424),s=r(7645),o=r(3548),a=r(6039),u=r(7598),c=r(7025),f=r(7513),h=r(4429),l=r(7063),d=r(9935),p=/^[1-9][0-9]*$/,g=/^-?[1-9][0-9]*$/,y=/^0[x][0-9a-fA-F]+$/,m=/^-?0[x][0-9a-fA-F]+$/,b=/^0[0-7]+$/,v=/^-?0[0-7]+$/,w=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,S=/^[a-zA-Z_][a-zA-Z_0-9]*$/,E=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,x=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function _(t,e,r){e instanceof i||(r=e,e=new i),r||(r=_.defaults);var A,P,I,T,O,B=r.preferTrailingComment||!1,k=n(t,r.alternateCommentMode||!1),F=k.next,R=k.push,N=k.peek,C=k.skip,M=k.cmnt,D=!0,H=!1,j=e,L=r.keepCase?function(t){return t}:d.camelCase;function U(t,e,r){var n=_.filename;return r||(_.filename=null),Error("illegal "+(e||"token")+" '"+t+"' ("+(n?n+", ":"")+"line "+k.line+")")}function K(){var t,e=[];do{if('"'!==(t=F())&&"'"!==t)throw U(t);e.push(F()),C(t),t=N()}while('"'===t||"'"===t);return e.join("")}function V(t){var e=F();switch(e){case"'":case'"':return R(e),K();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(t,e){var r=1;switch("-"===t.charAt(0)&&(r=-1,t=t.substring(1)),t){case"inf":case"INF":case"Inf":return r*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(p.test(t))return r*parseInt(t,10);if(y.test(t))return r*parseInt(t,16);if(b.test(t))return r*parseInt(t,8);if(w.test(t))return r*parseFloat(t);throw U(t,"number",!0)}(e)}catch(r){if(t&&E.test(e))return e;throw U(e,"value")}}function q(t,e){var r,n;do{!e||'"'!==(r=N())&&"'"!==r?t.push([n=z(F()),C("to",!0)?z(F()):n]):t.push(K())}while(C(",",!0));C(";")}function z(t,e){switch(t){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!e&&"-"===t.charAt(0))throw U(t,"id");if(g.test(t))return parseInt(t,10);if(m.test(t))return parseInt(t,16);if(v.test(t))return parseInt(t,8);throw U(t,"id")}function W(){if(void 0!==A)throw U("package");if(A=F(),!E.test(A))throw U(A,"name");j=j.define(A),C(";")}function G(){var t,e=N();switch(e){case"weak":t=I||(I=[]),F();break;case"public":F();default:t=P||(P=[])}e=K(),C(";"),t.push(e)}function $(){if(C("="),T=K(),!(H="proto3"===T)&&"proto2"!==T)throw U(T,"syntax");C(";")}function X(t,e){switch(e){case"option":return tt(t,e),C(";"),!0;case"message":return Z(t,e),!0;case"enum":return Q(t,e),!0;case"service":return function(t,e){if(!S.test(e=F()))throw U(e,"service name");var r=new f(e);J(r,(function(t){if(!X(r,t)){if("rpc"!==t)throw U(t);!function(t,e){var r=M(),n=e;if(!S.test(e=F()))throw U(e,"name");var i,s,o,a,u=e;if(C("("),C("stream",!0)&&(s=!0),!E.test(e=F()))throw U(e);if(i=e,C(")"),C("returns"),C("("),C("stream",!0)&&(a=!0),!E.test(e=F()))throw U(e);o=e,C(")");var c=new h(u,n,i,o,s,a);c.comment=r,J(c,(function(t){if("option"!==t)throw U(t);tt(c,t),C(";")})),t.add(c)}(r,t)}})),t.add(r)}(t,e),!0;case"extend":return function(t,e){if(!E.test(e=F()))throw U(e,"reference");var r=e;J(null,(function(e){switch(e){case"required":case"repeated":Y(t,e,r);break;case"optional":Y(t,H?"proto3_optional":"optional",r);break;default:if(!H||!E.test(e))throw U(e);R(e),Y(t,"optional",r)}}))}(t,e),!0}return!1}function J(t,e,r){var n=k.line;if(t&&("string"!=typeof t.comment&&(t.comment=M()),t.filename=_.filename),C("{",!0)){for(var i;"}"!==(i=F());)e(i);C(";",!0)}else r&&r(),C(";"),t&&("string"!=typeof t.comment||B)&&(t.comment=M(n)||t.comment)}function Z(t,e){if(!S.test(e=F()))throw U(e,"type name");var r=new s(e);J(r,(function(t){if(!X(r,t))switch(t){case"map":!function(t){C("<");var e=F();if(void 0===l.mapKey[e])throw U(e,"type");C(",");var r=F();if(!E.test(r))throw U(r,"type");C(">");var n=F();if(!S.test(n))throw U(n,"name");C("=");var i=new a(L(n),z(F()),e,r);J(i,(function(t){if("option"!==t)throw U(t);tt(i,t),C(";")}),(function(){nt(i)})),t.add(i)}(r);break;case"required":case"repeated":Y(r,t);break;case"optional":Y(r,H?"proto3_optional":"optional");break;case"oneof":!function(t,e){if(!S.test(e=F()))throw U(e,"name");var r=new u(L(e));J(r,(function(t){"option"===t?(tt(r,t),C(";")):(R(t),Y(r,"optional"))})),t.add(r)}(r,t);break;case"extensions":q(r.extensions||(r.extensions=[]));break;case"reserved":q(r.reserved||(r.reserved=[]),!0);break;default:if(!H||!E.test(t))throw U(t);R(t),Y(r,"optional")}})),t.add(r)}function Y(t,e,r){var n=F();if("group"!==n){for(;n.endsWith(".")||N().startsWith(".");)n+=F();if(!E.test(n))throw U(n,"type");var i=F();if(!S.test(i))throw U(i,"name");i=L(i),C("=");var a=new o(i,z(F()),n,e,r);if(J(a,(function(t){if("option"!==t)throw U(t);tt(a,t),C(";")}),(function(){nt(a)})),"proto3_optional"===e){var c=new u("_"+i);a.setOption("proto3_optional",!0),c.add(a),t.add(c)}else t.add(a);H||!a.repeated||void 0===l.packed[n]&&void 0!==l.basic[n]||a.setOption("packed",!1,!0)}else!function(t,e){var r=F();if(!S.test(r))throw U(r,"name");var n=d.lcFirst(r);r===n&&(r=d.ucFirst(r)),C("=");var i=z(F()),a=new s(r);a.group=!0;var u=new o(n,i,r,e);u.filename=_.filename,J(a,(function(t){switch(t){case"option":tt(a,t),C(";");break;case"required":case"repeated":Y(a,t);break;case"optional":Y(a,H?"proto3_optional":"optional");break;case"message":Z(a,t);break;case"enum":Q(a,t);break;default:throw U(t)}})),t.add(a).add(u)}(t,e)}function Q(t,e){if(!S.test(e=F()))throw U(e,"name");var r=new c(e);J(r,(function(t){switch(t){case"option":tt(r,t),C(";");break;case"reserved":q(r.reserved||(r.reserved=[]),!0);break;default:!function(t,e){if(!S.test(e))throw U(e,"name");C("=");var r=z(F(),!0),n={options:void 0,setOption:function(t,e){void 0===this.options&&(this.options={}),this.options[t]=e}};J(n,(function(t){if("option"!==t)throw U(t);tt(n,t),C(";")}),(function(){nt(n)})),t.add(e,r,n.comment,n.options)}(r,t)}})),t.add(r)}function tt(t,e){var r=C("(",!0);if(!E.test(e=F()))throw U(e,"name");var n,i=e,s=i;r&&(C(")"),s=i="("+i+")",e=N(),x.test(e)&&(n=e.slice(1),i+=e,F())),C("="),function(t,e,r,n){t.setParsedOption&&t.setParsedOption(e,r,n)}(t,s,et(t,i),n)}function et(t,e){if(C("{",!0)){for(var r={};!C("}",!0);){if(!S.test(O=F()))throw U(O,"name");if(null===O)throw U(O,"end of input");var n,i=O;if(C(":",!0),"{"===N())n=et(t,e+"."+O);else if("["===N()){var s;if(n=[],C("[",!0)){do{s=V(!0),n.push(s)}while(C(",",!0));C("]"),void 0!==s&&rt(t,e+"."+O,s)}}else n=V(!0),rt(t,e+"."+O,n);var o=r[i];o&&(n=[].concat(o).concat(n)),r[i]=n,C(",",!0),C(";",!0)}return r}var a=V(!0);return rt(t,e,a),a}function rt(t,e,r){t.setOption&&t.setOption(e,r)}function nt(t){if(C("[",!0)){do{tt(t,"option")}while(C(",",!0));C("]")}return t}for(;null!==(O=F());)switch(O){case"package":if(!D)throw U(O);W();break;case"import":if(!D)throw U(O);G();break;case"syntax":if(!D)throw U(O);$();break;case"option":tt(j,O),C(";");break;default:if(X(j,O)){D=!1;continue}throw U(O)}return _.filename=null,{package:A,imports:P,weakImports:I,syntax:T,root:e}}},1408:(t,e,r)=>{"use strict";t.exports=u;var n,i=r(1223),s=i.LongBits,o=i.utf8;function a(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function u(t){this.buf=t,this.pos=0,this.len=t.length}var c,f="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new u(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new u(t);throw Error("illegal buffer")},h=function(){return i.Buffer?function(t){return(u.create=function(t){return i.Buffer.isBuffer(t)?new n(t):f(t)})(t)}:f};function l(){var t=new s(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw a(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw a(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function d(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new s(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}u.create=h(),u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return d(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|d(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var t=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},u.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var t=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},u.prototype.bytes=function(){var t=this.uint32(),e=this.pos,r=this.pos+t;if(r>this.len)throw a(this,t);if(this.pos+=t,Array.isArray(this.buf))return this.buf.slice(e,r);if(e===r){var n=i.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,e,r)},u.prototype.string=function(){var t=this.bytes();return o.read(t,0,t.length)},u.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw a(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},u._configure=function(t){n=t,u.create=h(),n._configure();var e=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return l.call(this)[e](!1)},uint64:function(){return l.call(this)[e](!0)},sint64:function(){return l.call(this).zzDecode()[e](!1)},fixed64:function(){return p.call(this)[e](!0)},sfixed64:function(){return p.call(this)[e](!1)}})}},593:(t,e,r)=>{"use strict";t.exports=s;var n=r(1408);(s.prototype=Object.create(n.prototype)).constructor=s;var i=r(1223);function s(t){n.call(this,t)}s._configure=function(){i.Buffer&&(s.prototype._slice=i.Buffer.prototype.slice)},s.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},s._configure()},9424:(t,e,r)=>{"use strict";t.exports=h;var n=r(9313);((h.prototype=Object.create(n.prototype)).constructor=h).className="Root";var i,s,o,a=r(3548),u=r(7025),c=r(7598),f=r(9935);function h(t){n.call(this,"",t),this.deferred=[],this.files=[]}function l(){}h.fromJSON=function(t,e){return e||(e=new h),t.options&&e.setOptions(t.options),e.addJSON(t.nested)},h.prototype.resolvePath=f.path.resolve,h.prototype.fetch=f.fetch,h.prototype.load=function t(e,r,n){"function"==typeof r&&(n=r,r=void 0);var i=this;if(!n)return f.asPromise(t,i,e,r);var a=n===l;function u(t,e){if(n){var r=n;if(n=null,a)throw t;r(t,e)}}function c(t){var e=t.lastIndexOf("google/protobuf/");if(e>-1){var r=t.substring(e);if(r in o)return r}return null}function h(t,e){try{if(f.isString(e)&&"{"===e.charAt(0)&&(e=JSON.parse(e)),f.isString(e)){s.filename=t;var n,o=s(e,i,r),h=0;if(o.imports)for(;h<o.imports.length;++h)(n=c(o.imports[h])||i.resolvePath(t,o.imports[h]))&&d(n);if(o.weakImports)for(h=0;h<o.weakImports.length;++h)(n=c(o.weakImports[h])||i.resolvePath(t,o.weakImports[h]))&&d(n,!0)}else i.setOptions(e.options).addJSON(e.nested)}catch(t){u(t)}a||p||u(null,i)}function d(t,e){if(t=c(t)||t,!(i.files.indexOf(t)>-1))if(i.files.push(t),t in o)a?h(t,o[t]):(++p,setTimeout((function(){--p,h(t,o[t])})));else if(a){var r;try{r=f.fs.readFileSync(t).toString("utf8")}catch(t){return void(e||u(t))}h(t,r)}else++p,i.fetch(t,(function(r,s){--p,n&&(r?e?p||u(null,i):u(r):h(t,s))}))}var p=0;f.isString(e)&&(e=[e]);for(var g,y=0;y<e.length;++y)(g=i.resolvePath("",e[y]))&&d(g);if(a)return i;p||u(null,i)},h.prototype.loadSync=function(t,e){if(!f.isNode)throw Error("not supported");return this.load(t,e,l)},h.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(t){return"'extend "+t.extend+"' in "+t.parent.fullName})).join(", "));return n.prototype.resolveAll.call(this)};var d=/^[A-Z]/;function p(t,e){var r=e.parent.lookup(e.extend);if(r){var n=new a(e.fullName,e.id,e.type,e.rule,void 0,e.options);return r.get(n.name)||(n.declaringField=e,e.extensionField=n,r.add(n)),!0}return!1}h.prototype._handleAdd=function(t){if(t instanceof a)void 0===t.extend||t.extensionField||p(0,t)||this.deferred.push(t);else if(t instanceof u)d.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof c)){if(t instanceof i)for(var e=0;e<this.deferred.length;)p(0,this.deferred[e])?this.deferred.splice(e,1):++e;for(var r=0;r<t.nestedArray.length;++r)this._handleAdd(t._nestedArray[r]);d.test(t.name)&&(t.parent[t.name]=t)}},h.prototype._handleRemove=function(t){if(t instanceof a){if(void 0!==t.extend)if(t.extensionField)t.extensionField.parent.remove(t.extensionField),t.extensionField=null;else{var e=this.deferred.indexOf(t);e>-1&&this.deferred.splice(e,1)}}else if(t instanceof u)d.test(t.name)&&delete t.parent[t.name];else if(t instanceof n){for(var r=0;r<t.nestedArray.length;++r)this._handleRemove(t._nestedArray[r]);d.test(t.name)&&delete t.parent[t.name]}},h._configure=function(t,e,r){i=t,s=e,o=r}},5054:t=>{"use strict";t.exports={}},5994:(t,e,r)=>{"use strict";e.Service=r(7948)},7948:(t,e,r)=>{"use strict";t.exports=i;var n=r(1223);function i(t,e,r){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function t(e,r,i,s,o){if(!s)throw TypeError("request must be specified");var a=this;if(!o)return n.asPromise(t,a,e,r,i,s);if(a.rpcImpl)try{return a.rpcImpl(e,r[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),(function(t,r){if(t)return a.emit("error",t,e),o(t);if(null!==r){if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(t){return a.emit("error",t,e),o(t)}return a.emit("data",r,e),o(null,r)}a.end(!0)}))}catch(t){return a.emit("error",t,e),void setTimeout((function(){o(t)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},i.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},7513:(t,e,r)=>{"use strict";t.exports=a;var n=r(9313);((a.prototype=Object.create(n.prototype)).constructor=a).className="Service";var i=r(4429),s=r(9935),o=r(5994);function a(t,e){n.call(this,t,e),this.methods={},this._methodsArray=null}function u(t){return t._methodsArray=null,t}a.fromJSON=function(t,e){var r=new a(t,e.options);if(e.methods)for(var n=Object.keys(e.methods),s=0;s<n.length;++s)r.add(i.fromJSON(n[s],e.methods[n[s]]));return e.nested&&r.addJSON(e.nested),r.comment=e.comment,r},a.prototype.toJSON=function(t){var e=n.prototype.toJSON.call(this,t),r=!!t&&Boolean(t.keepComments);return s.toObject(["options",e&&e.options||void 0,"methods",n.arrayToJSON(this.methodsArray,t)||{},"nested",e&&e.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}}),a.prototype.get=function(t){return this.methods[t]||n.prototype.get.call(this,t)},a.prototype.resolveAll=function(){for(var t=this.methodsArray,e=0;e<t.length;++e)t[e].resolve();return n.prototype.resolve.call(this)},a.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof i?(this.methods[t.name]=t,t.parent=this,u(this)):n.prototype.add.call(this,t)},a.prototype.remove=function(t){if(t instanceof i){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,u(this)}return n.prototype.remove.call(this,t)},a.prototype.create=function(t,e,r){for(var n,i=new o.Service(t,e,r),a=0;a<this.methodsArray.length;++a){var u=s.lcFirst((n=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");i[u]=s.codegen(["r","c"],s.isReserved(u)?u+"_":u)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return i}},626:t=>{"use strict";t.exports=h;var e=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,n=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,i=/^ *[*/]+ */,s=/^\s*\*?\/*/,o=/\n/g,a=/\s/,u=/\\(.?)/g,c={0:"\0",r:"\r",n:"\n",t:"\t"};function f(t){return t.replace(u,(function(t,e){switch(e){case"\\":case"":return e;default:return c[e]||""}}))}function h(t,u){t=t.toString();var c=0,h=t.length,l=1,d=0,p={},g=[],y=null;function m(t){return Error("illegal "+t+" (line "+l+")")}function b(e){return t.charAt(e)}function v(e,r,n){var a,c={type:t.charAt(e++),lineEmpty:!1,leading:n},f=e-(u?2:3);do{if(--f<0||"\n"===(a=t.charAt(f))){c.lineEmpty=!0;break}}while(" "===a||"\t"===a);for(var h=t.substring(e,r).split(o),g=0;g<h.length;++g)h[g]=h[g].replace(u?s:i,"").trim();c.text=h.join("\n").trim(),p[l]=c,d=l}function w(e){var r=S(e),n=t.substring(e,r);return/^\s*\/\//.test(n)}function S(t){for(var e=t;e<h&&"\n"!==b(e);)e++;return e}function E(){if(g.length>0)return g.shift();if(y)return function(){var e="'"===y?n:r;e.lastIndex=c-1;var i=e.exec(t);if(!i)throw m("string");return c=e.lastIndex,x(y),y=null,f(i[1])}();var i,s,o,d,p,E=0===c;do{if(c===h)return null;for(i=!1;a.test(o=b(c));)if("\n"===o&&(E=!0,++l),++c===h)return null;if("/"===b(c)){if(++c===h)throw m("comment");if("/"===b(c))if(u){if(d=c,p=!1,w(c-1)){p=!0;do{if((c=S(c))===h)break;if(c++,!E)break}while(w(c))}else c=Math.min(h,S(c)+1);p&&(v(d,c,E),E=!0),l++,i=!0}else{for(p="/"===b(d=c+1);"\n"!==b(++c);)if(c===h)return null;++c,p&&(v(d,c-1,E),E=!0),++l,i=!0}else{if("*"!==(o=b(c)))return"/";d=c+1,p=u||"*"===b(d);do{if("\n"===o&&++l,++c===h)throw m("comment");s=o,o=b(c)}while("*"!==s||"/"!==o);++c,p&&(v(d,c-2,E),E=!0),i=!0}}}while(i);var _=c;if(e.lastIndex=0,!e.test(b(_++)))for(;_<h&&!e.test(b(_));)++_;var A=t.substring(c,c=_);return'"'!==A&&"'"!==A||(y=A),A}function x(t){g.push(t)}function _(){if(!g.length){var t=E();if(null===t)return null;x(t)}return g[0]}return Object.defineProperty({next:E,peek:_,push:x,skip:function(t,e){var r=_();if(r===t)return E(),!0;if(!e)throw m("token '"+r+"', '"+t+"' expected");return!1},cmnt:function(t){var e,r=null;return void 0===t?(e=p[l-1],delete p[l-1],e&&(u||"*"===e.type||e.lineEmpty)&&(r=e.leading?e.text:null)):(d<t&&_(),e=p[t],delete p[t],!e||e.lineEmpty||!u&&"/"!==e.type||(r=e.leading?null:e.text)),r}},"line",{get:function(){return l}})}h.unescape=f},7645:(t,e,r)=>{"use strict";t.exports=b;var n=r(9313);((b.prototype=Object.create(n.prototype)).constructor=b).className="Type";var i=r(7025),s=r(7598),o=r(3548),a=r(6039),u=r(7513),c=r(8368),f=r(1408),h=r(1173),l=r(9935),d=r(4928),p=r(5305),g=r(4497),y=r(3996),m=r(1667);function b(t,e){n.call(this,t,e),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function v(t){return t._fieldsById=t._fieldsArray=t._oneofsArray=null,delete t.encode,delete t.decode,delete t.verify,t}Object.defineProperties(b.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var t=Object.keys(this.fields),e=0;e<t.length;++e){var r=this.fields[t[e]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=l.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=l.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=b.generateConstructor(this)())},set:function(t){var e=t.prototype;e instanceof c||((t.prototype=new c).constructor=t,l.merge(t.prototype,e)),t.$type=t.prototype.$type=this,l.merge(t,c,!0),this._ctor=t;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:l.oneOfGetter(this._oneofsArray[r].oneof),set:l.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(t.prototype,n)}}}),b.generateConstructor=function(t){for(var e,r=l.codegen(["p"],t.name),n=0;n<t.fieldsArray.length;++n)(e=t._fieldsArray[n]).map?r("this%s={}",l.safeProp(e.name)):e.repeated&&r("this%s=[]",l.safeProp(e.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},b.fromJSON=function(t,e){var r=new b(t,e.options);r.extensions=e.extensions,r.reserved=e.reserved;for(var c=Object.keys(e.fields),f=0;f<c.length;++f)r.add((void 0!==e.fields[c[f]].keyType?a.fromJSON:o.fromJSON)(c[f],e.fields[c[f]]));if(e.oneofs)for(c=Object.keys(e.oneofs),f=0;f<c.length;++f)r.add(s.fromJSON(c[f],e.oneofs[c[f]]));if(e.nested)for(c=Object.keys(e.nested),f=0;f<c.length;++f){var h=e.nested[c[f]];r.add((void 0!==h.id?o.fromJSON:void 0!==h.fields?b.fromJSON:void 0!==h.values?i.fromJSON:void 0!==h.methods?u.fromJSON:n.fromJSON)(c[f],h))}return e.extensions&&e.extensions.length&&(r.extensions=e.extensions),e.reserved&&e.reserved.length&&(r.reserved=e.reserved),e.group&&(r.group=!0),e.comment&&(r.comment=e.comment),r},b.prototype.toJSON=function(t){var e=n.prototype.toJSON.call(this,t),r=!!t&&Boolean(t.keepComments);return l.toObject(["options",e&&e.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,t),"fields",n.arrayToJSON(this.fieldsArray.filter((function(t){return!t.declaringField})),t)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",e&&e.nested||void 0,"comment",r?this.comment:void 0])},b.prototype.resolveAll=function(){for(var t=this.fieldsArray,e=0;e<t.length;)t[e++].resolve();var r=this.oneofsArray;for(e=0;e<r.length;)r[e++].resolve();return n.prototype.resolveAll.call(this)},b.prototype.get=function(t){return this.fields[t]||this.oneofs&&this.oneofs[t]||this.nested&&this.nested[t]||null},b.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof o&&void 0===t.extend){if(this._fieldsById?this._fieldsById[t.id]:this.fieldsById[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name '"+t.name+"' is reserved in "+this);return t.parent&&t.parent.remove(t),this.fields[t.name]=t,t.message=this,t.onAdd(this),v(this)}return t instanceof s?(this.oneofs||(this.oneofs={}),this.oneofs[t.name]=t,t.onAdd(this),v(this)):n.prototype.add.call(this,t)},b.prototype.remove=function(t){if(t instanceof o&&void 0===t.extend){if(!this.fields||this.fields[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.fields[t.name],t.parent=null,t.onRemove(this),v(this)}if(t instanceof s){if(!this.oneofs||this.oneofs[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.oneofs[t.name],t.parent=null,t.onRemove(this),v(this)}return n.prototype.remove.call(this,t)},b.prototype.isReservedId=function(t){return n.isReservedId(this.reserved,t)},b.prototype.isReservedName=function(t){return n.isReservedName(this.reserved,t)},b.prototype.create=function(t){return new this.ctor(t)},b.prototype.setup=function(){for(var t=this.fullName,e=[],r=0;r<this.fieldsArray.length;++r)e.push(this._fieldsArray[r].resolve().resolvedType);this.encode=d(this)({Writer:h,types:e,util:l}),this.decode=p(this)({Reader:f,types:e,util:l}),this.verify=g(this)({types:e,util:l}),this.fromObject=y.fromObject(this)({types:e,util:l}),this.toObject=y.toObject(this)({types:e,util:l});var n=m[t];if(n){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(i),i.toObject=this.toObject,this.toObject=n.toObject.bind(i)}return this},b.prototype.encode=function(t,e){return this.setup().encode(t,e)},b.prototype.encodeDelimited=function(t,e){return this.encode(t,e&&e.len?e.fork():e).ldelim()},b.prototype.decode=function(t,e){return this.setup().decode(t,e)},b.prototype.decodeDelimited=function(t){return t instanceof f||(t=f.create(t)),this.decode(t,t.uint32())},b.prototype.verify=function(t){return this.setup().verify(t)},b.prototype.fromObject=function(t){return this.setup().fromObject(t)},b.prototype.toObject=function(t,e){return this.setup().toObject(t,e)},b.d=function(t){return function(e){l.decorateType(e,t)}}},7063:(t,e,r)=>{"use strict";var n=e,i=r(9935),s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(t,e){var r=0,n={};for(e|=0;r<t.length;)n[s[r+e]]=t[r++];return n}n.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),n.long=o([0,0,0,1,1],7),n.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},9935:(t,e,r)=>{"use strict";var n,i,s=t.exports=r(1223),o=r(5054);s.codegen=r(5124),s.fetch=r(9054),s.path=r(8626),s.fs=s.inquire("fs"),s.toArray=function(t){if(t){for(var e=Object.keys(t),r=new Array(e.length),n=0;n<e.length;)r[n]=t[e[n++]];return r}return[]},s.toObject=function(t){for(var e={},r=0;r<t.length;){var n=t[r++],i=t[r++];void 0!==i&&(e[n]=i)}return e};var a=/\\/g,u=/"/g;s.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)},s.safeProp=function(t){return!/^[$\w_]+$/.test(t)||s.isReserved(t)?'["'+t.replace(a,"\\\\").replace(u,'\\"')+'"]':"."+t},s.ucFirst=function(t){return t.charAt(0).toUpperCase()+t.substring(1)};var c=/_([a-z])/g;s.camelCase=function(t){return t.substring(0,1)+t.substring(1).replace(c,(function(t,e){return e.toUpperCase()}))},s.compareFieldsById=function(t,e){return t.id-e.id},s.decorateType=function(t,e){if(t.$type)return e&&t.$type.name!==e&&(s.decorateRoot.remove(t.$type),t.$type.name=e,s.decorateRoot.add(t.$type)),t.$type;n||(n=r(7645));var i=new n(e||t.name);return s.decorateRoot.add(i),i.ctor=t,Object.defineProperty(t,"$type",{value:i,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:i,enumerable:!1}),i};var f=0;s.decorateEnum=function(t){if(t.$type)return t.$type;i||(i=r(7025));var e=new i("Enum"+f++,t);return s.decorateRoot.add(e),Object.defineProperty(t,"$type",{value:e,enumerable:!1}),e},s.setProperty=function(t,e,r){if("object"!=typeof t)throw TypeError("dst must be an object");if(!e)throw TypeError("path must be specified");return function t(e,r,n){var i=r.shift();if("__proto__"===i||"prototype"===i)return e;if(r.length>0)e[i]=t(e[i]||{},r,n);else{var s=e[i];s&&(n=[].concat(s).concat(n)),e[i]=n}return e}(t,e=e.split("."),r)},Object.defineProperty(s,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(r(9424)))}})},1945:(t,e,r)=>{"use strict";t.exports=i;var n=r(1223);function i(t,e){this.lo=t>>>0,this.hi=e>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(t){if(0===t)return s;var e=t<0;e&&(t=-t);var r=t>>>0,n=(t-r)/4294967296>>>0;return e&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(t){if("number"==typeof t)return i.fromNumber(t);if(n.isString(t)){if(!n.Long)return i.fromNumber(parseInt(t,10));t=n.Long.fromString(t)}return t.low||t.high?new i(t.low>>>0,t.high>>>0):s},i.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,r=~this.hi>>>0;return e||(r=r+1>>>0),-(e+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(t){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var a=String.prototype.charCodeAt;i.fromHash=function(t){return t===o?s:new i((a.call(t,0)|a.call(t,1)<<8|a.call(t,2)<<16|a.call(t,3)<<24)>>>0,(a.call(t,4)|a.call(t,5)<<8|a.call(t,6)<<16|a.call(t,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},i.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},i.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:r<128?9:10}},1223:function(t,e,r){"use strict";var n=e;function i(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)void 0!==t[n[i]]&&r||(t[n[i]]=e[n[i]]);return t}function s(t){function e(t,r){if(!(this instanceof e))return new e(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}n.asPromise=r(4537),n.base64=r(7419),n.EventEmitter=r(9211),n.float=r(945),n.inquire=r(7199),n.utf8=r(4997),n.pool=r(6662),n.LongBits=r(1945),n.isNode=Boolean(void 0!==r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},n.isString=function(t){return"string"==typeof t||t instanceof String},n.isObject=function(t){return t&&"object"==typeof t},n.isset=n.isSet=function(t,e){var r=t[e];return!(null==r||!t.hasOwnProperty(e))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var t=n.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(t){return"number"==typeof t?n.Buffer?n._Buffer_allocUnsafe(t):new n.Array(t):n.Buffer?n._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(t){return t?n.LongBits.from(t).toHash():n.LongBits.zeroHash},n.longFromHash=function(t,e){var r=n.LongBits.fromHash(t);return n.Long?n.Long.fromBits(r.lo,r.hi,e):r.toNumber(Boolean(e))},n.merge=i,n.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},n.newError=s,n.ProtocolError=s("ProtocolError"),n.oneOfGetter=function(t){for(var e={},r=0;r<t.length;++r)e[t[r]]=1;return function(){for(var t=Object.keys(this),r=t.length-1;r>-1;--r)if(1===e[t[r]]&&void 0!==this[t[r]]&&null!==this[t[r]])return t[r]}},n.oneOfSetter=function(t){return function(e){for(var r=0;r<t.length;++r)t[r]!==e&&delete this[t[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var t=n.Buffer;t?(n._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,r){return new t(e,r)},n._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},4497:(t,e,r)=>{"use strict";t.exports=function(t){var e=i.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r={};t.oneofsArray.length&&e("var p={}");for(var n=0;n<t.fieldsArray.length;++n){var u=t._fieldsArray[n].resolve(),c="m"+i.safeProp(u.name);if(u.optional&&e("if(%s!=null&&m.hasOwnProperty(%j)){",c,u.name),u.map)e("if(!util.isObject(%s))",c)("return%j",s(u,"object"))("var k=Object.keys(%s)",c)("for(var i=0;i<k.length;++i){"),a(e,u,"k[i]"),o(e,u,n,c+"[k[i]]")("}");else if(u.repeated)e("if(!Array.isArray(%s))",c)("return%j",s(u,"array"))("for(var i=0;i<%s.length;++i){",c),o(e,u,n,c+"[i]")("}");else{if(u.partOf){var f=i.safeProp(u.partOf.name);1===r[u.partOf.name]&&e("if(p%s===1)",f)("return%j",u.partOf.name+": multiple values"),r[u.partOf.name]=1,e("p%s=1",f)}o(e,u,n,c)}u.optional&&e("}")}return e("return null")};var n=r(7025),i=r(9935);function s(t,e){return t.name+": "+e+(t.repeated&&"array"!==e?"[]":t.map&&"object"!==e?"{k:"+t.keyType+"}":"")+" expected"}function o(t,e,r,i){if(e.resolvedType)if(e.resolvedType instanceof n){t("switch(%s){",i)("default:")("return%j",s(e,"enum value"));for(var o=Object.keys(e.resolvedType.values),a=0;a<o.length;++a)t("case %i:",e.resolvedType.values[o[a]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",r,i)("if(e)")("return%j+e",e.name+".")("}");else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",i)("return%j",s(e,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",s(e,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',i)("return%j",s(e,"number"));break;case"bool":t('if(typeof %s!=="boolean")',i)("return%j",s(e,"boolean"));break;case"string":t("if(!util.isString(%s))",i)("return%j",s(e,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",s(e,"buffer"))}return t}function a(t,e,r){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",r)("return%j",s(e,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",r)("return%j",s(e,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",r)("return%j",s(e,"boolean key"))}return t}},1667:(t,e,r)=>{"use strict";var n=e,i=r(8368);n[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var e=t["@type"].substring(t["@type"].lastIndexOf("/")+1),r=this.lookup(e);if(r){var n="."===t["@type"].charAt(0)?t["@type"].slice(1):t["@type"];return-1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(t)).finish()})}}return this.fromObject(t)},toObject:function(t,e){var r="",n="";if(e&&e.json&&t.type_url&&t.value){n=t.type_url.substring(t.type_url.lastIndexOf("/")+1),r=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1);var s=this.lookup(n);s&&(t=s.decode(t.value))}if(!(t instanceof this.ctor)&&t instanceof i){var o=t.$type.toObject(t,e);return""===r&&(r="type.googleapis.com/"),n=r+("."===t.$type.fullName[0]?t.$type.fullName.slice(1):t.$type.fullName),o["@type"]=n,o}return this.toObject(t,e)}}},1173:(t,e,r)=>{"use strict";t.exports=h;var n,i=r(1223),s=i.LongBits,o=i.base64,a=i.utf8;function u(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function c(){}function f(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function h(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var l=function(){return i.Buffer?function(){return(h.create=function(){return new n})()}:function(){return new h}};function d(t,e,r){e[r]=255&t}function p(t,e){this.len=t,this.next=void 0,this.val=e}function g(t,e,r){for(;t.hi;)e[r++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=127&t.lo|128,t.lo=t.lo>>>7;e[r++]=t.lo}function y(t,e,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}h.create=l(),h.alloc=function(t){return new i.Array(t)},i.Array!==Array&&(h.alloc=i.pool(h.alloc,i.Array.prototype.subarray)),h.prototype._push=function(t,e,r){return this.tail=this.tail.next=new u(t,e,r),this.len+=e,this},p.prototype=Object.create(u.prototype),p.prototype.fn=function(t,e,r){for(;t>127;)e[r++]=127&t|128,t>>>=7;e[r]=t},h.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new p((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},h.prototype.int32=function(t){return t<0?this._push(g,10,s.fromNumber(t)):this.uint32(t)},h.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},h.prototype.uint64=function(t){var e=s.from(t);return this._push(g,e.length(),e)},h.prototype.int64=h.prototype.uint64,h.prototype.sint64=function(t){var e=s.from(t).zzEncode();return this._push(g,e.length(),e)},h.prototype.bool=function(t){return this._push(d,1,t?1:0)},h.prototype.fixed32=function(t){return this._push(y,4,t>>>0)},h.prototype.sfixed32=h.prototype.fixed32,h.prototype.fixed64=function(t){var e=s.from(t);return this._push(y,4,e.lo)._push(y,4,e.hi)},h.prototype.sfixed64=h.prototype.fixed64,h.prototype.float=function(t){return this._push(i.float.writeFloatLE,4,t)},h.prototype.double=function(t){return this._push(i.float.writeDoubleLE,8,t)};var m=i.Array.prototype.set?function(t,e,r){e.set(t,r)}:function(t,e,r){for(var n=0;n<t.length;++n)e[r+n]=t[n]};h.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(d,1,0);if(i.isString(t)){var r=h.alloc(e=o.length(t));o.decode(t,r,0),t=r}return this.uint32(e)._push(m,e,t)},h.prototype.string=function(t){var e=a.length(t);return e?this.uint32(e)._push(a.write,e,t):this._push(d,1,0)},h.prototype.fork=function(){return this.states=new f(this),this.head=this.tail=new u(c,0,0),this.len=0,this},h.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},h.prototype.ldelim=function(){var t=this.head,e=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=t.next,this.tail=e,this.len+=r),this},h.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),r=0;t;)t.fn(t.val,e,r),r+=t.len,t=t.next;return e},h._configure=function(t){n=t,h.create=l(),n._configure()}},3155:(t,e,r)=>{"use strict";t.exports=s;var n=r(1173);(s.prototype=Object.create(n.prototype)).constructor=s;var i=r(1223);function s(){n.call(this)}function o(t,e,r){t.length<40?i.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}s._configure=function(){s.alloc=i._Buffer_allocUnsafe,s.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(t,e,r){e.set(t,r)}:function(t,e,r){if(t.copy)t.copy(e,r,0,t.length);else for(var n=0;n<t.length;)e[r++]=t[n++]}},s.prototype.bytes=function(t){i.isString(t)&&(t=i._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(s.writeBytesBuffer,e,t),this},s.prototype.string=function(t){var e=i.Buffer.byteLength(t);return this.uint32(e),e&&this._push(o,e,t),this},s._configure()},1798:(t,e,r)=>{"use strict";var n=65536,i=r(9509).Buffer,s=r.g.crypto||r.g.msCrypto;s&&s.getRandomValues?t.exports=function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var r=i.allocUnsafe(t);if(t>0)if(t>n)for(var o=0;o<t;o+=n)s.getRandomValues(r.slice(o,o+n));else s.getRandomValues(r);return"function"==typeof e?process.nextTick((function(){e(null,r)})):r}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},4281:t=>{"use strict";var e={};function r(t,r,n){n||(n=Error);var i=function(t){var e,n;function i(e,n,i){return t.call(this,function(t,e,n){return"string"==typeof r?r:r(t,e,n)}(e,n,i))||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=t,e[t]=i}function n(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(t,e,r){var i,s,o,a,u;if("string"==typeof e&&(s="not ",e.substr(0,4)===s)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-9,r)===e}(t," argument"))o="The ".concat(t," ").concat(i," ").concat(n(e,"type"));else{var c=("number"!=typeof u&&(u=0),u+1>(a=t).length||-1===a.indexOf(".",u)?"argument":"property");o='The "'.concat(t,'" ').concat(c," ").concat(i," ").concat(n(e,"type"))}return o+". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},6753:(t,e,r)=>{"use strict";var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=c;var i=r(9481),s=r(4229);r(5717)(c,i);for(var o=n(s.prototype),a=0;a<o.length;a++){var u=o[a];c.prototype[u]||(c.prototype[u]=s.prototype[u])}function c(t){if(!(this instanceof c))return new c(t);i.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||process.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},2725:(t,e,r)=>{"use strict";t.exports=i;var n=r(4605);function i(t){if(!(this instanceof i))return new i(t);n.call(this,t)}r(5717)(i,n),i.prototype._transform=function(t,e,r){r(null,t)}},9481:(t,e,r)=>{"use strict";var n;t.exports=_,_.ReadableState=x,r(7187).EventEmitter;var i,s=function(t,e){return t.listeners(e).length},o=r(2503),a=r(8764).Buffer,u=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},c=r(4616);i=c&&c.debuglog?c.debuglog("stream"):function(){};var f,h,l,d=r(7327),p=r(1195),g=r(2457).getHighWaterMark,y=r(4281).q,m=y.ERR_INVALID_ARG_TYPE,b=y.ERR_STREAM_PUSH_AFTER_EOF,v=y.ERR_METHOD_NOT_IMPLEMENTED,w=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(5717)(_,o);var S=p.errorOrDestroy,E=["error","close","destroy","pause","resume"];function x(t,e,i){n=n||r(6753),t=t||{},"boolean"!=typeof i&&(i=e instanceof n),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=g(this,t,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=r(2553).s),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function _(t){if(n=n||r(6753),!(this instanceof _))return new _(t);var e=this instanceof n;this._readableState=new x(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),o.call(this)}function A(t,e,r,n,s){i("readableAddChunk",e);var o,c=t._readableState;if(null===e)c.reading=!1,function(t,e){if(i("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?O(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,B(t)))}}(t,c);else if(s||(o=function(t,e){var r,n;return n=e,a.isBuffer(n)||n instanceof u||"string"==typeof e||void 0===e||t.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],e)),r}(c,e)),o)S(t,o);else if(c.objectMode||e&&e.length>0)if("string"==typeof e||c.objectMode||Object.getPrototypeOf(e)===a.prototype||(e=function(t){return a.from(t)}(e)),n)c.endEmitted?S(t,new w):P(t,c,e,!0);else if(c.ended)S(t,new b);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(e=c.decoder.write(e),c.objectMode||0!==e.length?P(t,c,e,!1):k(t,c)):P(t,c,e,!1)}else n||(c.reading=!1,k(t,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function P(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&O(t)),k(t,e)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),_.prototype.destroy=p.destroy,_.prototype._undestroy=p.undestroy,_.prototype._destroy=function(t,e){e(t)},_.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=a.from(t,e),e=""),r=!0),A(this,t,e,!1,r)},_.prototype.unshift=function(t){return A(this,t,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(t){f||(f=r(2553).s);var e=new f(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var I=1073741824;function T(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=I?t=I:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function O(t){var e=t._readableState;i("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(i("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(B,t))}function B(t){var e=t._readableState;i("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,M(t)}function k(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(F,t,e))}function F(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var r=e.length;if(i("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}function R(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function N(t){i("readable nexttick read 0"),t.read(0)}function C(t,e){i("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),M(t),e.flowing&&!e.reading&&t.read(0)}function M(t){var e=t._readableState;for(i("flow",e.flowing);e.flowing&&null!==t.read(););}function D(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r);var r}function H(t){var e=t._readableState;i("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(j,e,t))}function j(t,e){if(i("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}function L(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}_.prototype.read=function(t){i("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return i("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?H(this):O(this),null;if(0===(t=T(t,e))&&e.ended)return 0===e.length&&H(this),null;var n,s=e.needReadable;return i("need readable",s),(0===e.length||e.length-t<e.highWaterMark)&&i("length less than watermark",s=!0),e.ended||e.reading?i("reading or ended",s=!1):s&&(i("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=T(r,e))),null===(n=t>0?D(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&H(this)),null!==n&&this.emit("data",n),n},_.prototype._read=function(t){S(this,new v("_read()"))},_.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t)}n.pipesCount+=1,i("pipe count=%d opts=%j",n.pipesCount,e);var o=e&&!1===e.end||t===process.stdout||t===process.stderr?p:a;function a(){i("onend"),t.end()}n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",(function e(s,o){i("onunpipe"),s===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,i("cleanup"),t.removeListener("close",l),t.removeListener("finish",d),t.removeListener("drain",u),t.removeListener("error",h),t.removeListener("unpipe",e),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",f),c=!0,!n.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}));var u=function(t){return function(){var e=t._readableState;i("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,M(t))}}(r);t.on("drain",u);var c=!1;function f(e){i("ondata");var s=t.write(e);i("dest.write",s),!1===s&&((1===n.pipesCount&&n.pipes===t||n.pipesCount>1&&-1!==L(n.pipes,t))&&!c&&(i("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function h(e){i("onerror",e),p(),t.removeListener("error",h),0===s(t,"error")&&S(t,e)}function l(){t.removeListener("finish",d),p()}function d(){i("onfinish"),t.removeListener("close",l),p()}function p(){i("unpipe"),r.unpipe(t)}return r.on("data",f),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",h),t.once("close",l),t.once("finish",d),t.emit("pipe",r),n.flowing||(i("pipe resume"),r.resume()),t},_.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r)),this;if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)n[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=L(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r)),this},_.prototype.on=function(t,e){var r=o.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===t&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,i("on readable",n.length,n.reading),n.length?O(this):n.reading||process.nextTick(N,this))),r},_.prototype.addListener=_.prototype.on,_.prototype.removeListener=function(t,e){var r=o.prototype.removeListener.call(this,t,e);return"readable"===t&&process.nextTick(R,this),r},_.prototype.removeAllListeners=function(t){var e=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||process.nextTick(R,this),e},_.prototype.resume=function(){var t=this._readableState;return t.flowing||(i("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(C,t,e))}(this,t)),t.paused=!1,this},_.prototype.pause=function(){return i("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(i("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var s in t.on("end",(function(){if(i("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(s){i("wrapped data"),r.decoder&&(s=r.decoder.write(s)),r.objectMode&&null==s||(r.objectMode||s&&s.length)&&(e.push(s)||(n=!0,t.pause()))})),t)void 0===this[s]&&"function"==typeof t[s]&&(this[s]=function(e){return function(){return t[e].apply(t,arguments)}}(s));for(var o=0;o<E.length;o++)t.on(E[o],this.emit.bind(this,E[o]));return this._read=function(e){i("wrapped _read",e),n&&(n=!1,t.resume())},this},"function"==typeof Symbol&&(_.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(5850)),h(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),_._fromList=D,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(_.from=function(t,e){return void 0===l&&(l=r(5167)),l(_,t,e)})},4605:(t,e,r)=>{"use strict";t.exports=f;var n=r(4281).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(6753);function c(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function f(t){if(!(this instanceof f))return new f(t);u.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?l(this,null,null):this._flush((function(e,r){l(t,e,r)}))}function l(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;return t.push(null)}r(5717)(f,u),f.prototype.push=function(t,e){return this._transformState.needTransform=!1,u.prototype.push.call(this,t,e)},f.prototype._transform=function(t,e,r){r(new i("_transform()"))},f.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},f.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},f.prototype._destroy=function(t,e){u.prototype._destroy.call(this,t,(function(t){e(t)}))}},4229:(t,e,r)=>{"use strict";function n(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(undefined),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}var i;t.exports=_,_.WritableState=x;var s,o={deprecate:r(4927)},a=r(2503),u=r(8764).Buffer,c=(void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},f=r(1195),h=r(2457).getHighWaterMark,l=r(4281).q,d=l.ERR_INVALID_ARG_TYPE,p=l.ERR_METHOD_NOT_IMPLEMENTED,g=l.ERR_MULTIPLE_CALLBACK,y=l.ERR_STREAM_CANNOT_PIPE,m=l.ERR_STREAM_DESTROYED,b=l.ERR_STREAM_NULL_VALUES,v=l.ERR_STREAM_WRITE_AFTER_END,w=l.ERR_UNKNOWN_ENCODING,S=f.errorOrDestroy;function E(){}function x(t,e,s){i=i||r(6753),t=t||{},"boolean"!=typeof s&&(s=e instanceof i),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=h(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new g;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(B,t,e),t._writableState.errorEmitted=!0,S(t,n)):(i(n),t._writableState.errorEmitted=!0,S(t,n),B(t,e))}(t,r,n,e,i);else{var s=T(r)||t.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||I(t,r),n?process.nextTick(P,t,r,s,i):P(t,r,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function _(t){var e=this instanceof(i=i||r(6753));if(!e&&!s.call(_,this))return new _(t);this._writableState=new x(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function A(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new m("write")):r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function P(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),B(t,e)}function I(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var i=e.bufferedRequestCount,s=new Array(i),o=e.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)s[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;s.allBuffers=u,A(t,e,!0,e.length,s,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new n(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,h=r.callback;if(A(t,e,!1,e.objectMode?1:c.length,c,f,h),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function T(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function O(t,e){t._final((function(r){e.pendingcb--,r&&S(t,r),e.prefinished=!0,t.emit("prefinish"),B(t,e)}))}function B(t,e){var r=T(e);if(r&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,process.nextTick(O,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}r(5717)(_,a),x.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(x.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(t){return!!s.call(this,t)||this===_&&t&&t._writableState instanceof x}})):s=function(t){return t instanceof this},_.prototype.pipe=function(){S(this,new y)},_.prototype.write=function(t,e,r){var n,i=this._writableState,s=!1,o=!i.objectMode&&(n=t,u.isBuffer(n)||n instanceof c);return o&&!u.isBuffer(t)&&(t=function(t){return u.from(t)}(t)),"function"==typeof e&&(r=e,e=null),o?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof r&&(r=E),i.ending?function(t,e){var r=new v;S(t,r),process.nextTick(e,r)}(this,r):(o||function(t,e,r,n){var i;return null===r?i=new b:"string"==typeof r||e.objectMode||(i=new d("chunk",["string","Buffer"],r)),!i||(S(t,i),process.nextTick(n,i),!1)}(this,i,t,r))&&(i.pendingcb++,s=function(t,e,r,n,i,s){if(!r){var o=function(t,e,r){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=u.from(e,r)),e}(e,n,i);n!==o&&(r=!0,i="buffer",n=o)}var a=e.objectMode?1:n.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var f=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:s,next:null},f?f.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else A(t,e,!1,a,n,i,s);return c}(this,i,o,t,e,r)),s},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||I(this,t))},_.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new w(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(t,e,r){r(new p("_write()"))},_.prototype._writev=null,_.prototype.end=function(t,e,r){var n=this._writableState;return"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||function(t,e,r){e.ending=!0,B(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}(this,n,r),this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),_.prototype.destroy=f.destroy,_.prototype._undestroy=f.undestroy,_.prototype._destroy=function(t,e){e(t)}},5850:(t,e,r)=>{"use strict";var n;function i(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=r(8610),o=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),h=Symbol("handlePromise"),l=Symbol("stream");function d(t,e){return{value:t,done:e}}function p(t){var e=t[o];if(null!==e){var r=t[l].read();null!==r&&(t[f]=null,t[o]=null,t[a]=null,e(d(r,!1)))}}function g(t){process.nextTick(p,t)}var y=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((i(n={get stream(){return this[l]},next:function(){var t=this,e=this[u];if(null!==e)return Promise.reject(e);if(this[c])return Promise.resolve(d(void 0,!0));if(this[l].destroyed)return new Promise((function(e,r){process.nextTick((function(){t[u]?r(t[u]):e(d(void 0,!0))}))}));var r,n=this[f];if(n)r=new Promise(function(t,e){return function(r,n){t.then((function(){e[c]?r(d(void 0,!0)):e[h](r,n)}),n)}}(n,this));else{var i=this[l].read();if(null!==i)return Promise.resolve(d(i,!1));r=new Promise(this[h])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var t=this;return new Promise((function(e,r){t[l].destroy(null,(function(t){t?r(t):e(d(void 0,!0))}))}))})),n),y);t.exports=function(t){var e,r=Object.create(m,(i(e={},l,{value:t,writable:!0}),i(e,o,{value:null,writable:!0}),i(e,a,{value:null,writable:!0}),i(e,u,{value:null,writable:!0}),i(e,c,{value:t._readableState.endEmitted,writable:!0}),i(e,h,{value:function(t,e){var n=r[l].read();n?(r[f]=null,r[o]=null,r[a]=null,t(d(n,!1))):(r[o]=t,r[a]=e)},writable:!0}),e));return r[f]=null,s(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=r[a];return null!==e&&(r[f]=null,r[o]=null,r[a]=null,e(t)),void(r[u]=t)}var n=r[o];null!==n&&(r[f]=null,r[o]=null,r[a]=null,n(d(void 0,!0))),r[c]=!0})),t.on("readable",g.bind(null,r)),r}},7327:(t,e,r)=>{"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function a(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}var u=r(8764).Buffer,c=r(2361).inspect,f=c&&c.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,r;return e=t,(r=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r}},{key:"concat",value:function(t){if(0===this.length)return u.alloc(0);for(var e,r,n,i=u.allocUnsafe(t>>>0),s=this.head,o=0;s;)e=s.data,r=i,n=o,u.prototype.copy.call(e,r,n),o+=s.data.length,s=s.next;return i}},{key:"consume",value:function(t,e){var r;return t<this.head.data.length?(r=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):r=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,r=1,n=e.data;for(t-=n.length;e=e.next;){var i=e.data,s=t>i.length?i.length:t;if(s===i.length?n+=i:n+=i.slice(0,t),0==(t-=s)){s===i.length?(++r,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(s));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(t){var e=u.allocUnsafe(t),r=this.head,n=1;for(r.data.copy(e),t-=r.data.length;r=r.next;){var i=r.data,s=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,s),0==(t-=s)){s===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(s));break}++n}return this.length-=n,e}},{key:f,value:function(t,e){return c(this,i(i({},e),{},{depth:0,customInspect:!1}))}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()},1195:t=>{"use strict";function e(t,e){n(t,e),r(t)}function r(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function n(t,e){t.emit("error",e)}t.exports={destroy:function(t,i){var s=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(i?i(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,t)):process.nextTick(n,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!i&&t?s._writableState?s._writableState.errorEmitted?process.nextTick(r,s):(s._writableState.errorEmitted=!0,process.nextTick(e,s,t)):process.nextTick(e,s,t):i?(process.nextTick(r,s),i(t)):process.nextTick(r,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}}},8610:(t,e,r)=>{"use strict";var n=r(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,r,s){if("function"==typeof r)return t(e,null,r);r||(r={}),s=function(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}(s||i);var o=r.readable||!1!==r.readable&&e.readable,a=r.writable||!1!==r.writable&&e.writable,u=function(){e.writable||f()},c=e._writableState&&e._writableState.finished,f=function(){a=!1,c=!0,o||s.call(e)},h=e._readableState&&e._readableState.endEmitted,l=function(){o=!1,h=!0,a||s.call(e)},d=function(t){s.call(e,t)},p=function(){var t;return o&&!h?(e._readableState&&e._readableState.ended||(t=new n),s.call(e,t)):a&&!c?(e._writableState&&e._writableState.ended||(t=new n),s.call(e,t)):void 0},g=function(){e.req.on("finish",f)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",f),e.on("abort",p),e.req?g():e.on("request",g)):a&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",l),e.on("finish",f),!1!==r.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",f),e.removeListener("abort",p),e.removeListener("request",g),e.req&&e.req.removeListener("finish",f),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",f),e.removeListener("end",l),e.removeListener("error",d),e.removeListener("close",p)}}},5167:t=>{t.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(t,e,r)=>{"use strict";var n,i=r(4281).q,s=i.ERR_MISSING_ARGS,o=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function u(t){t()}function c(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var f,h=function(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new s("streams");var l=e.map((function(t,i){var s=i<e.length-1;return function(t,e,i,s){s=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(s);var a=!1;t.on("close",(function(){a=!0})),void 0===n&&(n=r(8610)),n(t,{readable:e,writable:i},(function(t){if(t)return s(t);a=!0,s()}));var u=!1;return function(e){if(!a&&!u)return u=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void s(e||new o("pipe"))}}(t,s,i>0,(function(t){f||(f=t),t&&l.forEach(u),s||(l.forEach(u),h(f))}))}));return e.reduce(c)}},2457:(t,e,r)=>{"use strict";var n=r(4281).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,r,i){var s=function(t,e,r){return null!=t.highWaterMark?t.highWaterMark:e?t[r]:null}(e,i,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new n(i?r:"highWaterMark",s);return Math.floor(s)}return t.objectMode?16:16384}}},2503:(t,e,r)=>{t.exports=r(7187).EventEmitter},8473:(t,e,r)=>{(e=t.exports=r(9481)).Stream=e,e.Readable=e,e.Writable=r(4229),e.Duplex=r(6753),e.Transform=r(4605),e.PassThrough=r(2725),e.finished=r(8610),e.pipeline=r(9946)},9785:(t,e,r)=>{"use strict";var n=r(8764).Buffer,i=r(5717),s=r(3349),o=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],l=[1352829926,1548603684,1836072691,2053994217,0];function d(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function g(t,e,r,n,i,s,o,a){return p(t+(e^r^n)+s+o|0,a)+i|0}function y(t,e,r,n,i,s,o,a){return p(t+(e&r|~e&n)+s+o|0,a)+i|0}function m(t,e,r,n,i,s,o,a){return p(t+((e|~r)^n)+s+o|0,a)+i|0}function b(t,e,r,n,i,s,o,a){return p(t+(e&n|r&~n)+s+o|0,a)+i|0}function v(t,e,r,n,i,s,o,a){return p(t+(e^(r|~n))+s+o|0,a)+i|0}i(d,s),d.prototype._update=function(){for(var t=o,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,d=0|this._e,w=0|this._a,S=0|this._b,E=0|this._c,x=0|this._d,_=0|this._e,A=0;A<80;A+=1){var P,I;A<16?(P=g(r,n,i,s,d,t[a[A]],h[0],c[A]),I=v(w,S,E,x,_,t[u[A]],l[0],f[A])):A<32?(P=y(r,n,i,s,d,t[a[A]],h[1],c[A]),I=b(w,S,E,x,_,t[u[A]],l[1],f[A])):A<48?(P=m(r,n,i,s,d,t[a[A]],h[2],c[A]),I=m(w,S,E,x,_,t[u[A]],l[2],f[A])):A<64?(P=b(r,n,i,s,d,t[a[A]],h[3],c[A]),I=y(w,S,E,x,_,t[u[A]],l[3],f[A])):(P=v(r,n,i,s,d,t[a[A]],h[4],c[A]),I=g(w,S,E,x,_,t[u[A]],l[4],f[A])),r=d,d=s,s=p(i,10),i=n,n=P,w=_,_=x,x=p(E,10),E=S,S=I}var T=this._b+i+x|0;this._b=this._c+s+_|0,this._c=this._d+d+w|0,this._d=this._e+r+S|0,this._e=this._a+n+E|0,this._a=T},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=n.alloc?n.alloc(20):new n(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=d},9509:(t,e,r)=>{var n=r(8764),i=n.Buffer;function s(t,e){for(var r in t)e[r]=t[r]}function o(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(s(n,e),e.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},o.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},4189:(t,e,r)=>{var n=r(9509).Buffer;function i(t,e){this._block=n.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=n.from(t,e));for(var r=this._block,i=this._blockSize,s=t.length,o=this._len,a=0;a<s;){for(var u=o%i,c=Math.min(s-a,i-u),f=0;f<c;f++)r[u+f]=t[a+f];a+=c,(o+=c)%i==0&&this._update(r)}return this._len+=s,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},9072:(t,e,r)=>{var n=t.exports=function(t){t=t.toLowerCase();var e=n[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};n.sha=r(4448),n.sha1=r(8336),n.sha224=r(8432),n.sha256=r(7499),n.sha384=r(1686),n.sha512=r(7816)},4448:(t,e,r)=>{var n=r(5717),i=r(4189),s=r(9509).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<30|t>>>2}function f(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,u=0|this._e,h=0;h<16;++h)r[h]=t.readInt32BE(4*h);for(;h<80;++h)r[h]=r[h-3]^r[h-8]^r[h-14]^r[h-16];for(var l=0;l<80;++l){var d=~~(l/20),p=0|((e=n)<<5|e>>>27)+f(d,i,s,a)+u+r[l]+o[d];u=a,a=s,s=c(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},8336:(t,e,r)=>{var n=r(5717),i=r(4189),s=r(9509).Buffer,o=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<5|t>>>27}function f(t){return t<<30|t>>>2}function h(t,e,r,n){return 0===t?e&r|~e&n:2===t?e&r|e&n|r&n:e^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,u=0|this._e,l=0;l<16;++l)r[l]=t.readInt32BE(4*l);for(;l<80;++l)r[l]=(e=r[l-3]^r[l-8]^r[l-14]^r[l-16])<<1|e>>>31;for(var d=0;d<80;++d){var p=~~(d/20),g=c(n)+h(p,i,s,a)+u+r[d]+o[p]|0;u=a,a=s,s=f(i),i=n,n=g}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var t=s.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=u},8432:(t,e,r)=>{var n=r(5717),i=r(7499),s=r(4189),o=r(9509).Buffer,a=new Array(64);function u(){this.init(),this._w=a,s.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var t=o.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=u},7499:(t,e,r)=>{var n=r(5717),i=r(4189),s=r(9509).Buffer,o=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(t,e,r){return r^t&(e^r)}function f(t,e,r){return t&e|r&(t|e)}function h(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function l(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(t){for(var e,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,a=0|this._d,u=0|this._e,p=0|this._f,g=0|this._g,y=0|this._h,m=0;m<16;++m)r[m]=t.readInt32BE(4*m);for(;m<64;++m)r[m]=0|(((e=r[m-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+r[m-7]+d(r[m-15])+r[m-16];for(var b=0;b<64;++b){var v=y+l(u)+c(u,p,g)+o[b]+r[b]|0,w=h(n)+f(n,i,s)|0;y=g,g=p,p=u,u=a+v|0,a=s,s=i,i=n,n=v+w|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=g+this._g|0,this._h=y+this._h|0},u.prototype._hash=function(){var t=s.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=u},1686:(t,e,r)=>{var n=r(5717),i=r(7816),s=r(4189),o=r(9509).Buffer,a=new Array(160);function u(){this.init(),this._w=a,s.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var t=o.allocUnsafe(48);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=u},7816:(t,e,r)=>{var n=r(5717),i=r(4189),s=r(9509).Buffer,o=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,i.call(this,128,112)}function c(t,e,r){return r^t&(e^r)}function f(t,e,r){return t&e|r&(t|e)}function h(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function l(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function y(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function m(t,e){return t>>>0<e>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(t){for(var e=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,s=0|this._dh,a=0|this._eh,u=0|this._fh,b=0|this._gh,v=0|this._hh,w=0|this._al,S=0|this._bl,E=0|this._cl,x=0|this._dl,_=0|this._el,A=0|this._fl,P=0|this._gl,I=0|this._hl,T=0;T<32;T+=2)e[T]=t.readInt32BE(4*T),e[T+1]=t.readInt32BE(4*T+4);for(;T<160;T+=2){var O=e[T-30],B=e[T-30+1],k=d(O,B),F=p(B,O),R=g(O=e[T-4],B=e[T-4+1]),N=y(B,O),C=e[T-14],M=e[T-14+1],D=e[T-32],H=e[T-32+1],j=F+M|0,L=k+C+m(j,F)|0;L=(L=L+R+m(j=j+N|0,N)|0)+D+m(j=j+H|0,H)|0,e[T]=L,e[T+1]=j}for(var U=0;U<160;U+=2){L=e[U],j=e[U+1];var K=f(r,n,i),V=f(w,S,E),q=h(r,w),z=h(w,r),W=l(a,_),G=l(_,a),$=o[U],X=o[U+1],J=c(a,u,b),Z=c(_,A,P),Y=I+G|0,Q=v+W+m(Y,I)|0;Q=(Q=(Q=Q+J+m(Y=Y+Z|0,Z)|0)+$+m(Y=Y+X|0,X)|0)+L+m(Y=Y+j|0,j)|0;var tt=z+V|0,et=q+K+m(tt,z)|0;v=b,I=P,b=u,P=A,u=a,A=_,a=s+Q+m(_=x+Y|0,x)|0,s=i,x=E,i=n,E=S,n=r,S=w,r=Q+et+m(w=Y+tt|0,Y)|0}this._al=this._al+w|0,this._bl=this._bl+S|0,this._cl=this._cl+E|0,this._dl=this._dl+x|0,this._el=this._el+_|0,this._fl=this._fl+A|0,this._gl=this._gl+P|0,this._hl=this._hl+I|0,this._ah=this._ah+r+m(this._al,w)|0,this._bh=this._bh+n+m(this._bl,S)|0,this._ch=this._ch+i+m(this._cl,E)|0,this._dh=this._dh+s+m(this._dl,x)|0,this._eh=this._eh+a+m(this._el,_)|0,this._fh=this._fh+u+m(this._fl,A)|0,this._gh=this._gh+b+m(this._gl,P)|0,this._hh=this._hh+v+m(this._hl,I)|0},u.prototype._hash=function(){var t=s.allocUnsafe(64);function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=u},2830:(t,e,r)=>{t.exports=i;var n=r(7187).EventEmitter;function i(){n.call(this)}r(5717)(i,n),i.Readable=r(9481),i.Writable=r(4229),i.Duplex=r(6753),i.Transform=r(4605),i.PassThrough=r(2725),i.finished=r(8610),i.pipeline=r(9946),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",s),t._isStdio||e&&!1===e.end||(r.on("end",a),r.on("close",u));var o=!1;function a(){o||(o=!0,t.end())}function u(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(f(),0===n.listenerCount(this,"error"))throw t}function f(){r.removeListener("data",i),t.removeListener("drain",s),r.removeListener("end",a),r.removeListener("close",u),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",f),r.removeListener("close",f),t.removeListener("close",f)}return r.on("error",c),t.on("error",c),r.on("end",f),r.on("close",f),t.on("close",f),t.emit("pipe",r),t}},2553:(t,e,r)=>{"use strict";var n=r(9509).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=f,this.end=h,e=3;break;default:return this.write=l,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function f(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function l(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.s=s,s.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},s.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=o(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||-2===i?0:(i=o(e[n]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},3607:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{u(n.next(t))}catch(t){s(t)}}function a(t){try{u(n.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}u((n=n.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=r(5397),o=r(9693),a=r(9882),u=function(){function t(){}return t.prototype.getPrivateKey=function(t,e,r,o){return n(this,void 0,void 0,(function(){var n,a;return i(this,(function(i){switch(i.label){case 0:return[4,(n=o?new s.TBtcWallet:new s.BtcWallet).getDerivedPath({index:r,segwitType:e})];case 1:return a=i.sent(),[4,n.getDerivedPrivateKey({mnemonic:t,hdPath:a})];case 2:return[2,{privateKey:i.sent()}]}}))}))},t.prototype.getAddress=function(t,e,r){return n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,(r?new s.TBtcWallet:new s.BtcWallet).getNewAddress({privateKey:t,addressType:e})];case 1:return[2,{address:n.sent().address}]}}))}))},t.prototype.validAddress=function(t,e){return n(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,(e?new s.TBtcWallet:new s.BtcWallet).validAddress({address:t})];case 1:return[2,{valid:r.sent().isValid}]}}))}))},t.prototype.inscribe=function(t,e){return n(this,void 0,void 0,(function(){var r,n;return i(this,(function(i){switch(i.label){case 0:return[4,this.inscribeSelectUtxoTxAndFee(t,e)];case 1:return(r=i.sent()).fixRequest,n=r.inscribeTxs,console.log("inscribeTx",n),[2,n]}}))}))},t.prototype.signTransaction=function(t,e){return n(this,void 0,void 0,(function(){var r,n,o,a;return i(this,(function(i){switch(i.label){case 0:return r=e?new s.TBtcWallet:new s.BtcWallet,[4,this.transferSelectUtxoTxAndFee(t.data,e)];case 1:return n=i.sent(),o=n.utxoTx,n.fee,t.data=o,[4,r.signTransaction(t)];case 2:return a=i.sent(),console.log("signTx",a),[2,{tx:a}]}}))}))},t.prototype.calcTxHash=function(t,e){return n(this,void 0,void 0,(function(){var r,n;return i(this,(function(i){switch(i.label){case 0:return r=e?new s.TBtcWallet:new s.BtcWallet,n={data:t},[4,r.calcTxHash(n)];case 1:return[2,{txHash:i.sent()}]}}))}))},t.prototype.estimateFee=function(t,e){return n(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return[4,(e?new s.TBtcWallet:new s.BtcWallet).estimateFee(t)];case 1:return[2,{fee:r.sent()}]}}))}))},t.prototype.inscribeSelectUtxoTxAndFee=function(t,e){return n(this,void 0,void 0,(function(){var r,n,a,u,c,f,h;return i(this,(function(i){for(r=e?s.networks.testnet:s.networks.bitcoin,n=[],a=0;a<t.commitTxPrevOutputList.length;a++)if(null!=(u=t.commitTxPrevOutputList[a]).privateKey&&0!=u.privateKey.length||(c=(0,s.private2Wif)(o.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),r),u.privateKey=c),n.push(u),(f={commitTxPrevOutputList:n,commitFeeRate:t.commitFeeRate,revealFeeRate:t.revealFeeRate,inscriptionDataList:t.inscriptionDataList,revealOutValue:t.revealOutValue,changeAddress:t.changeAddress,minChangeValue:t.minChangeValue}).commitTxPrevOutputList=n,0!=(h=(0,s.inscribe)(r,f)).commitTx.length)return console.log("inscribe",f,h),[2,Promise.resolve({fixRequest:f,inscribeTxs:h})];return[2,Promise.reject("insufficientFunds")]}))}))},t.prototype.transferSelectUtxoTxAndFee=function(t,e){return n(this,void 0,void 0,(function(){var r,n,o,a,u,c,f,h,l,d,p,g,y,m,b;return i(this,(function(i){for(r=e?s.networks.testnet:s.networks.bitcoin,n=0,d=0;d<t.outputs.length;d++)m=t.outputs[d],n+=m.amount;for(o=t.inputs.sort(this.descending("amount")),a=[],null!=t.brc20Inputs&&0!=t.brc20Inputs.length&&(a=a.concat(t.brc20Inputs)),u=0,c=0;c<o.length;c++)if(a.push(o[c]),f=(0,s.convert2UtxoTx)({inputs:a,outputs:t.outputs,address:t.address,feePerB:t.feePerB}),p=o[c],u+=p.amount,h=(0,s.estimateBtcFee)(f,r),u>=n+h)return console.log("transfer",f,h),[2,Promise.resolve({utxoTx:f,fee:h})];if(null!=t.brc20Inputs&&0!=t.brc20Inputs.length)return[2,Promise.reject("insufficientFunds")];for(l=0,d=0;d<t.inputs.length;d++)p=t.inputs[d],l+=p.amount;return g=(0,s.convert2UtxoTx)({inputs:t.inputs,outputs:t.outputs,address:t.address,feePerB:t.feePerB}),y=(0,s.estimateBtcFee)(g,r),l>y+546?((m=t.outputs[0]).amount=l-y,b=(0,s.convert2UtxoTx)({inputs:t.inputs,outputs:[m],address:t.address,feePerB:t.feePerB}),console.log("transferAll",b,y),[2,Promise.resolve({utxoTx:b,fee:y})]):[2,Promise.reject("insufficientFunds")]}))}))},t.prototype.descending=function(t){return function(e,r){var n=e[t];return r[t]-n}},t.prototype.executeJsMethod=function(t){return n(this,void 0,void 0,(function(){var e,r,n,s,o,u,c,f,h,l,d,p,g,y,m,b,v,w;return i(this,(function(i){switch(i.label){case 0:r=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),e=r?t:JSON.parse(t),n=e.data.isTest,i.label=1;case 1:switch(i.trys.push([1,21,,22]),e.method){case"getPrivateKey":return[3,2];case"getAddress":return[3,4];case"validAddress":return[3,6];case"inscribe":return[3,8];case"signTransaction":return[3,10];case"calcTxHash":return[3,12];case"estimateFee":return[3,13];case"transferSelectUtxoTxAndFee":return[3,15];case"inscribeSelectUtxoTxAndFee":return[3,17]}return[3,19];case 2:return o=e.data.mnemonic,u=e.data.segwitType,c=e.data.index,[4,this.getPrivateKey(o,u,c,n)];case 3:return s=i.sent(),[3,20];case 4:return f=e.data.privateKey,h=e.data.addressType,[4,this.getAddress(f,h,n)];case 5:return s=i.sent(),[3,20];case 6:return l=e.data.address,[4,this.validAddress(l,n)];case 7:return s=i.sent(),[3,20];case 8:return d=e.data.request,[4,this.inscribe(d,n)];case 9:return s=i.sent(),[3,20];case 10:return p=e.data.signTxParams,[4,this.signTransaction(p,n)];case 11:return s=i.sent(),[3,20];case 12:return g=e.data.tx,s=this.calcTxHash(g,n),[3,20];case 13:return y=e.data.signTxParams,[4,this.estimateFee(y,n)];case 14:return s=i.sent(),[3,20];case 15:return m=e.data.signTxParams.data,[4,this.transferSelectUtxoTxAndFee(m,n)];case 16:return s=i.sent(),[3,20];case 17:return b=e.data.request,[4,this.inscribeSelectUtxoTxAndFee(b,n)];case 18:return s=i.sent(),[3,20];case 19:return[3,20];case 20:return w={id:e.id,method:e.method,data:s},a.Utils.postMsg(w),[3,22];case 21:return v=i.sent(),w={id:e.id,method:e.method,data:{error:v}},a.Utils.postMsg(w),[3,22];case 22:return[2]}}))}))},t}();e.default=u,window.ontoBitcoin=new u},9882:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Utils=void 0;var r=function(){function t(){}return t.postMsg=function(t){try{this.log(t);var e=JSON.stringify(t);this.getClientIdentity()==this.IOS?window.webkit.messageHandlers.BtcWallet.postMessage(t):this.getClientIdentity()==this.ANDROID?window.BtcWallet.postMessage(e):postMessage(e),this.log(e)}catch(t){this.log("post message error")}},t.log=function(t){this.isDebug&&console.log(t)},t.getClientIdentity=function(){return/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?this.IOS:/(Android)/i.test(navigator.userAgent)?this.ANDROID:this.PC},t.PC=0,t.IOS=1,t.ANDROID=2,t.isDebug=!1,t}();e.Utils=r},6647:(t,e,r)=>{var n=r(247);function i(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}function s(t){return n.Nil(t)?"":i(t.constructor)}function o(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}function a(t){return n.Function(t)?t.toJSON?t.toJSON():i(t):n.Array(t)?"Array":t&&n.Object(t)?"Object":void 0!==t?t:""}function u(t,e,r){var i=function(t){return n.Function(t)?"":n.String(t)?JSON.stringify(t):t&&n.Object(t)?"":t}(e);return"Expected "+a(t)+", got"+(""!==r?" "+r:"")+(""!==i?" "+i:"")}function c(t,e,r){r=r||s(e),this.message=u(t,e,r),o(this,c),this.__type=t,this.__value=e,this.__valueTypeName=r}function f(t,e,r,n,i){t?(i=i||s(n),this.message=function(t,e,r,n,i){var s='" of type ';return"key"===e&&(s='" with key type '),u('property "'+a(r)+s+a(t),n,i)}(t,r,e,n,i)):this.message='Unexpected property "'+e+'"',o(this,c),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=i}c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,f.prototype=Object.create(Error.prototype),f.prototype.constructor=c,t.exports={TfTypeError:c,TfPropertyTypeError:f,tfCustomError:function(t,e){return new c(t,{},e)},tfSubError:function(t,e,r){return t instanceof f?(e=e+"."+t.__property,t=new f(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof c&&(t=new f(t.__type,e,r,t.__value,t.__valueTypeName)),o(t),t},tfJSON:a,getValueTypeName:s}},4307:(t,e,r)=>{var n=r(8764).Buffer,i=r(247),s=r(6647);function o(t){return n.isBuffer(t)}function a(t){return"string"==typeof t&&/^([0-9a-f]{2})+$/i.test(t)}function u(t,e){var r=t.toJSON();function n(n){if(!t(n))return!1;if(n.length===e)return!0;throw s.tfCustomError(r+"(Length: "+e+")",r+"(Length: "+n.length+")")}return n.toJSON=function(){return r},n}var c=u.bind(null,i.Array),f=u.bind(null,o),h=u.bind(null,a),l=u.bind(null,i.String),d=Math.pow(2,53)-1,p={ArrayN:c,Buffer:o,BufferN:f,Finite:function(t){return"number"==typeof t&&isFinite(t)},Hex:a,HexN:h,Int8:function(t){return t<<24>>24===t},Int16:function(t){return t<<16>>16===t},Int32:function(t){return(0|t)===t},Int53:function(t){return"number"==typeof t&&t>=-d&&t<=d&&Math.floor(t)===t},Range:function(t,e,r){function n(n,i){return r(n,i)&&n>t&&n<e}return r=r||i.Number,n.toJSON=function(){return`${r.toJSON()} between [${t}, ${e}]`},n},StringN:l,UInt8:function(t){return(255&t)===t},UInt16:function(t){return(65535&t)===t},UInt32:function(t){return t>>>0===t},UInt53:function(t){return"number"==typeof t&&t>=0&&t<=d&&Math.floor(t)===t}};for(var g in p)p[g].toJSON=function(t){return t}.bind(null,g);t.exports=p},2401:(t,e,r)=>{var n=r(6647),i=r(247),s=n.tfJSON,o=n.TfTypeError,a=n.TfPropertyTypeError,u=n.tfSubError,c=n.getValueTypeName,f={arrayOf:function(t,e){function r(r,n){return!!i.Array(r)&&!i.Nil(r)&&!(void 0!==e.minLength&&r.length<e.minLength)&&!(void 0!==e.maxLength&&r.length>e.maxLength)&&(void 0===e.length||r.length===e.length)&&r.every((function(e,r){try{return l(t,e,n)}catch(t){throw u(t,r)}}))}return t=h(t),e=e||{},r.toJSON=function(){var r="["+s(t)+"]";return void 0!==e.length?r+="{"+e.length+"}":void 0===e.minLength&&void 0===e.maxLength||(r+="{"+(void 0===e.minLength?0:e.minLength)+","+(void 0===e.maxLength?1/0:e.maxLength)+"}"),r},r},maybe:function t(e){function r(r,n){return i.Nil(r)||e(r,n,t)}return e=h(e),r.toJSON=function(){return"?"+s(e)},r},map:function(t,e){function r(r,n){if(!i.Object(r))return!1;if(i.Nil(r))return!1;for(var s in r){try{e&&l(e,s,n)}catch(t){throw u(t,s,"key")}try{var o=r[s];l(t,o,n)}catch(t){throw u(t,s)}}return!0}return t=h(t),e&&(e=h(e)),r.toJSON=e?function(){return"{"+s(e)+": "+s(t)+"}"}:function(){return"{"+s(t)+"}"},r},object:function(t){var e={};for(var r in t)e[r]=h(t[r]);function n(t,r){if(!i.Object(t))return!1;if(i.Nil(t))return!1;var n;try{for(n in e)l(e[n],t[n],r)}catch(t){throw u(t,n)}if(r)for(n in t)if(!e[n])throw new a(void 0,n);return!0}return n.toJSON=function(){return s(e)},n},anyOf:function(){var t=[].slice.call(arguments).map(h);function e(e,r){return t.some((function(t){try{return l(t,e,r)}catch(t){return!1}}))}return e.toJSON=function(){return t.map(s).join("|")},e},allOf:function(){var t=[].slice.call(arguments).map(h);function e(e,r){return t.every((function(t){try{return l(t,e,r)}catch(t){return!1}}))}return e.toJSON=function(){return t.map(s).join(" & ")},e},quacksLike:function(t){function e(e){return t===c(e)}return e.toJSON=function(){return t},e},tuple:function(){var t=[].slice.call(arguments).map(h);function e(e,r){return!i.Nil(e)&&!i.Nil(e.length)&&(!r||e.length===t.length)&&t.every((function(t,n){try{return l(t,e[n],r)}catch(t){throw u(t,n)}}))}return e.toJSON=function(){return"("+t.map(s).join(", ")+")"},e},value:function(t){function e(e){return e===t}return e.toJSON=function(){return t},e}};function h(t){if(i.String(t))return"?"===t[0]?f.maybe(t.slice(1)):i[t]||f.quacksLike(t);if(t&&i.Object(t)){if(i.Array(t)){if(1!==t.length)throw new TypeError("Expected compile() parameter of type Array of length 1");return f.arrayOf(t[0])}return f.object(t)}return i.Function(t)?t:f.value(t)}function l(t,e,r,n){if(i.Function(t)){if(t(e,r))return!0;throw new o(n||t,e)}return l(h(t),e,r)}for(var d in f.oneOf=f.anyOf,i)l[d]=i[d];for(d in f)l[d]=f[d];var p=r(4307);for(d in p)l[d]=p[d];l.compile=h,l.TfTypeError=o,l.TfPropertyTypeError=a,t.exports=l},247:t=>{var e={Array:function(t){return null!=t&&t.constructor===Array},Boolean:function(t){return"boolean"==typeof t},Function:function(t){return"function"==typeof t},Nil:function(t){return null==t},Number:function(t){return"number"==typeof t},Object:function(t){return"object"==typeof t},String:function(t){return"string"==typeof t},"":function(){return!0}};for(var r in e.Null=e.Nil,e)e[r].toJSON=function(t){return t}.bind(null,r);t.exports=e},4927:(t,e,r)=>{function n(t){try{if(!r.g.localStorage)return!1}catch(t){return!1}var e=r.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}},7174:(t,e,r)=>{var n=r(8764).Buffer,i=r(8334);function s(t,e){if(void 0!==e&&t[0]!==e)throw new Error("Invalid network version");if(33===t.length)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(34!==t.length)throw new Error("Invalid WIF length");if(1!==t[33])throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}function o(t,e,r){var i=new n(r?34:33);return i.writeUInt8(t,0),e.copy(i,1),r&&(i[33]=1),i}t.exports={decode:function(t,e){return s(i.decode(t),e)},decodeRaw:s,encode:function(t,e,r){return"number"==typeof t?i.encode(o(t,e,r)):i.encode(o(t.version,t.privateKey,t.compressed))},encodeRaw:o}},3094:()=>{},9159:()=>{},6601:()=>{},9214:()=>{},2361:()=>{},4616:()=>{},1583:(t,e)=>{var r,n=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function r(t,e,r){this.low=0|t,this.high=0|e,this.unsigned=!!r}function n(t){return!0===(t&&t.__isLong__)}function i(t){var e=Math.clz32(t&-t);return t?31-e:e}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=n;var s={},o={};function a(t,e){var r,n,i;return e?(i=0<=(t>>>=0)&&t<256)&&(n=o[t])?n:(r=c(t,0,!0),i&&(o[t]=r),r):(i=-128<=(t|=0)&&t<128)&&(n=s[t])?n:(r=c(t,t<0?-1:0,!1),i&&(s[t]=r),r)}function u(t,e){if(isNaN(t))return e?b:m;if(e){if(t<0)return b;if(t>=p)return x}else{if(t<=-g)return _;if(t+1>=g)return E}return t<0?u(-t,e).neg():c(t%d|0,t/d|0,e)}function c(t,e,n){return new r(t,e,n)}r.fromInt=a,r.fromNumber=u,r.fromBits=c;var f=Math.pow;function h(t,e,r){if(0===t.length)throw Error("empty string");if("number"==typeof e?(r=e,e=!1):e=!!e,"NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e?b:m;if((r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return h(t.substring(1),e,r).neg();for(var i=u(f(r,8)),s=m,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),c=parseInt(t.substring(o,o+a),r);if(a<8){var l=u(f(r,a));s=s.mul(l).add(u(c))}else s=(s=s.mul(i)).add(u(c))}return s.unsigned=e,s}function l(t,e){return"number"==typeof t?u(t,e):"string"==typeof t?h(t,e):c(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}r.fromString=h,r.fromValue=l;var d=4294967296,p=d*d,g=p/2,y=a(1<<24),m=a(0);r.ZERO=m;var b=a(0,!0);r.UZERO=b;var v=a(1);r.ONE=v;var w=a(1,!0);r.UONE=w;var S=a(-1);r.NEG_ONE=S;var E=c(-1,2147483647,!1);r.MAX_VALUE=E;var x=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=x;var _=c(0,-2147483648,!1);r.MIN_VALUE=_;var A=r.prototype;A.toInt=function(){return this.unsigned?this.low>>>0:this.low},A.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},A.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var e=u(t),r=this.div(e),n=r.mul(e).sub(this);return r.toString(t)+n.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=u(f(t,6),this.unsigned),s=this,o="";;){var a=s.div(i),c=(s.sub(a.mul(i)).toInt()>>>0).toString(t);if((s=a).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},A.getHighBits=function(){return this.high},A.getHighBitsUnsigned=function(){return this.high>>>0},A.getLowBits=function(){return this.low},A.getLowBitsUnsigned=function(){return this.low>>>0},A.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},A.isZero=function(){return 0===this.high&&0===this.low},A.eqz=A.isZero,A.isNegative=function(){return!this.unsigned&&this.high<0},A.isPositive=function(){return this.unsigned||this.high>=0},A.isOdd=function(){return 1==(1&this.low)},A.isEven=function(){return 0==(1&this.low)},A.equals=function(t){return n(t)||(t=l(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},A.eq=A.equals,A.notEquals=function(t){return!this.eq(t)},A.neq=A.notEquals,A.ne=A.notEquals,A.lessThan=function(t){return this.comp(t)<0},A.lt=A.lessThan,A.lessThanOrEqual=function(t){return this.comp(t)<=0},A.lte=A.lessThanOrEqual,A.le=A.lessThanOrEqual,A.greaterThan=function(t){return this.comp(t)>0},A.gt=A.greaterThan,A.greaterThanOrEqual=function(t){return this.comp(t)>=0},A.gte=A.greaterThanOrEqual,A.ge=A.greaterThanOrEqual,A.compare=function(t){if(n(t)||(t=l(t)),this.eq(t))return 0;var e=this.isNegative(),r=t.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},A.comp=A.compare,A.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(v)},A.neg=A.negate,A.add=function(t){n(t)||(t=l(t));var e=this.high>>>16,r=65535&this.high,i=this.low>>>16,s=65535&this.low,o=t.high>>>16,a=65535&t.high,u=t.low>>>16,f=0,h=0,d=0,p=0;return d+=(p+=s+(65535&t.low))>>>16,h+=(d+=i+u)>>>16,f+=(h+=r+a)>>>16,f+=e+o,c((d&=65535)<<16|(p&=65535),(f&=65535)<<16|(h&=65535),this.unsigned)},A.subtract=function(t){return n(t)||(t=l(t)),this.add(t.neg())},A.sub=A.subtract,A.multiply=function(t){if(this.isZero())return this;if(n(t)||(t=l(t)),e)return c(e.mul(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned);if(t.isZero())return this.unsigned?b:m;if(this.eq(_))return t.isOdd()?_:m;if(t.eq(_))return this.isOdd()?_:m;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(y)&&t.lt(y))return u(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,i=65535&this.high,s=this.low>>>16,o=65535&this.low,a=t.high>>>16,f=65535&t.high,h=t.low>>>16,d=65535&t.low,p=0,g=0,v=0,w=0;return v+=(w+=o*d)>>>16,g+=(v+=s*d)>>>16,v&=65535,g+=(v+=o*h)>>>16,p+=(g+=i*d)>>>16,g&=65535,p+=(g+=s*h)>>>16,g&=65535,p+=(g+=o*f)>>>16,p+=r*d+i*h+s*f+o*a,c((v&=65535)<<16|(w&=65535),(p&=65535)<<16|(g&=65535),this.unsigned)},A.mul=A.multiply,A.divide=function(t){if(n(t)||(t=l(t)),t.isZero())throw Error("division by zero");var r,i,s;if(e)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?c((this.unsigned?e.div_u:e.div_s)(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?b:m;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return b;if(t.gt(this.shru(1)))return w;s=b}else{if(this.eq(_))return t.eq(v)||t.eq(S)?_:t.eq(_)?v:(r=this.shr(1).div(t).shl(1)).eq(m)?t.isNegative()?v:S:(i=this.sub(t.mul(r)),s=r.add(i.div(t)));if(t.eq(_))return this.unsigned?b:m;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();s=m}for(i=this;i.gte(t);){r=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),a=o<=48?1:f(2,o-48),h=u(r),d=h.mul(t);d.isNegative()||d.gt(i);)d=(h=u(r-=a,this.unsigned)).mul(t);h.isZero()&&(h=v),s=s.add(h),i=i.sub(d)}return s},A.div=A.divide,A.modulo=function(t){return n(t)||(t=l(t)),e?c((this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,t.low,t.high),e.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},A.mod=A.modulo,A.rem=A.modulo,A.not=function(){return c(~this.low,~this.high,this.unsigned)},A.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},A.clz=A.countLeadingZeros,A.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},A.ctz=A.countTrailingZeros,A.and=function(t){return n(t)||(t=l(t)),c(this.low&t.low,this.high&t.high,this.unsigned)},A.or=function(t){return n(t)||(t=l(t)),c(this.low|t.low,this.high|t.high,this.unsigned)},A.xor=function(t){return n(t)||(t=l(t)),c(this.low^t.low,this.high^t.high,this.unsigned)},A.shiftLeft=function(t){return n(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?c(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):c(0,this.low<<t-32,this.unsigned)},A.shl=A.shiftLeft,A.shiftRight=function(t){return n(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?c(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):c(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},A.shr=A.shiftRight,A.shiftRightUnsigned=function(t){return n(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?c(this.low>>>t|this.high<<32-t,this.high>>>t,this.unsigned):c(32===t?this.high:this.high>>>t-32,0,this.unsigned)},A.shru=A.shiftRightUnsigned,A.shr_u=A.shiftRightUnsigned,A.rotateLeft=function(t){var e;return n(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?c(this.high,this.low,this.unsigned):t<32?(e=32-t,c(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned)):(e=32-(t-=32),c(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned))},A.rotl=A.rotateLeft,A.rotateRight=function(t){var e;return n(t)&&(t=t.toInt()),0==(t&=63)?this:32===t?c(this.high,this.low,this.unsigned):t<32?(e=32-t,c(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned)):(e=32-(t-=32),c(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned))},A.rotr=A.rotateRight,A.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},A.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},A.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},A.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},A.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},r.fromBytes=function(t,e,n){return n?r.fromBytesLE(t,e):r.fromBytesBE(t,e)},r.fromBytesLE=function(t,e){return new r(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},r.fromBytesBE=function(t,e){return new r(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)};var P=r;return t.default=P,"default"in t?t.default:t}({});void 0===(r=function(){return n}.apply(e,[]))||(t.exports=r)},1745:(t,e,r)=>{"use strict";function n(t,e=!1,r){const n=t.match(/^(0x)?([\da-fA-F]+)$/);if(null==n)throw new RangeError("input must be a hexadecimal string, e.g. '0x124fe3a' or '0214f1b2'");let i=n[2];if(void 0!==r){if(r<i.length/2)throw new RangeError(`expected byte length ${r} < input hex byte length ${Math.ceil(i.length/2)}`);i=i.padStart(2*r,"0")}return e?"0x"+i:i}function i(t,e=!1){if(t<0)throw RangeError("a should be a non-negative integer. Negative values are not supported");return d(o(t),e)}function s(t){let e=8n;ArrayBuffer.isView(t)?e=BigInt(8*t.BYTES_PER_ELEMENT):t=new Uint8Array(t);let r=0n;for(const n of t.values())r=(r<<e)+BigInt(n);return r}function o(t,e=!1,r){if(t<0)throw RangeError("a should be a non-negative integer. Negative values are not supported");return n(t.toString(16),e,r)}function a(t){return BigInt(n(t,!0))}function u(t){if(t<0)throw RangeError("a should be a non-negative integer. Negative values are not supported");return f(d(t.toString(16)))}function c(t){return a(l(h(t)))}function f(t){return(new TextDecoder).decode(new Uint8Array(t))}function h(t,e=!1){return(new TextEncoder).encode(t).buffer}function l(t,e=!1,r){{let i="";const s="0123456789abcdef";return(t=ArrayBuffer.isView(t)?new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)):new Uint8Array(t)).forEach((t=>{i+=s[t>>4]+s[15&t]})),n(i,e,r)}}function d(t,e=!1){let r=n(t);return r=n(t,!1,Math.ceil(r.length/2)),Uint8Array.from(r.match(/[\da-fA-F]{2}/g).map((t=>parseInt(t,16)))).buffer}function p(t,e=!1,r=!0){return function(t,e=!1,r=!0){let n="";return n=(t=>{const e=[];for(let r=0;r<t.length;r+=32768)e.push(String.fromCharCode.apply(null,t.subarray(r,r+32768)));return btoa(e.join(""))})("string"==typeof t?(new TextEncoder).encode(t):new Uint8Array(t)),e&&(n=function(t){return t.replace(/\+/g,"-").replace(/\//g,"_")}(n)),r||(n=n.replace(/=/g,"")),n}(i(t),e,r)}function g(t){return s(function(t,e=!1){{let r=!1;if(/^[0-9a-zA-Z_-]+={0,2}$/.test(t))r=!0;else if(!/^[0-9a-zA-Z+/]*={0,2}$/.test(t))throw new Error("Not a valid base64 input");r&&(t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/=/g,""));const n=new Uint8Array(atob(t).split("").map((t=>t.charCodeAt(0))));return e?(new TextDecoder).decode(n):n}}(t))}r.r(e),r.d(e,{base64ToBigint:()=>g,bigintToBase64:()=>p,bigintToBuf:()=>i,bigintToHex:()=>o,bigintToText:()=>u,bufToBigint:()=>s,bufToHex:()=>l,bufToText:()=>f,hexToBigint:()=>a,hexToBuf:()=>d,parseHex:()=>n,textToBigint:()=>c,textToBuf:()=>h})},553:(t,e,r)=>{"use strict";function n(t){return t>=0?t:-t}function i(t){if("number"==typeof t&&(t=BigInt(t)),1n===t)return 1;let e=1;do{e++}while((t>>=1n)>1n);return e}function s(t,e){if("number"==typeof t&&(t=BigInt(t)),"number"==typeof e&&(e=BigInt(e)),t<=0n||e<=0n)throw new RangeError("a and b MUST be > 0");let r=0n,n=1n,i=1n,s=0n;for(;0n!==t;){const o=e/t,a=e%t,u=r-i*o,c=n-s*o;e=t,t=a,r=i,n=s,i=u,s=c}return{g:e,x:r,y:n}}function o(t,e){if("number"==typeof t&&(t=BigInt(t)),"number"==typeof e&&(e=BigInt(e)),e<=0n)throw new RangeError("n must be > 0");const r=t%e;return r<0n?r+e:r}function a(t,e){const r=s(o(t,e),e);if(1n!==r.g)throw new RangeError(`${t.toString()} does not have inverse modulo ${e.toString()}`);return o(r.x,e)}function u(t,e,r){if(t.length!==e.length)throw new RangeError("The remainders and modulos arrays should have the same length");const n=r??e.reduce(((t,e)=>t*e),1n);return e.reduce(((e,r,i)=>{const s=n/r;return o(e+s*a(s,r)%n*t[i]%n,n)}),0n)}function c(t,e){let r="number"==typeof t?BigInt(n(t)):n(t),i="number"==typeof e?BigInt(n(e)):n(e);if(0n===r)return i;if(0n===i)return r;let s=0n;for(;0n===(1n&(r|i));)r>>=1n,i>>=1n,s++;for(;0n===(1n&r);)r>>=1n;do{for(;0n===(1n&i);)i>>=1n;if(r>i){const t=r;r=i,i=t}i-=r}while(0n!==i);return r<<s}function f(t,e){return"number"==typeof t&&(t=BigInt(t)),"number"==typeof e&&(e=BigInt(e)),0n===t&&0n===e?BigInt(0):n(t/c(t,e)*e)}function h(t,e){return t>=e?t:e}function l(t,e){return t>=e?e:t}function d(t,e){const r=BigInt(e);return o(t.map((t=>BigInt(t)%r)).reduce(((t,e)=>t+e%r),0n),r)}function p(t,e){const r=BigInt(e);return o(t.map((t=>BigInt(t)%r)).reduce(((t,e)=>t*e%r),1n),r)}function g(t){return t.map((t=>t[0]**(t[1]-1n)*(t[0]-1n))).reduce(((t,e)=>e*t),1n)}function y(t,e,r,i){if("number"==typeof t&&(t=BigInt(t)),"number"==typeof e&&(e=BigInt(e)),"number"==typeof r&&(r=BigInt(r)),r<=0n)throw new RangeError("n must be > 0");if(1n===r)return 0n;if(t=o(t,r),e<0n)return a(y(t,n(e),r,i),r);if(void 0!==i)return function(t,e,r,n){const i=n.map((t=>t[0]**t[1])),s=n.map((t=>g([t]))),o=s.map(((r,n)=>y(t,e%r,i[n])));return u(o,i,r)}(t,e,r,function(t){const e={};return t.forEach((t=>{if("bigint"==typeof t||"number"==typeof t){const r=String(t);void 0===e[r]?e[r]={p:BigInt(t),k:1n}:e[r].k+=1n}else{const r=String(t[0]);void 0===e[r]?e[r]={p:BigInt(t[0]),k:BigInt(t[1])}:e[r].k+=BigInt(t[1])}})),Object.values(e).map((t=>[t.p,t.k]))}(i));let s=1n;for(;e>0;)e%2n===1n&&(s=s*t%r),e/=2n,t=t**2n%r;return s}function m(t){let e=0n;for(const r of t.values())e=(e<<8n)+BigInt(r);return e}function b(t,e=!1){if(t<1)throw new RangeError("byteLength MUST be > 0");return new Promise((function(r,n){{const n=new Uint8Array(t);if(t<=65536)self.crypto.getRandomValues(n);else for(let e=0;e<Math.ceil(t/65536);e++){const r=65536*e,i=r+65535<t?r+65535:t-1;self.crypto.getRandomValues(n.subarray(r,i))}e&&(n[0]=128|n[0]),r(n)}}))}function v(t,e=!1){if(t<1)throw new RangeError("byteLength MUST be > 0");{const r=new Uint8Array(t);if(t<=65536)self.crypto.getRandomValues(r);else for(let e=0;e<Math.ceil(t/65536);e++){const n=65536*e,i=n+65535<t?n+65535:t-1;self.crypto.getRandomValues(r.subarray(n,i))}return e&&(r[0]=128|r[0]),r}}function w(t,e=!1){if(t<1)throw new RangeError("bitLength MUST be > 0");const r=Math.ceil(t/8),n=t%8;return new Promise(((t,i)=>{b(r,!1).then((function(r){if(0!==n&&(r[0]=r[0]&2**n-1),e){const t=0!==n?2**(n-1):128;r[0]=r[0]|t}t(r)}))}))}function S(t,e=!1){if(t<1)throw new RangeError("bitLength MUST be > 0");const r=v(Math.ceil(t/8),!1),n=t%8;if(0!==n&&(r[0]=r[0]&2**n-1),e){const t=0!==n?2**(n-1):128;r[0]=r[0]|t}return r}function E(t,e=1n){if(t<=e)throw new RangeError("Arguments MUST be: max > min");const r=t-e,n=i(r);let s;do{s=m(S(n))}while(s>r);return s+e}r.r(e),r.d(e,{abs:()=>n,bitLength:()=>i,crt:()=>u,eGcd:()=>s,gcd:()=>c,isProbablyPrime:()=>_,lcm:()=>f,max:()=>h,min:()=>l,modAdd:()=>d,modInv:()=>a,modMultiply:()=>p,modPow:()=>y,phi:()=>g,prime:()=>I,primeSync:()=>T,randBetween:()=>E,randBits:()=>w,randBitsSync:()=>S,randBytes:()=>b,randBytesSync:()=>v,toZn:()=>o});let x=!1;function _(t,e=16,r=!1){if("number"==typeof t&&(t=BigInt(t)),t<0n)throw RangeError("w MUST be >= 0");return new Promise(((r,n)=>{const i=new Worker(P());i.onmessage=t=>{void 0!==t?.data?._bcu?.isPrime&&(i.terminate(),r(t.data._bcu.isPrime))},i.onmessageerror=t=>{n(t)};const s={_bcu:{rnd:t,iterations:e,id:0}};i.postMessage(s)}))}function A(t,e){if(2n===t)return!0;if(0n===(1n&t)||1n===t)return!1;const r=[3n,5n,7n,11n,13n,17n,19n,23n,29n,31n,37n,41n,43n,47n,53n,59n,61n,67n,71n,73n,79n,83n,89n,97n,101n,103n,107n,109n,113n,127n,131n,137n,139n,149n,151n,157n,163n,167n,173n,179n,181n,191n,193n,197n,199n,211n,223n,227n,229n,233n,239n,241n,251n,257n,263n,269n,271n,277n,281n,283n,293n,307n,311n,313n,317n,331n,337n,347n,349n,353n,359n,367n,373n,379n,383n,389n,397n,401n,409n,419n,421n,431n,433n,439n,443n,449n,457n,461n,463n,467n,479n,487n,491n,499n,503n,509n,521n,523n,541n,547n,557n,563n,569n,571n,577n,587n,593n,599n,601n,607n,613n,617n,619n,631n,641n,643n,647n,653n,659n,661n,673n,677n,683n,691n,701n,709n,719n,727n,733n,739n,743n,751n,757n,761n,769n,773n,787n,797n,809n,811n,821n,823n,827n,829n,839n,853n,857n,859n,863n,877n,881n,883n,887n,907n,911n,919n,929n,937n,941n,947n,953n,967n,971n,977n,983n,991n,997n,1009n,1013n,1019n,1021n,1031n,1033n,1039n,1049n,1051n,1061n,1063n,1069n,1087n,1091n,1093n,1097n,1103n,1109n,1117n,1123n,1129n,1151n,1153n,1163n,1171n,1181n,1187n,1193n,1201n,1213n,1217n,1223n,1229n,1231n,1237n,1249n,1259n,1277n,1279n,1283n,1289n,1291n,1297n,1301n,1303n,1307n,1319n,1321n,1327n,1361n,1367n,1373n,1381n,1399n,1409n,1423n,1427n,1429n,1433n,1439n,1447n,1451n,1453n,1459n,1471n,1481n,1483n,1487n,1489n,1493n,1499n,1511n,1523n,1531n,1543n,1549n,1553n,1559n,1567n,1571n,1579n,1583n,1597n];for(let e=0;e<r.length&&r[e]<=t;e++){const n=r[e];if(t===n)return!0;if(t%n===0n)return!1}let n=0n;const i=t-1n;let s=i;for(;s%2n===0n;)s/=2n,++n;const o=i/2n**n;do{let e=y(E(i,2n),o,t);if(1n===e||e===i)continue;let r=1;for(;r<n&&(e=y(e,2n,t),e!==i);){if(1n===e)return!1;r++}if(e!==i)return!1}while(0!=--e);return!0}function P(){let t=`\n  'use strict';\n  const ${s.name} = ${s.toString()};\n  const ${a.name} = ${a.toString()};\n  const ${y.name} = ${y.toString()};\n  const ${o.name} = ${o.toString()};\n  const ${S.name} = ${S.toString()};\n  const ${v.name} = ${v.toString()};\n  const ${E.name} = ${E.toString()};\n  const ${_.name} = ${A.toString()};\n  ${i.toString()};\n  ${m.toString()};`;return t+=`\n  onmessage = async function(msg) {\n    if (msg !== undefined && msg.data !== undefined && msg.data._bcu !== undefined && msg.data._bcu.id !== undefined && msg.data._bcu.iterations !== undefined && msg.data._bcu.rnd !== undefined) {\n      const msgToParent = {\n        _bcu: {\n          isPrime: await ${_.name}(msg.data._bcu.rnd, msg.data._bcu.iterations),\n          value: msg.data._bcu.rnd,\n          id: msg.data._bcu.id\n        }\n      };\n      postMessage(msgToParent);\n    }\n  }`,function(t){t=`(() => {${t}})()`;const e=new Blob([t],{type:"text/javascript"});return window.URL.createObjectURL(e)}(t)}function I(t,e=16){if(t<1)throw new RangeError("bitLength MUST be > 0");if(!x){let r=0n;do{r=m(S(t,!0))}while(!A(r,e));return new Promise((t=>{t(r)}))}return new Promise(((r,n)=>{const i=[],s=(n,s)=>{if(n._bcu.isPrime){for(let t=0;t<i.length;t++)i[t].terminate();for(;i.length>0;)i.pop();r(n._bcu.value)}else{const r=m(S(t,!0));try{const t={_bcu:{rnd:r,iterations:e,id:n._bcu.id}};s.postMessage(t)}catch(t){}}};{const t=P();for(let e=0;e<self.navigator.hardwareConcurrency-1;e++){const e=new Worker(t);e.onmessage=t=>s(t.data,e),i.push(e)}}for(let r=0;r<i.length;r++)w(t,!0).then((function(t){const n=m(t);i[r].postMessage({_bcu:{rnd:n,iterations:e,id:r}})})).catch(n)}))}function T(t,e=16){if(t<1)throw new RangeError("bitLength MUST be > 0");let r=0n;do{r=m(S(t,!0))}while(!A(r,e));return r}void 0!==self.Worker&&(x=!0)},2254:t=>{"use strict";t.exports=JSON.parse('["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"]')}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.d=(t,e)=>{for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__=__webpack_require__(3607);bitcoin=__webpack_exports__})();